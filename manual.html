<!DOCTYPE html>
<!-- saved from url=(0078)#anchor-42 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link href="./manual_files/css" rel="stylesheet" type="text/css"><link href="./manual_files/css(1)" rel="stylesheet" type="text/css"><link rel="stylesheet" href="./manual_files/manual.css"><link rel="stylesheet" type="text/css" media="print" href="./manual_files/print.css"></head><body><div class="main-wrap"><img src="./manual_files/Front-Cover.jpg" class="fcover"><div class="content-wrap"><a name="anchor-2"></a><h1>1. Installing</h1><p>In this section we'll get you set up to run Construct 2.  We'll look at <a href="#anchor-3">downloading and updating Construct 2</a>, then the <a href="#anchor-4">installation process</a>, how to <a href="#anchor-14">use your license</a> if you have bought one, and a reminder of the <a href="#anchor-6">system requirements</a>.</p><a name="anchor-3"></a><h2>1.1 Get Construct 2</h2><h3>Downloading from the site</h3><p>To download the latest release of Construct 2 you can visit:<br><a href="http://www.scirra.com/construct2/releases/new" target="_blank">http://www.scirra.com/construct2/releases/new ⇗</a><br>This URL will always point you to the latest build.</p><p>We recommend you always <strong>stay up to date</strong> and use the latest version of Construct 2.  This will prevent you encountering problems that have already been fixed.  There are three ways to be notified of new releases:</p><h3>Email notifications</h3><p>If you would like to be notified when a new build is released then you may want to sign up to our new releases mailing list.  To do so, log into your account and visit your 'Me' page:<br><a href="http://www.scirra.com/me" target="_blank">http://www.scirra.com/me ⇗</a><br>Tick the <em>Construct 2 new releases</em> box under <strong>Your subscriptions</strong>.  We'll automatically send you an email whenever a new release is published.  We won't send you any other mail at all other than release notifications if you only tick this box, and you can unsubscribe at any time by unticking the same box in your profile.  We hate spam too!</p><h3>Update alerts in Construct 2</h3><p>If you use Construct 2 on an internet-connected computer, Construct 2 itself will alert you if a new release is available.  Usually this is a little slower - it may be a couple of days after the release until Construct 2 notifies you of a new release this way.  You can change your update notification preference in the <a href="#anchor-61">Preferences dialog</a>.</p><h3>Social updates</h3><p>We have a <a href="http://www.facebook.com/ScirraOfficial" target="_blank">Facebook page ⇗</a>, <a href="https://twitter.com/#!/Scirra" target="_blank">Twitter account ⇗</a> and <a href="https://plus.google.com/105404553461194404336/posts" target="_blank">Google+ page ⇗</a>.  If you use any of these services you can follow or add us.  We post updates to these pages whenever we publish a new release, as well as other news that might interest you.</p><h3>Beta updates</h3><p>Beta releases of Construct 2 are not quite ready for prime time, but are released sooner and more regularly than stable releases.  If you want to help test these releases, at the risk of possible bugs or crashes, you can find beta releases in the <a href="http://www.scirra.com/construct2/releases" target="_blank">releases list ⇗</a> or set Construct 2 to tell you about beta updates in the <a href="#anchor-61">Preferences dialog</a>.</p><a name="anchor-4"></a><h2>1.2 Installing Construct 2</h2><p>Once you've downloaded Construct 2, the Setup will begin to install it to your computer.  Click <strong>Next &gt;</strong> to advance through the steps.</p><p>Your browser or Windows may show a security warning before running the setup.  You should check the publisher is listed as <strong>Scirra Ltd</strong> before running.  This helps ensure the setup is a genuine Construct 2 setup from Scirra and not something malicious from a third party.</p><h3>Portable installation</h3><p>Construct 2 can be used as portable software.  In other words, you can install it to a removable drive (like a USB stick) and use it on any computer.  If you want to do this, set the install folder to a folder on your removable drive.</p><h3>32-bit and 64-bit versions</h3><p>There are both 32-bit (for older computers) and 64-bit (for newer computers) versions of Construct 2.  If you're not sure you can leave the setup to auto-detect.  However, if you're installing to a removable drive, you may want to specifically install the 32-bit version.  This is because the 32-bit version will run on both 32-bit and 64-bit computers, but the 64-bit version will <em>not</em> run on 32-bit computers.</p><h3>Limited user accounts</h3><p>Construct 2 can still be installed on limited user accounts without administrative access.  This is common in workplaces, schools, universities, libraries and other public access computers.  You should still be able to download and install Construct 2 on a limited user account, as long as other restrictions are not in place.  In this case the setup cannot access the <em>Program Files</em> directory.  Instead it will install to a folder in your user account.  Other users may have to install the software for themselves as well.  Some systems will also uninstall the software when you log out; you may need to reinstall every time you log in.</p><p>If setup fails due to other limitations (e.g. not being allowed to download EXEs from the internet), try a portable installation instead.  Install Construct 2 to a removable drive on a computer you can run the setup on, then try taking the removable drive to the limited computer and running it from the drive.</p><h3>Updates</h3><p>If you already have Construct 2 installed and you're installing an update, the setup will offer to remove the last installed copy of Construct 2.  You should always remove the old version unless you have installed Construct 2 twice (e.g. to the host computer and also to a portable drive, in which case uninstalling may remove the portable install).</p><h3>Uninstalling</h3><p>Construct 2 can be uninstalled via <strong>Add/Remove programs</strong> (Windows XP) or <strong>Programs and features</strong> (Windows Vista and newer) in Control Panel.</p><h3>Side-wide installations</h3><p>If you are installing Construct 2 to a lot of computers, remember the installation is portable.  This means it has no dependencies outside its <em>Program Files</em> folder.  You can install it to multiple machines by installing it to one machine and copying the installation folder (and any shortcuts you want) to other computers.</p><p>You can also use the following command-line switches to run the setup executable automatically, without prompting:</p><p><strong>construct2-setup.exe /SP- /SILENT /SUPPRESSMSGBOXES</strong></p><p>By default this also adds an icon to the Start menu.</p><a name="anchor-14"></a><h2>1.3 Using a license</h2><p><strong>See also:</strong> Tutorial on <a href="http://scirra.com/tutorials/57/how-construct-2-licenses-work" target="_blank">How Construct 2 Licenses Work ⇗</a></p><h3>Construct 2 Free Edition</h3><p>Construct 2 can be downloaded and installed to any computer for free, including site-wide at non-commercial institutions like schools.  Without a license, it runs as the <strong>Free Edition</strong>.  This has the following limitations:</p><ul><li>A maximum of <strong>100 events</strong> in a project</li><li>A maximum of <strong>4 layers</strong> in any layout</li><li>A maximum of <strong>2 effects</strong> in a project</li><li>No folder organisation in the project bar</li><li>No event search</li><li>No configurations bar</li><li>No Families</li><li>No <a href="http://www.scirra.com/tutorials/247/how-to-preview-on-a-local-network" target="_blank">Preview on LAN ⇗</a></li><li>Not allowed to be used for commercial purposes (however, it can be used in education and other non-profit organisations)</li></ul><p>Buying a license removes all of these limits.  Licenses can be purchased from Scirra.com.  Both the Standard and Business licenses remove all the above free edition limitations.</p><h3>The Personal license</h3><p>All the free edition limits are removed with a Personal license.  However, the rules for commercial use are different for individuals and organisations.</p><p><strong>Individuals</strong> may use a standard license for commercial purposes up to a revenue limit of $5000.  Once revenues associated with creations made with Construct 2 exceed $5000 (including associated advertising/promotion) a business license must be purchased.  However, no business license is necessary before that point.</p><p><strong>Not-for-profit organisations</strong> like schools, libraries and universities may use personal licenses to remove the free edition limits.  Bulk discounts are available.</p><p><strong>Commercial organisations</strong> cannot purchase standard licenses: they must purchase business licenses.</p><h3>The Business license</h3><p>Most individuals do not need a business license.  It is only necessary for:</p><ul><li><strong>Individuals who have already made over $5000</strong> from revenue associated with Construct 2 creations, and</li><li><strong>Commercial organisations</strong> like businesses.</li></ul><p>Not-for-profit organisations <em>never</em> need business licenses - they may use standard licenses instead.</p><h2>The license file: c2license.txt</h2><p>Once you've made a purchase, you will be sent a <strong>redeem key</strong> by email. This is a special code you can enter to the Scirra Store and get your license. If you want to buy a license for someone else, you can give them the redeem key and they can then get a license from the store with their own name and email address on it.  This also works if you want to buy licenses for a number of people, e.g. your employees or colleagues: you will receive a number of redeem keys, which you can then give to each individual.</p><p>Once you have redeemed your purchase from the Scirra Store, you can download your Construct 2 license, which is a file called <strong>c2license.txt</strong>.  You simply need to copy this folder in to either the <strong>install directory</strong> or <strong>My Documents</strong>.  Restart Construct 2 and it should launch as the licensed version: the purchaser name should appear on the start page and About dialog, <em>Free edition</em> should disappear from the title bar, and the free edition limits should be removed.  Alternatively, you can place your license file wherever you like and locate it by clicking <em>Load license file</em> in the <a href="#anchor-46">About dialog</a>.</p><p>Unless a license is purchased for an organisation, the license is for <em>the individual</em> rather than their computer.  This means you can use your licensed copy of Construct 2 on as many computers as you like, so long as <em>you are the only one using it</em>.  Other people must buy their own license.  Remember Construct 2 can be used as portable software (see <a href="#anchor-4">Installing Construct 2</a>).  You can put your license file in the install directory on a removable drive and take your licensed copy of Construct 2 to any computer.</p><p>You must not modify the license file at all.  It is protected by a hash, and any modification whatsoever will cause Construct 2 to reject the license and revert to the Free Edition.</p><p><strong>You must not share your license file!</strong>  Keep it to yourself like you do with serial numbers for other software.  Also, the license file contains some of your personal information, so it is certainly preferable to keep it private.</p><a name="anchor-6"></a><h2>1.4 System Requirements</h2><p>The Construct 2 editor currently only runs on <strong>Windows</strong>.  Please see our <a href="http://www.scirra.com/construct2/faq" target="_blank">FAQ ⇗</a> for information on supporting other systems.</p><p>Despite the fact Construct 2 itself only runs on Windows, it makes HTML5 games which can run on a wide variety of computers and devices.  See the <a href="#anchor-35">Technology</a> section for more information.</p><h3>Minimum system requirements</h3><ul><li>Windows XP Service Pack 3 or newer</li><li>512 MB RAM</li><li>1 GHz Processor</li><li>A HTML5 compatible browser (see below)</li><li>The <a href="http://scirra.com/tutorials/38/update-your-graphics-card-driver" target="_blank">latest version of your graphics card drivers ⇗</a></li></ul><h3>Recommended system requirements</h3><ul><li>Windows 7 or newer</li><li>2 GB RAM</li><li>2 GHz dual-core processor</li><li>A nVidia or AMD graphics card with <a href="http://scirra.com/tutorials/38/update-your-graphics-card-driver" target="_blank">latest drivers ⇗</a>. We recommend you avoid any hardware using Intel graphics chips due to their poor performance, stability, and feature set.</li></ul><h3>Really nice system requirements</h3><p>You can get by fine without these, but if you can they're nice to have.</p><ul><li>Solid state drive (SSD) for OS and software</li><li>64-bit edition of Windows 7 or newer</li><li>4 GB of RAM or more</li><li>A large display or dual monitor setup</li><li>A nVidia or AMD graphics card with <a href="http://scirra.com/tutorials/38/update-your-graphics-card-driver" target="_blank">latest drivers ⇗</a>, at least 512 MB of dedicated video memory and support for OpenGL 2.0+</li><li>A hi-speed broadband internet connection</li></ul><h3>HTML5 compatible browser</h3><p>To preview your HTML5 games you need a modern HTML5-compatible browser.  Browsers are free to download and install.  HTML5 is also relatively new technology, so it's important to also <strong>keep your browser up to date to its latest version</strong>.  Supported browsers are:</p><ul><li><a href="http://www.microsoft.com/internetexplorer" target="_blank">Internet Explorer 9+ ⇗</a> (Windows Vista and newer only - Windows XP users should use a different browser)</li><li><a href="http://www.mozilla.org/firefox" target="_blank">Mozilla Firefox ⇗</a></li><li><a href="http://www.google.com/chrome" target="_blank">Google Chrome ⇗</a></li><li><a href="http://www.opera.com/" target="_blank">Opera ⇗</a></li></ul><p>Scirra recommends <strong>Google Chrome</strong> or <strong>Mozilla Firefox</strong>.</p><a name="anchor-10"></a><h1>2. Overview</h1><p>In this section a basic overview of Construct 2 is provided, including the <a href="#anchor-11">start page</a>, <a href="#anchor-13">interface</a>, <a href="#anchor-32">project structure</a>, the <a href="#anchor-33">two different saving formats</a>, <a href="#anchor-122">exporting and publishing</a>, the <a href="#anchor-35">technology</a> behind your games and some <a href="#anchor-34">best practices</a> and <a href="#anchor-134">performance tips</a> to remember when using Construct 2.</p><a name="anchor-11"></a><h2>2.1 Start page</h2><p>When you first start Construct 2 you should see the <strong>Start Page</strong>, which looks something like this:</p><p><img src="./manual_files/startscreen2.jpg" alt="The Start page." width="500" height="395"></p><p>This gives you a useful starting point whenever you launch Construct 2.  It has some useful links such as <strong>Create a new project</strong>, <strong>Newest tutorials</strong> on the website, your recently opened projects, links to our Facebook, Twitter and Google+ pages, and so on.</p><h3>Beginner's tutorial</h3><p>If you're new, you might want to check out the link to the <a href="http://www.scirra.com/tutorials/37/beginners-guide-to-construct-2" target="_blank">Beginner's Guide to Construct 2 tutorial ⇗</a>.  This is a step-by-step guide to help get you going making your first game in Construct 2.</p><h3>Examples</h3><p>If you like examining existing projects to see how Construct 2 works, you can try opening the <strong>Space Blaster</strong> or <strong>Ghost Shooter</strong> demos.  These are advanced examples so don't be put off by the math or complexity of them.  They're mainly to show off what Construct 2 can do in the hands of an experienced user.</p><p>There are many much simpler examples in Construct 2's Examples directory.  Click <strong>Browse all examples</strong> to see them.  There are over 40 which go through things like making a simple platformer and physics demos.  <strong>It's highly recommended to look at all the examples.</strong> Commonly asked questions like "How do I set up custom controls?" have examples showing how it's done in the Examples folder.</p><h3>Settings</h3><p>You can change the <strong>Show start page on startup</strong> and <strong>Close the start page when I click on something</strong> settings in the <a href="#anchor-61">Preferences dialog</a>.</p><a name="anchor-13"></a><h2>2.2 The interface</h2><p>The following diagram highlights the important parts of the Construct 2 user interface.  An overview of each part is provided below, and later the manual goes in to each section in more detail.</p><p><img src="./manual_files/interfaceoverview.png" alt="Construct 2 interface" width="600" height="370"></p><h3>1: File menu and Ribbon tabs</h3><p><img src="./manual_files/topleftbuttons.png" alt="File menu and ribbon tabs." width="228" height="55"><br>Construct 2 uses a <a href="#anchor-38">ribbon</a> interface, which is like a tabbed toolbar similar to Office 2007 and newer.  The blue button with the drop-down arrow is the <a href="#anchor-37">File menu</a>, and to the right of that are <em>ribbon tabs</em> which drop down the ribbon bar with various buttons and options.</p><p>There's also the <em>quick-access toolbar</em> with the four most commonly used commands: Save, Undo, Redo and Preview.  You can add and remove buttons to this toolbar yourself: click the small drop-down arrow to its right to customise it.  If you want to have a lot of commands in this toolbar you can also opt to have it shown beneath the ribbon.</p><h3>2: The Layout view</h3><p>This is a visual editor where you place objects to design levels, menu screens and so on.  See <a href="#anchor-43">The Layout View</a>.</p><h3>3: View tabs</h3><p><img src="./manual_files/viewtabs.png" alt="View tabs" width="208" height="28"><br>These tabs allow you to switch between different layout views and <em>event sheet views</em>, to define the event-based logic of the game.</p><p>You can <strong>click and drag</strong> a tab in to one of the views to set up a side-by-side split screen view.</p><h3>4: The Properties Bar</h3><p>In this bar you will see a list of properties depending on what you have clicked on.  You can view and change properties for things like layouts, objects, layers and more.  See <a href="#anchor-40">The Properties Bar</a>.</p><h3>5: Project Bar and Layers Bar</h3><p>By default the <a href="#anchor-39">Project Bar</a> and <a href="./manual_files/manual.html">Layers Bar</a> are tabbed here.  The <em>Project Bar</em> contains an overview of everything in your project.  The <em>Layers Bar</em> can be used to add different layers to a layout.</p><h3>6: Project Bar/Layers Bar tabs</h3><p><img src="./manual_files/bartabs.png" alt="Bar tabs" width="190" height="28"><br>These allow you to switch between the Project Bar and Layers Bar.</p><h3>7: Object Bar</h3><p>This contains a list of objects in your game.  You can drag and drop objects from here to place them in layouts.  The right-click menu has many options to filter or display the objects differently.  See <a href="#anchor-41">The Object Bar</a>.</p><h3>8: Status Bar</h3><p>At the bottom of the editor window is the Status Bar.  This shows:</p><ul><li>what Construct 2 is currently doing during a long-running task, like exporting or saving the project</li><li>how many events are in the project and its approximate filesize</li><li>the current active layer, which is the layer new objects are placed on to</li><li>the mouse position in layout co-ordinates</li><li>the current zoom level.</li></ul><h3>9: Top-right buttons</h3><p><img src="./manual_files/toprightbuttons.png" alt="Ribbon top-right buttons" width="164" height="55"><br>As well as the usual Windows minimise, maximise and close buttons, there's also the <strong>Pin Ribbon</strong> button to force the ribbon to always be showing, and the <strong>About button</strong> to open the <a href="#anchor-46">About dialog</a> with information and credits for Construct 2.</p><h3>Customising</h3><p>You can customise the interface to suit your tastes.  Any of the bars can be dragged and dropped to different positions in the editor window.  Also, you can <em>auto-hide</em> bars to save room: click the pin icon on a bar and it will shrink to a simple tab.  Hover the tab to pop open the bar.</p><p>Bars can be hidden and shown in the <strong>View</strong> ribbon tab.</p><p>You can create a <strong>split-screen</strong> view by clicking and dragging one of the layout or event sheet tabs in to the main view.  This can be useful on large monitors.</p><a name="anchor-32"></a><h2>2.3 Project structure</h2><p>Construct 2 projects consist of the following elements.  These can be accessed via the <a href="#anchor-39">Project Bar</a>, which contains a tree of all the elements in the project.  Items in the Project Bar can also be organised in to subfolders <em>(licensed version only)</em> which is very useful for medium to large projects.  For more information, see the manual section on <a href="#anchor-65">Project Primitives</a>.</p><h3>Layouts</h3><p>Levels, menus, title screens and other pre-arranged <em>layouts</em> of objects.  In other tools Layouts may be referred to as <em>scenes</em>, <em>rooms</em>, <em>frames</em> or <em>stages</em>.  See the section on <a href="#anchor-67">Layouts</a> for more information.</p><p>Layouts also consist of multiple <a href="#anchor-85">Layers</a>, which can be used to arrange objects in to background and foreground layers.  These are managed with the <a href="./manual_files/manual.html">Layers bar</a>.</p><h3>Event Sheets</h3><p>A list of <em>Events</em> defining the game logic.  In Construct 2, Events are the alternative to programming or scripting.  Layouts have an associated Event Sheet for their logic.  Event sheets can be re-used between different layouts with <em>event sheet includes</em>.  Event sheets are edited in the <a href="#anchor-44">Event Sheet View</a>.</p><p>For more information on events, see the manual section on <a href="#anchor-74">Events</a>, especially the page on <a href="#anchor-75">How events work</a>.</p><h3>Object Types</h3><p>An Object Type defines a 'class' of object.  For example, <em>TrollEnemy</em> and <em>OgreEnemy</em> could be different object types.  Multiple <strong>instances</strong> of an object type can be created.  For example there could be three <strong>instances</strong> of the <em>TrollEnemy</em> <strong>object type</strong>, and five <strong>instances</strong> of the <em>OgreEnemy</em> <strong>object type</strong>.</p><p>It is important to be clear on the difference between <strong>object types</strong> and <strong>instances</strong>: they will be referred to as different things throughout the manual.  For more information, see the manual entries for <a href="#anchor-69">Plugins</a>, <a href="#anchor-70">Object Types</a> and <a href="#anchor-71">Instances</a>.</p><p>Object Types can also be grouped in to <a href="#anchor-142">Families</a>.</p><h3>System object</h3><p>The <strong>System object</strong> represents built-in functionality in Construct 2.  It is the only object an empty project contains.  It cannot be added again or removed from a project.  There are no instances of the System object: it is simply always present and provides access to the built-in aspects of Construct 2's game engine.  Its conditions, actions and expressions are documented in the <a href="#anchor-123">System reference</a>.</p><h3>Sounds and Music</h3><p>These are audio files used for sound effects and music in the game.  <strong>Sounds</strong> should be used for short-duration sound effects that are played when events like collisions and explosions happen.  <strong>Music</strong> should be used for the longer musical tracks.  It is important to organise audio files appropriately, because Sounds are downloaded completely before playing, but Music is streamed.  This means if a Music track is accidentally put in the Sounds folder, it would have to download completely (which could take a couple of minutes) before it started playing.  However, audio in the Music folder can start playing immediately since it is streamed from the server.</p><p>Both sound and music must be available in both the <strong>Ogg Vorbis</strong> (.ogg) and <strong>MPEG-4 AAC</strong> (.m4a) formats.  This is because browser makers cannot agree on one audio format for the web, so all audio must be in two formats to support all browsers!  Internet Explorer and Safari use the .m4a files, and all other browsers (Firefox, Chrome and Opera) use the .ogg files.  Construct 2 helps convert audio to both formats when audio files are imported.  See the <a href="#anchor-52">Import Audio dialog</a> and <a href="#anchor-84">Sounds &amp; Music</a> for more information.</p><h3>Project Files</h3><p>Any other external file can be imported to the project.  For more information, see <a href="#anchor-141">Project Files</a>.</p><h3>Common units</h3><p>In Construct 2, sometimes you need to enter values such as angles, speeds or sizes.  For consistency these always use the same units in Construct 2, except where noted by descriptions or tips shown in the editor.  The common units are described below.</p><p><strong>Positions</strong> are in pixels.  The origin (0,0) is at the top-left of the layout, and the Y axis increments downwards (as is often the case with game engines).<br><strong>Sizes</strong> are in pixels<br><strong>Angles</strong> are in degrees.  0 degrees faces <strong>right</strong> and increments <strong>clockwise</strong>.<br><strong>Times</strong> are in seconds<br><strong>Speeds</strong> are in pixels per second<br><strong>Accelerations</strong> are in pixels per second per second</p><h3>Zero-based indexing</h3><p>To be consistent with programming languages, all features of Construct 2 using a number of an item in a list (indices) start from 0 instead of 1.  This might seem odd at first and take some getting used to, but in many cases it is actually much more convenient than 1-based indexing.</p><p>Traditionally lists are numbered <strong>1, 2, 3...</strong> but in Construct 2 (and all other programming languages) they are numbered <strong>0, 1, 2...</strong>.</p><a name="anchor-33"></a><h2>2.4 Saving and sharing projects</h2><p>There are two types of project your work can be saved to.  These do not affect the functionality of the game at all, but have different advantages and disadvantages during editing.  One of the types must be chosen when creating a new project.</p><h3>Folder projects</h3><p>Projects can be saved to a folder.  This stores different parts of the project in different files.  For example, each layout is saved to a separate file in a Layouts subfolder.</p><p>Folder projects <strong>save and load quickly</strong>.  This makes them more suitable for medium or large projects.</p><p>Folder projects are <strong>good for collaborating within a team</strong>, since it is easy for different people to work on the different project files and later merge them.</p><p>The main project file in a folder project has the extension <strong>.caproj</strong>.  Note this does not contain the entire project: it is simply a list of other files used in the project.  If you want to share a project, the <strong>.caproj</strong> file is useless on its own - save to a single-file project (.capx) instead.</p><h3>Single-file projects (.capx files)</h3><p>Projects saved to a single file are often more convenient for small projects.  There is only one file to send, upload or share.  However, they <strong>save and load more slowly</strong> due to Construct 2 having to pack and unpack the project from one file.  They also make collaboration more difficult than if the project is saved as a folder.</p><p>.capx files are simply a <strong>ZIP</strong> of a project folder.  You can rename a .capx file to .zip and see the project files.</p><h3>Converting between types</h3><p>It's easy to convert a single-file project to a folder project and vice versa inside Construct 2.  Simply open a project and choose <em>File - Save As Project...</em> to save it to a folder project, or <em>File - Save As Single File...</em> to save it to a single-file project.</p><p>Since .capx files are a ZIP of the project folder, they can also be converted to a folder project by renaming them to .zip and extracting the folder project contained within.  Similarly a folder project can be converted to a .capx file by compressing it to a .zip file and changing the file extension to .capx.</p><a name="anchor-122"></a><h2>2.5 Testing and publishing</h2><h3>Testing your game</h3><p>To test your game during development you can <strong>preview</strong> it by clicking the "play" icon in the quick access toolbar or ribbon, pressing F5, or by right-clicking a layout in the Project Bar and selecting <em>Preview</em>.  This uses a local server to preview your game on.</p><p>If you have mobiles, tablets or other laptops/PCs you want to test on, previewing over your local network (e.g. Wifi) can make testing considerably easier.  For more information, see the tutorial <a href="http://www.scirra.com/tutorials/247/how-to-preview-on-a-local-network" target="_blank">How to preview on a local network ⇗</a>.</p><p>You must <em>export</em> then <em>publish</em> (i.e. upload) the project before anyone else can play it.  You cannot share the URL during preview over the internet.</p><h3>Exporting</h3><p>To export your project, use the <a href="#anchor-37">File menu</a>, <a href="#anchor-38">ribbon</a> or <a href="#anchor-39">Project Bar</a> to open the <a href="#anchor-127">Export Project dialog</a>.</p><p>If you are interested in the technical details of exported projects, see the <a href="#anchor-35">Technology</a> section.</p><h3>Distributing your project</h3><p>Construct 2 makes HTML5 games.  There are many ways to publish and distribute HTML5 games.  These include on your own server, the <a href="http://www.scirra.com/arcade" target="_blank">Scirra Arcade ⇗</a>, the <a href="https://chrome.google.com/webstore" target="_blank">Chrome Web Store ⇗</a>, <a href="http://www.facebook.com/" target="_blank">Facebook ⇗</a> games, and more.  The <a href="http://www.scirra.com/tutorials" target="_blank">Tutorials section ⇗</a> on the Scirra.com website covers each of these options, and they are summarised in the tutorial <a href="http://www.scirra.com/tutorials/74/publishing-and-promoting-your-construct-2-game" target="_blank">Publishing and Promoting your Construct 2 game ⇗</a>.</p><a name="anchor-35"></a><h2>2.6 Technology</h2><p>Construct 2 makes <strong>HTML5</strong> games.  These run online in a web browser on a wide variety of different devices and operating systems, including on mobile devices like phones and tablets, ensuring your game is accessible to as many people as possible.  This section is a summary of the technology involved.  It is probably of more interest to technically-minded people and can be skipped if you are more interested in the details of how to use Construct 2.</p><h3>Web Browsers</h3><p>A <strong>browser</strong> is the program that loads and displays web pages on your computer.  Popular web browsers include:</p><ul><li><a href="http://www.microsoft.com/internetexplorer" target="_blank">Internet Explorer ⇗</a> (only version 9 or newer works with HTML5)</li><li><a href="http://www.mozilla.com/firefox" target="_blank">Mozilla Firefox ⇗</a></li><li><a href="http://www.google.com/chrome" target="_blank">Google Chrome ⇗</a></li><li><a href="http://www.opera.com/" target="_blank">Opera ⇗</a></li></ul><p>Macs also commonly use <a href="http://www.apple.com/safari" target="_blank">Safari ⇗</a>.  Some of these browsers are also available for mobiles and tablets.</p><h3>HTML5</h3><p><a href="https://developer.mozilla.org/en/HTML" target="_blank">HTML ⇗</a> stands for <strong>H</strong>yper<strong>T</strong>ext <strong>M</strong>arkup <strong>L</strong>anguage.  HTML is the standard way web pages have been made since the beginning of the internet.  <a href="https://developer.mozilla.org/en/HTML/HTML5" target="_blank">HTML5 ⇗</a> is the fifth major revision of the HTML standard, and it started to gain widespread adoption in 2011.  It introduces many new features, but only a small number apply to games.  However, "HTML5" is still the most appropriate way to describe the technology used for Construct 2's games.  <strong>Javascript</strong> is the standard programming language used to program web pages, and this is also used to power Construct 2 games.</p><p>Of particular interest in HTML5 is the newly introduced <strong>&lt;canvas&gt;</strong> tag.  This creates a rectangular surface in a HTML web page where any images or content can be drawn.  This makes it ideal for games.  All Construct 2 games use the HTML5 canvas to display the game.</p><p>HTML5 is comparable to Adobe's Flash technology which dominated the internet for gaming prior to 2011.  HTML5 differs in being an industry-agreed standard, rather than a product controlled by a single company like Adobe.  Flash also runs as a browser plugin, which must be separately downloaded and installed, whereas HTML5 is built in to the browser.  This also means HTML5 games can run on devices where there is no Flash support, such as iPhones and iPads.  Given its advantages, HTML5 will eventually replace Flash on the web.</p><h3>Javascript</h3><p><a href="https://developer.mozilla.org/en/JavaScript" target="_blank">Javascript ⇗</a> is the standard programming language for the web.  It allows web pages to become interactive and in many ways work like traditional applications.  It is also an industry-agreed standard.</p><p><strong>Javascript</strong> is <strong>not Java</strong>.  These are two unrelated programming languages which simply happen to have a similar name.  Java applets are another technology which can run in a web page, but it is a totally different technology to Javascript.  Try not to get confused between the two: games made in Construct 2 do not need or use Java to run.</p><p>Modern browsers compile javascript to native machine code (or CPU instructions).  This ensures that web pages (including games) using javascript run as quickly and efficiently as possible.</p><p>Javascript is a garbage-collected language, which makes games vulnerable to pauses or stuttering due to garbage collection.  Construct 2's game engine is optimised to create the minimum garbage possible, recycling objects wherever possible.  Even entire object instances are recycled if an object is destroyed and later re-created.  This helps improve performance and ensure the game runs as smoothly as possible.</p><h3>Plugin and Behavior SDK</h3><p>Javascript programmers can extend Construct 2 with their own plugins and behaviors.  See the <a href="#anchor-15">Javascript SDK documentation</a> for more information.</p><h3>Canvas renderers</h3><p>The HTML5 &lt;canvas&gt; tag supports two different ways to draw the game to the web page: a simple <strong>2D context</strong>, and the <strong>WebGL context</strong>, based on OpenGL.  WebGL is about twice as fast as the 2D context and has more features, including supporting <a href="#anchor-146">effects</a>, but is not supported on all platforms.  Most browsers support WebGL, but Internet Explorer does not.  Construct 2 supports both technologies for rendering the game.  WebGL can be enabled or disabled for each game in <strong>Project Properties</strong>.  Generally it is advisable to have it enabled, since the game will probably run a lot faster in WebGL mode, and effects cannot work without it.  If WebGL is not supported by a user's computer or device, or it is disabled, Construct 2 will fall back to the 2D context instead.  In this case the game can continue to be played, but it might run a bit slower and not look as good.</p><p>Since Internet Explorer does not support WebGL, if you're using it you may want to switch to a different browser which does support it like Firefox or Chrome.  You may also wish to advise the people who play your game to do the same.</p><p>WebGL may not be supported on a computer even if it is enabled.  In this case the 2D context will be used instead.  You can check which renderer is in use in the game itself with the system expression <em>renderer</em>, which returns either "canvas2d" or "webgl".</p><h3>Obfuscation and minification</h3><p>The javascript code to your game is minified and obfuscated with Google's <a href="http://code.google.com/closure/compiler/" target="_blank">Closure Compiler ⇗</a>.  This reduces the download size and makes it extremely difficult for anybody to reverse engineer your game.</p><p>The game images are compressed in PNG format.  They are also further compressed when exporting to ensure the download is as small as possible.  For more information, see this blog post on <a href="http://www.scirra.com/blog/66/image-compression-in-construct-2" target="_blank">Image compression in Construct 2 ⇗</a>.</p><h3>Audio</h3><p>Construct 2's game engine supports the Web Audio API in Google Chrome for reliable low-latency playback of sound effects.  In other browsers the standard HTML5 <strong>&lt;audio&gt;</strong> tag is used instead.</p><h3>Offline support</h3><p>Despite the fact HTML5 games run in a web browser, Construct 2 games use the HTML5 AppCache to allow them to run offline as well.  This is very useful for iOS web apps and Chrome Web Store apps, since some users may be offline when running the game.  Also, the AppCache helps save bandwidth on servers which host the games: the game files will only ever be downloaded once, and every visit after that the game will be loaded locally from disk (while checking for an update in the background).  See the tutorial on <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">offline support in Construct 2 ⇗</a> for more information.  The most important point is your server <strong>must</strong> be set up to serve <strong>.appcache</strong> files with the MIME type <strong>text/cache-manifest</strong> else the offline support <strong>will not work</strong> and will cause you to waste a lot of bandwidth.</p><a name="anchor-34"></a><h2>2.7 Best practices</h2><h3>Back up regularly!</h3><p>Neither the hardware nor software in your computer is perfect.  Computers fail and software can crash.  <strong>Back up your projects</strong> to protect yourself from losing work.  It is essential to also maintain <strong>off-site backups</strong>.  If all your backups are in the same computer or saved to disks all in the same building, catastrophic events like fire, floods, theft or simultaneous hardware failure can cause you to lose <em>all your work and backups together</em>.</p><p>Construct 2 has built-in features to easily make automatic backups, including off-site backups using Dropbox.  For more information see the tutorial <a href="http://www.scirra.com/tutorials/269/keep-your-work-safe-with-construct-2s-backup-options" target="_blank">Keep your work safe with Construct 2's backup options ⇗</a>.</p><p>This advice is <strong>not specific to Construct 2</strong>.  It is vital to adopt this practice for any work on a computer which is important to you.  <em>Do not</em> wait until you've lost work before starting to do this.  People lose work regularly from having poor backup practices.  Don't be one of them!</p><h3>Test on multiple browsers and devices</h3><p>It is highly recommended to test your game works as intended in a range of different browsers.  While HTML5 is a standard which in theory is implemented the same by all browsers, in practice there are variations between browsers (e.g. in performance, features, text rendering, etc).  You should install a range of browsers and test with them all to ensure your game will work well for everyone.  Use the <a href="#anchor-66">Preview browser</a> property to test desktop browsers and <a href="http://www.scirra.com/tutorials/247/how-to-preview-on-a-local-network" target="_blank">preview on a local network ⇗</a> to easily test mobile browsers.</p><h3>Support touchscreen devices</h3><p>Many users now browse the web with touchscreen devices with no mouse or keyboard.  If at all possible, you should design your game to also support touchscreen devices, perhaps with on-screen touch controls.  For more information, see the tutorial on <a href="http://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">touch controls ⇗</a>.</p><h3>Recommended file formats</h3><p>You may wish to prepare artwork and audio in other software before importing to Construct 2.  The best formats to use are:</p><p><strong>32-bit PNG (Portable Network Graphics)</strong> for images.  Be sure to select 32-bit if you are given a choice; the 8-bit or lower versions will degrade quality.  32-bit PNGs are lossless and fully support alpha-channel transparency.  Note the default Windows Paint does not support PNG transparency.  Use a different editor instead, like <a href="http://www.getpaint.net/" target="_blank">Paint.NET ⇗</a>.</p><p>You can choose different export formats like JPEG inside Construct 2 to reduce the size of your finished project.  However when importing you should still stick to 32-bit PNGs if possible, and leave Construct 2 to recompress them when exporting.  For more information see the blog post <a href="http://www.scirra.com/blog/66/image-compression-in-construct-2" target="_blank">Image compression in Construct 2 ⇗</a>.</p><p><strong>16-bit PCM WAV</strong> for audio.  These are typically .wav files, but note that not all .wav files are 16-bit PCM.  Providing you are on Windows 7 or newer, importing a 16-bit PCM .wav file to Construct 2 will automatically encode it to both AAC and Ogg Vorbis.  These are the two formats necessary to support audio in all browsers.  For more information see the manual entry on the <a href="#anchor-52">Import Audio dialog</a>.</p><h3>Security</h3><p><strong>Never, ever enter usernames or passwords in to events.</strong> These will be visible in plain text in the exported Javascript, and malicious users will very quickly be able to take control of the account.  If you need to connect to something like a database, write a server-side script that talks to the database, then connect to the URL of the server.</p><h3>Performance</h3><p>There are a number of best practices in regards to game performance (ensuring the game always runs fast).  Perhaps the most important is when developing for mobile, test on the target mobile device from the start.  Your computer could be 10 or 20 times faster than your mobile device, and something which runs fast on your computer may be unplayably slow on the mobile device.  For more information see the section on <a href="#anchor-134">Performance Tips</a>.</p><h3>Memory use</h3><p>Some designers are tempted to design entire levels as single large images, for example 10,000 x 10,000 pixels.  This method should be avoided at all costs.  Not only is this extremely wasteful on memory, many devices also do not support images above a certain size, meaning your game does not work at all for many users.  Generally the largest image size supported on all systems (including mobile phones) is 2048 x 2048 pixels.  You should still avoid using images this size; a far superior way of designing levels is to use a few medium-sized <a href="#anchor-118">Tiled Background</a> images (e.g. 512 x 512) to cover the layout, then compose the level design from placing multiple instances of other Tiled Background and <a href="#anchor-115">Sprite</a> objects.  Each instance can be freely stretched and rotated individually which can help avoid a repetitive appearance.</p><p>Consider a single 10,000 x 10,000 image will use 400mb of memory, which will make all but the most powerful desktop computers run out of memory.  On the other hand, a level composed of three 512 x 512 Tiled Backgrounds and 50 different Sprite objects sized 200 x 200 will use under 20mb of memory (20x less) - small enough to fit in to the memory of low-power mobile phones.</p><h3>Effects</h3><p>Remember <a href="#anchor-146">effects</a> require WebGL to display, which is not always supported.  Be sure to set up appropriate fallbacks and test your project with WebGL disabled to ensure it will appear correctly for users whose systems do not support it.</p><h3>Managing projects</h3><p>If you are working in a team, you will probably find source-control software like SVN very useful for managing a folder-based project.  It can merge changes and highlight the changes each person has made.  There is also a history of all changes available and rollbacks can be made at any time.  Construct 2 saves project data in XML format so it is well suited to this type of management.</p><h3>Working as an individual</h3><p>If you are working on a project by yourself, it is probably easiest to use single-file projects (.capx files).  If the project gets large over time, you may notice Construct 2 spends more time saving and loading projects with <em>Decompressing CAPX...</em> or <em>Compressing CAPX...</em> in the status bar.  At this point it is probably useful to convert to a folder project which skips these steps and will make saving and loading faster.</p><a name="anchor-134"></a><h2>2.8 Performance Tips</h2><h3>Mobile</h3><p>Modern desktop computers are very powerful.  Generally the main problem with performance is getting your game to run well on mobiles and tablets.  It's more difficult to get good performance on these devices for a number of reasons:</p><ul><li>They have weaker hardware: slower CPUs, slower graphics chips, and less memory.</li><li>They run Javascript slower than desktop computers.</li><li>Some devices only use software rendering, making them very slow at drawing graphics.</li></ul><p><strong>You must test on mobile from the start.</strong>  Your computer may be well over ten times faster than your mobile device.  To avoid surprises test regularly on the intended device to make sure it is still running fast enough.  The <a href="http://www.scirra.com/tutorials/247/how-to-preview-on-a-local-network" target="_blank">Preview on LAN ⇗</a> feature can make this quick and easy.  You should aim to design simpler games to match the lower power of mobile devices, and have lower expectations of framerate (30 FPS is a good target for mobile).</p><p>The following three tips can help you achieve best performance for mobile devices:</p><ol><li><strong>Set 'Pixel rounding' to 'On' in Project Properties.</strong>  This avoids drawing objects in between pixels, which can be slow on software-rendered devices.</li><li><strong>Avoid using too many objects or particle effects</strong>, since mobile devices have lower limits to what desktop computers can handle.</li><li><strong>Place objects using the same blend modes or effects on the same layer.</strong> For example, if you have a lot of objects using the <em>Additive</em> blend mode (commonly used for explosions, lasers and other effects), make sure all those objects are placed on their own layer.  Also make sure they are created on that layer if the objects are spawned or created at runtime.  Switching between effects can reduce performance, and doing this will ensures all objects using the same effect are drawn at the same time.</li></ol><p>Exporting via the <a href="http://www.scirra.com/tutorials/303/how-to-export-to-cocoonjs" target="_blank">CocoonJS ⇗</a> or <a href="http://www.scirra.com/tutorials/304/how-to-export-to-appmobi-with-directcanvas" target="_blank">directCanvas ⇗</a> wrappers can substantially increase performance on Android and iOS if the device browser is slow.</p><p>Mobile performance will improve with time, so if you have performance problems now, future devices or software updates will be better.</p><h3>Common causes of poor performance</h3><p>Some of the most common things causing slowdowns are listed below.  This list is not exhaustive.  There may be other reasons your game is running slowly not listed here.</p><p><strong>Too many objects using Physics</strong><br>The <a href="#anchor-98">Physics behavior</a> is very CPU intensive.  Using too many objects with the Physics behavior can cause considerable slowdown.  You should design your games to use a few large Physics objects rather than many small Physics objects.</p><p><strong>Creating too many objects</strong><br>While modern computers are very fast, they still have a limited processing capacity.  Creating over 1000 objects will probably cause your game to slow down.  Try to design your game to use fewer objects.  The system expression <em>objectcount</em> can tell you how many objects you are using.</p><p><strong>Checking for too many collisions</strong><br>Testing for collisions or overlaps between two object types, each with 100 instances, will require 10,000 collision checks.  If this is done every tick at 60 frames per second it will be processing 600,000 collision checks per second, which is very demanding on the processor.  Try to only check for collisions when absolutely necessary, or on a timer (e.g. once a second), or just use fewer objects.</p><p><strong>Using too many effects</strong><br><a href="#anchor-146">Effects</a> are visually impressive, but can slow down the game's performance considerably if over-used, especially on mobile.  Using an effect on objects with many instances is especially slow - often it is much more efficient to place all the objects with the effect on their own layer, then apply the effect to that layer instead.  This allows the effect to process everything in one go, rather than having to inefficiently re-run the effect for a small object over and over again.</p><p><strong>Unnecessary use of effects</strong><br>Never use effects to process a static effect on an object. For example, do not use the 'Grayscale' effect to make an object always appear grayscale. This will degrade performance when you could simply import a grayscale image to the object and not use any effects at all.</p><p><strong>Using too many particles</strong><br>The <a href="#anchor-135">Particles object</a> can easily create hundreds of particles.  Each particle is like a sprite, so it can rapidly use up available processing power.  Avoid using more than a couple of hundred particles on desktop.  It is recommended to avoid using particles at all on mobile if possible; if you still use them, use as few as possible with the lowest rates you can get away with.  Use the <em>ParticleCount</em> expression to help count how many particles you have created.</p><p><strong>Using Sprites instead of Tiled Backgrounds</strong><br>Creating too many objects can cause slowdowns, and a common mistake is to use grids of <a href="#anchor-115">Sprite objects</a> instead of <a href="#anchor-118">Tiled Background objects</a>.  For example, a 20x20 grid of sprites has 400 objects, which is a significant impact on the object count.  A single tiled background can replace the grid of sprites and it only counts as a single object.  Tiled backgrounds are specially optimised for repeating their texture so in this case it is literally <strong>400 times more efficient</strong> than the grid of sprites.  Always use Tiled Backgrounds instead of repeating Sprites wherever possible.</p><p><strong>Using a slow browser</strong><br>Browsers do not all perform the same.  You may find a better performing browser by testing across a range of browsers.</p><p><strong>No hardware acceleration</strong><br>Usually even the slower Canvas 2D renderer is still hardware accelerated by the computer's graphics card.  However, sometimes even the Canvas 2D is not hardware accelerated and uses a very slow software renderer.  There is no easy way to tell this, but it is usually indicated by significantly worse performance on one system.  Test on several computers to see if poor performance is a one-off, and make sure the <a href="http://www.scirra.com/tutorials/38/update-your-graphics-card-driver" target="_blank">graphics card drivers are up-to-date ⇗</a>.</p><p><strong>Using too many loops</strong><br>This is rarer, but using too many loops like <em>For</em>, <em>For Each</em> and <em>Repeat</em> can cause the game to slow down.  Nested loops are especially likely to cause this.  To test if this is the problem, try temporarily disabling the looping events.</p><h3>Common misconceptions</h3><p>The following things are often accused of affecting performance (as in, the framerate at runtime), but probably have little or no effect:</p><p><em>Image formats</em> (e.g. JPEG, PNG-8, PNG-32) affect the download size but have no effect on runtime performance (they are all decompressed to 32-bit bitmap on startup).</p><p><em>Audio formats</em> also only affect the download size but have no effect on runtime performance.</p><p><em>Number of layers</em> usually has no effect, <em>unless</em> most of the layers have changed their opacity, have effects applied, have a blend mode other than 'Normal', or use 'force own texture'.  However typically there is no performance impact from using multiple layers with default settings.</p><p><em>Number of layouts</em> also is unlikely to have any effect other than the download size.</p><p><em>Size, angle or opacity of sprites/tiled backgrounds</em> and <em>floating-point positions</em> (e.g. positioning a sprite at X = 10.5) has no effect <em>when hardware acceleration is in use</em>.  This may be a little surprising or counter-intuitive, but modern graphics cards can usually render a sprite at the same speed regardless of whether it is tiny or huge (fullscreen or even bigger) and regardless of its angle, opacity or position.  However, if the game is software rendered, these can have a serious impact on performance; be sure to test on a range of systems.</p><h3>WebGL</h3><p>WebGL helps games run faster on desktop computers.  WebGL is about twice as fast as the Canvas 2D renderer, so for best performance you should make sure it is enabled in <a href="#anchor-66">project properties</a>.  However, WebGL is not always supported, so enabling it does not guarantee that the game is rendering with WebGL.  Use the <em>renderer</em> system expression to determine which renderer is in use.</p><p>There are several reasons WebGL may not be supported.  These are listed below:</p><ul><li><strong>The browser may not support WebGL.</strong>  For example, Internet Explorer currently does not support WebGL.  It will always use the slower Canvas 2D renderer.  To improve performance, try switching to a browser which supports WebGL, like Firefox or Chrome.</li><li><strong>Your graphics card driver may be out of date.</strong>  To guarantee a stable browsing experience, browsers sometimes disable WebGL if the graphics card driver is known to be buggy.  <a href="http://www.scirra.com/tutorials/38/update-your-graphics-card-driver" target="_blank">Updating your graphics card driver ⇗</a> may fix this problem.</li><li><strong>Your computer may simply be too old or have unsupported hardware.</strong>  Very old graphics hardware may not be able to support WebGL at all.  If possible, upgrading your graphics card to a new one may fix this problem.  However, don't forget your game is probably still playable with the Canvas 2D renderer - it will just be slower.</li></ul><h3>More advice</h3><p>For more information and advice on performance, see the blog post <a href="http://www.scirra.com/blog/83/optimisation-dont-waste-your-time" target="_blank">Optimisation: don't waste your time ⇗</a>.</p><h2>Measure and test</h2><p>From the start of your project you should use a framerate indicator and keep an eye on performance.  This allows you to notice if a particular change you have made has seriously affected performance.</p><p>Test your project on as many systems and browsers as possible.</p><p>If you think something is causing performance problems in your project, it is usually easy to test the theory: back up your project, delete the thing in question, and see if the framerate has improved.  If it improves, the thing you deleted was the cause; if not, it must be something else.</p><p><strong>Always measure performance.</strong>  Computer systems are highly complex, and there are many unexpected or counter-intuitive results in performance.  The <strong>only</strong> way to know what effect something has on performance is to <strong>measure it</strong>.  If you cannot measure a difference, it probably has no serious effect on performance.</p><h3>How to measure performance</h3><p>There are two <a href="#anchor-126">system expressions</a> that are important for determining performance:</p><p><em>fps</em> - returns the current frames per second rate.  Usually the top speed is 60 frames per second, but it can change depending on the system.</p><p><em>renderer</em> - returns either <em>canvas2d</em> or <em>webgl</em> depending on the renderer in use.  The WebGL renderer is about twice as fast as Canvas2D, but only runs on desktop and isn't always supported.  For more information see the <a href="#anchor-35">Technology</a> section.</p><p>You can display both of these in a <a href="#anchor-116">Text</a> object to keep an eye on performance while testing your game, using an action like:</p><p>Set text to <strong>fps &amp; " FPS (" &amp; renderer &amp; ")"</strong></p><p>This will display a string like <em>60 FPS (webgl)</em> indicating both the framerate and renderer.</p><a name="anchor-36"></a><h1>3. Interface</h1><p>This section covers the Construct 2 user interface.  For an at-a-glance summary, be sure to see the <a href="#anchor-13">Interface Overview</a> from the previous section.</p><a name="anchor-37"></a><h2>3.1 File menu</h2><p>Construct 2's <strong>File</strong> menu is accessed by clicking the blue button in the top left of the ribbon.</p><p><img src="./manual_files/filemenu.png" alt="Construct 2&#39;s File menu" width="485" height="417"></p><p>Recently opened projects are listed on the right hand side of the drop-down menu.</p><ul><li><strong>New</strong> Opens the <a href="#anchor-58">Create New Project dialog</a>.</li><li><strong>Open</strong> Open an existing project from disk.</li><li><strong>Save</strong> Save the current project to disk.</li><li><strong>Save As Project</strong> and <strong>Save As Single File</strong> Save to a different folder or file.  See <a href="#anchor-33">Saving and sharing projects</a>.</li><li><strong>Export project</strong> Export to a HTML5 game ready for distribution.  See <a href="#anchor-122">Exporting and Publishing</a>.</li><li><strong>Close Tab</strong> Close the currently open tab.  Tabs can also be closed by middle-clicking them.</li><li><strong>Close Project</strong> Close the currently open project, prompting to save changes if any.</li></ul><p>Along the bottom are four additional buttons:</p><ul><li><strong>Help</strong> Opens this manual.</li><li><strong>About</strong> Open the <a href="#anchor-46">About dialog</a> with information about your computer, the Construct 2 version, and so on.</li><li><strong>Preferences</strong> Open the <a href="#anchor-61">Preferences dialog</a> with settings for the Construct 2 editor.</li><li><strong>Exit</strong> Close Construct 2.</li></ul><a name="anchor-38"></a><h2>3.2 Ribbon</h2><p>The <strong>Ribbon</strong> is the name given to the tabbed toolbar at the top of the editor window, similar to the design used in Office 2007 and newer.</p><p>By default the ribbon is hidden until you click one of the ribbon tabs.  You can toggle permanently showing the ribbon by clicking the <strong>Pin ribbon</strong> button in the top right.</p><p>Keyboard shortcuts can be identified either by hovering a button on the ribbon, or pressing <strong>Alt</strong> which will show keyboard shortcuts on-screen.</p><h3>The Home tab</h3><p><img src="./manual_files/ribbonhome.png"></p><p>The Home tab has the standard functions common to most software: <strong>Cut</strong>, <strong>Copy</strong>, <strong>Paste</strong>, <strong>Undo</strong> and <strong>Redo</strong>.</p><p>The <strong>Delete</strong>, <strong>Select All</strong> and <strong>Select None</strong> buttons affect the current selection in either the Event Sheet View or Layout View.</p><p><strong>Configurations</strong> allow you to set up different versions of your project without having to save multiple projects to disk.  <strong>Active configurations</strong> sets which configurations are currently being edited.  Since only one configuration can be displayed in the editor at a time, this is chosen with the <strong>Display configuration</strong>, which must also be an active configuration.</p><p>The <strong>Online</strong> section contains some web links you may find useful.</p><p>The <strong>Preview</strong> section has buttons to preview the project and export a HTML5 game ready for distribution.</p><h3>The View tab</h3><p><img src="./manual_files/ribbonview.png" alt="The ribbon View tab" width="534" height="115"></p><p>The <strong>Bars</strong> section allows you to show or hide the various user interface bars in the Construct 2 editor by clicking the checkboxes.</p><p>The <strong>Zoom</strong> section can be used to zoom both the Layout View and Event Sheet View.</p><p>The <strong>Layout Grid</strong> section only applies to the <a href="#anchor-43">Layout View</a>.  By enabling <strong>Snap to Grid</strong>, moving and placing objects will snap them to an invisible grid with the given cell sizes.</p><p>The <strong>Theme</strong> allows you to choose different visual styles for the Construct 2 user interface.  This is purely cosmetic and does not affect any functionality of the editor.</p><h3>The Events tab</h3><p><img src="./manual_files/ribbonevents.png" alt="The ribbon Events tab" width="644" height="115"><br>The Events tab only applies to the <a href="#anchor-44">Event Sheet View</a>.  If a Layout view is open all its buttons will be disabled.</p><p>The <strong>Add</strong> buttons in the <strong>Events</strong> section provide quick ways to add a new event, condition, action, sub-event, event group, global or local variable, event include or comment.  If you have something in the event sheet selected, the new item will be added next to the selection.</p><p><strong>Disable</strong> allows you to toggle conditions, actions or entire events on and off.  A disabled event appears crossed out, and is effectively deleted - it will not run or affect the game in any way.  However, you can bring it back at any time by clicking Disable again.  This can be useful for testing.</p><p>The <strong>Search</strong> section allows you to filter all the events in the current event sheet by a phrase.  If an event contains the search text anywhere inside it, the event remains in the view, otherwise it is removed.  This can be very useful to locate events related to a particular object, or to find something in a long event sheet.  The <strong>Clear Search</strong> button (or pressing Escape) shows all events again.</p><p>The <strong>Show 'Add action' links</strong> can be used to hide or show the <em>Add action</em> link in every event.  These provide a quick way to add new actions.  However, they can significantly increase the vertical height of the event sheet making it a little harder to read or find events.  If you want to review an event sheet you might find it useful to turn these links off.  Actions can still be added to events even when the links are hidden by the <strong>Add action</strong> button in the ribbon or right-click menu.</p><a name="anchor-39"></a><h2>3.3 Project Bar</h2><p>The <strong>Project Bar</strong> shows an overview of everything in your project.  See <a href="#anchor-32">Project Structure</a> for a summary of the different elements that make up a project, or the manual section on <a href="#anchor-65">Project Primitives</a> for more detail.</p><p><img src="./manual_files/projectbar.png" alt="The Project Bar" width="252" height="383"></p><p>The project name appears with an asterisk by it (e.g. <strong>Space Blaster*</strong>) if it has unsaved changes.</p><h3>Organising projects</h3><p>The Project Bar can be used to arrange your project in to subfolders <em>(licensed edition only)</em>. Subfolders can be added by <strong>right-clicking a folder</strong> and selecting <strong>Add subfolder</strong>.  Then, you can <strong>drag and drop</strong> folders and items to organise them in to folders.</p><h3>Managing the project</h3><p><strong>Right-click</strong> any item in the Project Bar to show a list of options.  Most items can be renamed and deleted.  Right-clicking a folder also has the option to add a new item to that folder, such as a new layout or event sheet.  Objects are more commonly added in the Layout View, but you can still add them from the Project Bar too.</p><p><strong>Right-click the name of the project at the top</strong> to close, export or open the project's folder in Windows Explorer.</p><h3>Deleting objects</h3><p>Deleting from the Layout View will not remove an object from the project completely.  The only way to fully remove an entire object type from the project is to delete it from the Project Bar.</p><h3>Importing audio</h3><p><strong>Right-click</strong> either the <strong>Sound</strong> or <strong>Music</strong> folders and select <strong>Import</strong> to open the <a href="#anchor-52">Import Audio dialog</a>.  This allows you to pick audio files from your computer and import them to the project.  Construct 2 will convert them to the necessary formats to support all browsers.  To play back audio, make sure you add the <a href="#anchor-109">Audio object</a> to the project.</p><h3>Importing files</h3><p>You can import additional external files to the project.  For more information, see <a href="#anchor-141">Project Files</a>.</p><a name="anchor-40"></a><h2>3.4 Properties Bar</h2><p>The <strong>Properties Bar</strong> is a vital part of the interface.  It displays a list of all the settings you can change on whatever is selected.  In the picture below, a layout is selected, so the layout's properties are showing.</p><p><img src="./manual_files/propertiesbar.png" alt="The Properties Bar" width="254" height="235"></p><p>There are too many properties in Construct 2 to list here.  Instead, properties for different parts of the project are documented in the relevant manual section.  For example, layout properties are defined in the Layout section.</p><p>Properties are organised in to <strong>categories</strong> which can be expanded and collapsed with the <strong>+</strong> button.  There are many kinds of properties, including number fields, text fields, dropdown lists and clickable links.  The property name appears in the left column, and the editable value appears in the right column.</p><p>Whenever something in the project is clicked or selected, its properties display in the Properties Bar.  For example, selecting objects in the Layout View or clicking items in the Project Bar shows the relevant properties in the Properties Bar.</p><h3>Things with properties</h3><p>The following project elements have properties:</p><ul><li><a href="#anchor-66">Projects</a></li><li><a href="#anchor-67">Layouts</a></li><li><a href="#anchor-85">Layers</a></li><li><a href="#anchor-71">Object instances</a></li><li><a href="#anchor-48">Animations</a></li></ul><p>Many <a href="#anchor-72">behaviors</a> have their own properties - see the <a href="#anchor-86">Behavior reference</a><br>Many <a href="#anchor-69">plugins</a> have their own properties - see the <a href="#anchor-106">Plugin reference</a><br>Many objects also support <a href="#anchor-40">effects</a> and have properties for them as well.</p><p>See the relevant manual sections for documentation on the properties that are shown.  There is also a <strong>Help</strong> link displayed at the bottom of the properties that will take you to a relevant manual section.</p><h3>Property descriptions</h3><p>All properties also have a <em>description</em> which provide additional information about what the property is used for.  This is displayed in a panel at the bottom of the Properties Bar.  It is worth keeping an eye on this since it can contain useful hints and tips.  An example is shown below.</p><p><img src="./manual_files/propertydescription.png" alt="A property description" width="263" height="146"></p><a name="anchor-41"></a><h2>3.5 Object Bar</h2><p>The <strong>Object Bar</strong> is most useful in the <a href="#anchor-43">Layout View</a>.  It displays a filtered list of <a href="#anchor-68">objects</a> with large icons.  Objects can be <strong>dragged and dropped in to the layout</strong> to place them.  This makes the Object Bar useful for showing just the objects you're interested in placing, which is sometimes quicker than using the Project Bar (which lists everything in the project).</p><p>See also the <a href="#anchor-68">manual section on Objects</a></p><p>The Object Bar also provides another way to access object's properties.  Selecting an icon in the Object Bar shows the object's properties in the <a href="#anchor-40">Properties Bar</a>.  If a Layout View is currently open, it will also select every instance of that object type in the layout.</p><p><img src="./manual_files/objectbar.png" alt="The Object Bar" width="251" height="232"></p><h3>Browsing objects</h3><p>By default the Object Bar shows the project objects organised by folders.  Double-click a folder to show that folder's contents.  Click the green <strong>Up</strong> arrow to navigate back to the parent folder.</p><p>Selecting a folder in the <a href="#anchor-39">Project Bar</a> also displays that folder's contents in the Object Bar.</p><p>Objects can also be organised by dragging and dropping them to folders in the Object Bar, but you may find the Project Bar more convenient for this.</p><h3>Display options</h3><p>The text at the top of the title bar shows the current filter or folder if any.  By default it shows just the objects on the current layout (e.g. <em>All 'MyLayout' objects</em>).  This means it will <strong>not</strong> show objects only on different layouts, nor project objects like Mouse or Keyboard.  These objects can be accessed via the Project Bar, and also dragged and dropped in to the layout from there.  Alternatively, the filtering options can be set to display all project objects in the Object Bar (see below).</p><p><strong>Right-click</strong> a space in the Object Bar to show its display options.</p><p><img src="./manual_files/objectbarmenu.png" alt="The Object Bar menu" width="168" height="259"></p><p><strong>Up to parent folder</strong><br>A shortcut for the green <em>Up</em> button at the top of the Object Bar.</p><p><strong>Up to root</strong><br>Return to the root (bottom-level) object folder, as if clicking <em>Object types</em> in the Project Bar.</p><p><strong>Insert new object</strong> and <strong>Add subfolder</strong><br>Shortcuts for the organisation functions in the <a href="#anchor-39">Project Bar</a>.</p><p><strong>Show path toolbar</strong><br>Show or hide the text and <em>Up</em> button at the top of the Object Bar.</p><p><strong>Filter objects</strong><br>Set to <em>Current layout objects</em> to only show objects which are in the current layout (the default), or <em>All project objects</em> to show all objects in the project (like the Project Bar).</p><p><strong>View as</strong><br>Set to <em>Folder structure</em> to display objects organised by their subfolders (the default), or <em>Simple List</em> to list all objects regardless of their folder (there are no subfolders in this view).</p><p><strong>Icon style</strong><br>Change how the icons are displayed in the Object Bar, including which direction the bar scrolls in if there are lots of objects.  This can be useful if you dock the Object Bar somewhere else in the editor, e.g. along the top or bottom.</p><p><strong>Icon size</strong><br>Change the size of the icons.  Smaller icons lets you fit more icons in the window, but larger icons makes it quicker to identify objects.</p><a name="anchor-42"></a><h2>3.6 Layers Bar</h2><p>The <strong>Layers Bar</strong> is used to add, edit and remove <a href="#anchor-85">layers</a> in a <a href="#anchor-67">layout</a>.  A layer is like a sheet of glass objects are painted on to.  This allows easy arrangement of which objects display in front of other objects, for example showing <em>foreground</em> objects in front of the <em>background</em> sprites.  It also allows for interesting depth effects like parallax, and layers can be individually scaled and rotated as well.</p><p>Layers can be <strong>dragged and dropped</strong> in the Layers Bar to change their order.  Layers at the <strong>bottom</strong> of the list are displayed <strong>at the back</strong> (e.g. background objects), and layers at the <strong>top</strong> of the list are displayed <strong>at the front</strong> (e.g. HUD objects).</p><p>Selecting a layer displays its properties in the <a href="#anchor-40">Properties Bar</a> and also sets it as the <strong>active layer</strong> which new objects are inserted in to.  See the <strong>Active layer</strong> property in <a href="#anchor-67">layout properties</a> for more information.</p><p><img src="./manual_files/layersbar_2.png" alt="The Layers Bar" width="250" height="160"></p><h3>The Layers list</h3><p>Each layer in the list has the following:</p><ul><li>A <strong>checkbox</strong> to toggle whether the layer is <strong>visible in the editor</strong> (this does not affect the game when previewing or exporting)</li><li>A <strong>padlock icon</strong>.  Clicking this toggles the layer's <strong>locked</strong> status.  If a layer is locked, objects on that layer cannot be selected in the editor.  This is useful to prevent accidental selections on rarely-used layers like backgrounds.</li><li>A <strong>number</strong> to the right.  This is a <strong>zero based index</strong> of the layer (the first layer is number 0, not 1).  If you need to enter a layer number in the event system, this is the corresponding number. (You can also enter layer names in the event system which might be more convenient if you regularly reorder layers.)</li></ul><h3>The Layers Toolbar</h3><p>The icons along the top provide shortcuts for editing layers.  Layers can be added and there are alternative options for layer visibility and locking.  There is also a <strong>Rename</strong> and <strong>Delete</strong> button (F2 and Delete on the keyboard respectively).  Layers can also be renamed by single-clicking a selected layer, like renaming files in Windows Explorer.  Finally, there are <strong>Move up</strong> and <strong>Move down</strong> buttons, which provide an alternative to dragging and dropping to reorder layers.</p><a name="anchor-43"></a><h2>3.7 Layout View</h2><p>The <strong>Layout View</strong> is a visual designer for your objects.  It allows you to set up a pre-arranged <em>layout</em> of objects, such as a game level, menu or title screen.  In other tools, <em>layouts</em> may be referred to as <em>scenes</em>, <em>rooms</em>, <em>frames</em> or <em>stages</em>.  See also the <a href="#anchor-67">manual section on layouts</a>.</p><p><img src="./manual_files/layoutview.png"></p><p>The dotted rectangle in the top left indicates the window size in the layout.</p><h3>Adding, modifying and deleting objects</h3><p><strong>Double-click a space</strong> in the layout or right-click and select <strong>Insert new object</strong> to add a new object type.  This will bring up the <a href="#anchor-54">Insert New Object dialog</a>.</p><p>To create new <strong>instances</strong> of an existing object type, another object can be <strong>control + dragged</strong>, copy and pasted, or dragged and dropped from the <a href="#anchor-39">Project Bar</a> or <a href="#anchor-41">Object Bar</a>.  (Make sure you're clear on the difference between Object Types and Instances as described in <a href="#anchor-32">Project Structure</a>.)</p><p>A shortcut for importing image files as Sprite objects is to <strong>drag and drop image files from Windows Explorer to the Layout View</strong>.  This automatically creates a new Sprite object type with the dragged image.  If multiple image files are dragged, the Sprite is assigned an animation with the dragged images as animation frames.</p><p>Instances can be moved by dragging and dropping them with the mouse.  <strong>Hold shift</strong> to axis-lock the drag to diagonals.  Alternatively they can be nudged 1 pixel at a time with the arrow keys (hold shift to nudge 10 pixels), or co-ordinates can be typed in directly to the Properties Bar.</p><p>The <strong>Delete</strong> key or right-click <em>Delete</em> option deletes instances.  Deleting all instances of an object does <strong>not</strong> remove the <strong>object type</strong> from the project.  To entirely remove an object from the project it should be deleted via the <a href="#anchor-39">Project Bar</a>.</p><p>Click objects to select them.  Objects cannot be selected if their layer is locked.  <strong>Hold control</strong> while clicking to select multiple objects, or <strong>click and drag</strong> a selection rectangle to select all objects in an area.  The Properties Bar displays properties for <em>all</em> currently selected objects, so changing a property sets it for every selected object.</p><p>When a single object is selected it appears with <strong>resize handles</strong> around it:</p><p><img src="./manual_files/layoutviewselection.png" alt="A layout view selection" width="139" height="136"></p><p><strong>Click and drag</strong> the resize handles to stretch the object.  <strong>Hold shift</strong> to proportionally resize the object.  The size of the resize handles can be changed in Preferences.</p><p>Rotatable objects like Sprite also have an <strong>angle handle</strong> originating from the object's origin.  This can be clicked and dragged to change the object's angle.  Alternatively an angle can be entered in to the Properties Bar.</p><h3>Scrolling and zooming</h3><p>There are three ways to scroll in the Layout View:</p><ul><li><strong>The vertical and horizontal scrollbars</strong> at the edges of the view</li><li><strong>Hold the middle mouse button</strong> and drag the mouse</li><li><strong>Hold space</strong> and move the mouse (useful for laptops with track pads)</li></ul><p>On desktop systems, middle-mouse dragging is probably the most convenient way to move around the layout.</p><p>Zooming is useful to focus on a small area or see an overview of the entire layout.  There are several ways to zoom:</p><ul><li>The <strong>Zoom buttons on the ribbon</strong> in the View tab (hold shift while clicking to adjust the zoom amount)</li><li><strong>Hold control</strong> and <strong>scroll the mouse wheel</strong>.  Hold both Control and Shift to zoom in integer steps (e.g. 100%, 200%, 400%...)</li><li><strong>+</strong> and <strong>-</strong> on the num pad (hold shift to adjust zoom amount)</li></ul><p>The current zoom is displayed in the Status Bar.  Press <strong>Control + 0</strong> to return to 100% zoom.</p><h3>Other</h3><p>To go to the associated event sheet, press <strong>Ctrl + E</strong> or <strong>Ctrl + Tab</strong> or right-click and select <strong>Edit event sheet</strong>.</p><p>The Z order of objects within a layer can be adjusted by right-clicking and selecting <strong>Z Order</strong> - <strong>Send to top of layer</strong> or <strong>Send to bottom of layer</strong>.</p><p>Objects can be snapped to a grid for tile placement.  This can be enabled in the <strong>View</strong> tab of the <a href="#anchor-38">ribbon</a>.</p><p>The <a href="#anchor-48">image or animation editor</a> can be brought up by <strong>double-clicking</strong> objects with images or animations like Tiled Background and Sprite.</p><h3>Effects previewing</h3><p><a href="#anchor-146">Effects</a> will be displayed in the layout view if WebGL is enabled in <a href="#anchor-66">project properties</a>.  If WebGL is disabled, the layout view will preview as it would at runtime, without displaying any effects, and using any fallbacks that have been set up.</p><a name="anchor-44"></a><h2>3.8 Event Sheet View</h2><p>The <strong>Event Sheet View</strong> is where events can be added, viewed and edited in an <a href="#anchor-121">event sheet</a> using Construct 2's non-programming event system.</p><p>The event system has a lot of features, so the event system has its own <a href="#anchor-74">section of the manual</a>.  This section will simply cover the basics of using the Event Sheet View.</p><p><img src="./manual_files/eventsheetview.png"></p><h3>Diagram of an event</h3><p><img src="./manual_files/eventdiagram.png" alt="Event diagram" width="494" height="129"></p><p>Events are made up of three major sections:</p><ol><li>The <strong>event block</strong>, which contains the conditions.  Notice the margin to the left of the condition which allows you to select the entire event.</li><li>The <strong><a href="#anchor-76">conditions</a></strong>, which are each listed inside the event block.</li><li>The <strong><a href="#anchor-77">actions</a></strong>, which are listed to the right of the event block.</li></ol><p>Conditions and actions can be selected by clicking on them.  The entire event can be selected (which also selects all its conditions and actions) by clicking the event margin or the bottom part of the event block.  As with the Layout view, multiple selections can be made by holding control and clicking different items.  However, you can only have either events, conditions or actions selected at a time (e.g. you can't have both a condition and action selected at once).  You can also <strong>hold shift</strong> and click an event, condition or action to select all the items in a line between the selection and clicked item.</p><h3>Creating events</h3><p>There are a number of ways to add a new event:</p><ul><li><strong>Double-click</strong> a space in the event sheet</li><li>Click the <strong>Add event</strong> link which comes after the last event</li><li><strong>Right-click</strong> and choose an item to add in the menu</li><li>Use the <strong>Events</strong> tab on the <a href="#anchor-38">ribbon</a></li></ul><p>When you add a new event, the dialog that appears is for adding the first <strong>condition</strong> (see <a href="#anchor-51">Add Condition dialog</a>).  To add more conditions to an event, right-click the margin or an existing condition and select <strong>Add another condition</strong>.</p><p>Actions can be added by clicking the <strong>Add action</strong> link (if it has not been hidden in the <a href="#anchor-38">ribbon</a>), or right-clicking the margin or an existing action and selecting <strong>Add another action</strong>.  See also <a href="#anchor-51">Add Action dialog</a>.</p><h3>Modifying events</h3><p><strong>Double-click</strong> or select and press <strong>Enter</strong> on condition or action to edit it.</p><p>Events, conditions and actions can be <strong>dragged and dropped</strong> around the event sheet.  Holding <strong>control</strong> and dragging will duplicate the dragged event, condition or action.  Event items can also be <strong>cut, copied and pasted</strong>.</p><p>You may find it convenient to organise events in to <strong>Event Groups</strong>, which can also be activated and deactivated as a whole.</p><h3>Scrolling and zooming</h3><p>There are several ways to scroll in the Event Sheet View:</p><ul><li><strong>The vertical scrollbar</strong> to the right of the view</li><li><strong>Scrolling the mouse wheel</strong></li><li><strong>Hold the middle mouse button</strong> and drag the mouse</li><li><strong>Hold space</strong> and move the mouse (useful for laptops with track pads)</li></ul><p>Use the <strong>zoom buttons on the ribbon</strong> in the View tab or <strong>hold control</strong> and <strong>scroll the mouse wheel</strong> to zoom.  Press <strong>Ctrl + 0</strong> to restore 100% zoom.  The event sheet font can also be set in Preferences.</p><a name="anchor-48"></a><h2>3.9 Image and Animations editor</h2>Construct 2 has a built in image editor, and the Sprite object extends it with additional windows that allow you to create animations.  <em>Note: the image editor is currently a work-in-progress and is not yet feature complete.</em><br><br>To open this editor, <strong>double click</strong> an object with an image or animations in the <a href="#anchor-43">Layout View</a>.  Alternatively, right-click the object in the <a href="#anchor-39">Project Bar</a> or <a href="#anchor-41">Object Bar</a> and select <strong>Edit image</strong> or <strong>Edit animations</strong>.<br><br><h3>The image editor</h3><br>The image editor is used to edit Tiled Background images and Sprite animation frames.<br><br><img class="article-image" src="./manual_files/imageeditor_3.png" alt="The Construct 2 image editor."><!--imgend--><br>The buttons along the top modify the entire image:<br><strong>Clear image</strong> Resets the image to all transparent.<br><strong>Open</strong> Import an image file from disk in PNG, JPEG, BMP, TIF, GIF or WMF format.  PNG is recommended since it is lossless, usually compresses well, and supports alpha transparency.<br><strong>Save</strong> Export the image to a file on disk in PNG, JPEG, BMP, TIF or GIF format.  PNG is recommended since it is lossless, usually compresses well, and supports alpha transparency.<br><strong>Set export format</strong> Opens the <a href="#anchor-129">Image Format dialog</a>, allowing you to set the format on export to PNG-32, PNG-8 or JPEG.<br><strong>Mirror</strong> Mirror the image horizontally.  Hold shift to mirror an entire animation.<br><strong>Flip</strong> Flip the image vertically.  Hold shift to mirror an entire animation.<br><strong>Rotate 90 degrees clockwise/anticlockwise</strong> rotates the image.  Hold shift to rotate an entire animation.<br><strong>Crop</strong> removes spare transparency at the edges of the image, making the canvas as small as possible while still fitting the image.  This is recommend to save memory and make collisions more accurate and efficient.  Hold shift to crop an entire animation.<br><strong>Resize</strong> Adjust the image canvas size, with options to center align the image, top-left align or stretch to fit.<br><strong>Zoom buttons</strong> Zoom the image.  Alternatively, hold <strong>control</strong> and scroll the <strong>mouse wheel</strong>.<br><strong>Toggle background brightness</strong> Switch the background from a light shade to a dark shade.  The dark shade may be more useful for editing bright images like light spots, clouds, etc.<br><br>The image editor view can also be scrolled by holding the <strong>middle mouse button</strong> and <strong>dragging</strong>.<br><br>The buttons down the left are the following tools:<br><br><strong>Rectangle select</strong> Select, delete, cut, copy and paste rectangle sections of the image.<br><strong>Eraser</strong> Erase sections of the image.<br><strong>Pencil</strong> Draw individual pixels or drag 1px-size lines.<br><strong>Brush</strong> Draw with a colored round brush.<br><strong>Line</strong> Draw colored lines.<br><strong>Rectangle</strong> Fill an area with a color.<br><strong>Fill</strong> Flood fill an area with a color.<br><strong>Color picker</strong> Pick the primary or second color from the image.  Note holding control and clicking with another tool is a shortcut for this.<br><strong>Set origin and image points</strong> Opens the <a href="#anchor-63">Image Points dialog</a>.  This allows you to set the image's origin (its point of rotation) and place image points at focal points in the image such as at the end of the gun.  Image points can be accessed in the event system to create objects from and such.  Some objects, like Tiled Background, do not use an origin or any image points.<br><strong>Set collision polygon</strong> Set the collision shape for the image or frame.  By default Construct 2 guesses a collision shape, but it is not always accurate.  Click and drag the points of the collision polygon to alter its shape.  <strong>Right-click</strong> to display a menu of additional options for the collision polygon, such as adding and deleting points.  Some objects, like Tiled Background, do not use collision polygons.<br><br><h3>Animations Bar</h3><br>The animations bar is where multiple animations can be created for Sprite objects.<br><img class="article-image" src="./manual_files/animationsbar.png" alt="Animations Bar"><!--imgend--><br><strong>Right click</strong> a space to add a new animation or add a subfolder to organise animations.  <strong>Right click</strong> an animation and select <strong>Preview</strong> to preview how the animation will look in the game.<br><br>When selecting an animation, the <a href="#anchor-40">Properties Bar</a> displays settings for the animation.  These are the following:<br><br><strong>Speed</strong> The number of animation frames shown per second.  For example, if set to 5, each animation frame lasts for 1/5th of a second.  Set to <strong>0</strong> if you do not want the animation to play (e.g. if a tile set is used with a different tile in each frame).<br><strong>Loop</strong> Restart the animation after it finishes.<br><strong>Repeat count</strong> If not looping, the number of times to repeat the animation.<br><strong>Repeat to</strong> The <strong>zero based index</strong> of the animation frame to repeat back to if looping or repeating.<br><strong>Ping-pong</strong> Play the animation alternately forwards and backwards.<br><br><h3>Animation frames bar</h3><br>The animation frames bar displays a list of the animation frames in the current animation.<br><br><img class="article-image" src="./manual_files/animationframesbar.png" alt="Animation Frames bar"><!--imgend--><br>Select an image to switch the Image Editor to editing the clicked animation frame.  Animation frames can also be <strong>dragged and dropped</strong> to adjust the sequence.<br><br><strong>Right-click a space</strong> in the animation frames bar for the following options:<br><br><strong>Add frame</strong> Add a new blank animation frame to the end of the sequence.<br><strong>Duplicate last frame</strong> Make a copy of the last animation frame and add it to the end of the sequence.<br><strong>Reverse frames</strong> Reverse the order of all the frames in the animation.<br><strong>Import frames</strong> Opens a dialog to select one or more image files from disk.  All the selected image files are added as animation frames.<br><strong>Import sprite strip</strong> Import a sprite strip or tileset, where a single image contains a number of animation frames aligned to a grid.  This is done with the <a href="#anchor-53">Import Sprite Strip dialog</a>.<br><strong>Reload files from disk</strong> Reload all the images from the project folder.  This is useful if you have edited the images in the project folder while Construct 2 is open and want Construct 2 to recognise the changes.  (This option is disabled if you're not using a project folder.)<br><strong>Thumbnail size</strong> Adjust the size of the thumbnail icons of each frame in the bar.<br><br>Selecting an animation frame shows a single property in the Properties Bar: <strong>Frame speed</strong>, which is a multiplier for the amount of time to spend on the frame.  For example, a frame speed of 2 will spend twice as long on that animation frame, 0.5 half as long, etc. relative to the current animation speed.<a name="anchor-45"></a><h2>3.10 Dialogs</h2><p>This section lists each dialog in the Construct 2 editor.  You may not need to use all of these dialogs, depending on the features you use.  Each dialog has a link to its relevant help page in this section.  You may prefer to use these links when you need to rather than read through this section.</p><a name="anchor-46"></a><h3>3.10.1 About</h3><p>If you're looking for general help on Construct 2, try the <a href="#anchor-1">manual front page</a>.  This page describes the <strong>About dialog</strong>.</p><p><img src="./manual_files/aboutdialog.png" alt="The About dialog" width="528" height="521"></p><p>The About dialog contains the following information:</p><p><strong>Release number</strong> (e.g. <em>Release 70</em>)<br>Construct 2 does not use the a.b.c version numbering system.  Instead, the version is simply a number which increments by 1 every time a new release is published.  You should <a href="#anchor-3">stay up to date with the latest version</a> for the most features, best performance and most reliable stability.</p><p><strong>Release architecture</strong> (<em>32-bit</em> or <em>64-bit</em>)<br>This determines whether you are using the 32-bit or 64-bit version of Construct 2.  If you're using a 64-bit computer it's recommended to install the 64-bit version, unless you are using a portable installation.  See <a href="#anchor-4">Installing Construct 2</a> for more information.</p><p><strong>Release type</strong><br>Following the release number and architecture may optionally be the word <em>checked</em>.  Checked builds are generally for testing and you may occasionally see <em>check failure</em> dialogs which indicate a possible bug or problem.  You should report any such issues to Scirra.</p><p>If the word <em>checked</em> does not appear, it indicates a <em>release</em> version of Construct 2, which is a stable build intended for day-to-day usage.</p><p><strong>Build timestamp</strong><br>The date and time the Construct 2 executable was compiled by Scirra is included.  This is occasionally used by Scirra for diagnostic purposes.</p><p><strong>OpenGL information</strong><br>This section outlines your graphics card and its basic capabilities.</p><p>It is important to keep your <a href="http://www.scirra.com/tutorials/38/update-your-graphics-card-driver" target="_blank">graphics card drivers up to date ⇗</a>.  Many common display glitches (e.g. objects not appearing or having sections cut off) are caused by buggy, out of date drivers.  Updating to the latest version released by your graphics card vendor often fixes these problems.  If you haven't done before since installing Construct 2, we recommend you click the <strong>Check for driver update</strong> link and try updating your drivers.  You may need administrator permissions and have to reboot your computer.</p><p><strong>License information</strong><br>This contains the license information if a license has been purchased.  See <a href="#anchor-14">Using a license</a> for more information.</p><p><strong>Credits page</strong><br>Lists all the individuals and organisations whose work has been involved in the creation of Construct 2.</p><a name="anchor-49"></a><h3>3.10.2 Add behavior</h3><p>The <strong>Add Behavior dialog</strong> allows you to add a new <a href="#anchor-72">behavior</a> to an <a href="#anchor-70">object type</a>.  Some behaviors can only be added once and will not appear in the dialog if the object already has them.  It can be opened from the <a href="#anchor-57">Object Behaviors dialog</a>.  For documentation on each behavior, see the <a href="#anchor-86">Behavior Reference</a> section of the manual.</p><p><img src="./manual_files/addbehaviordlg.png" alt="The Add Behavior dialog." width="400" height="418"></p><p>Simply <strong>double-click</strong> the behavior you wish to add.  Select a behavior to see a brief description beneath the icons.  The available behaviors can be filtered by name by typing in to the search box in the top right.</p><a name="anchor-51"></a><h3>3.10.3 Add condition/action</h3><p>The <strong>Add Condition dialog</strong> and <strong>Add Action dialog</strong> are very similar so they are both documented here.  These dialogs allow you to add or edit a <a href="#anchor-76">condition</a> or <a href="#anchor-77">action</a> in an <a href="#anchor-121">event sheet</a>.</p><p>Adding a condition or action takes three steps:</p><ol><li><strong>Choose the object</strong> that has the condition or action</li><li><strong>Choose the condition or action</strong> in that object</li><li><strong>Enter parameters</strong>, if any, such as the X and Y co-ordinate for <em>Set Position</em>.</li></ol><p>The <strong>Next</strong> and <strong>Back</strong> buttons can be used to move forwards and backwards through these steps.</p><h3>Step 1: Choose the object</h3><p>In this step a list of all the <a href="#anchor-70">object types</a> in the project is shown.  The <strong>System object</strong> (which represents built-in functionality) always appears first, and the rest of the objects are sorted alphabetically.<br><img src="./manual_files/addeventdlg.png" alt="Add event dialog" width="477" height="391"><br><strong>Double click</strong> an object to choose it.  Typing in the <strong>search box</strong> in the top-right can quickly filter the list if there are many objects.</p><p>The conditions and actions each object contains is related to the kind of object it is (e.g. Sprite, Keyboard or Audio).  For example, to locate the <strong>Play sound</strong> action in the Add Action dialog, first double-click the <strong>Audio</strong> object.  Remember the <strong>System object</strong> contains some conditions which can be used for any object, such as <strong>Pick random</strong> and <strong>For Each</strong>.</p><h3>Step 2: Choose the condition or action</h3><p>In this step a list of all the <strong>conditions</strong> or <strong>actions</strong> in the chosen object is displayed.  They are arranged in to related categories.  Below a list of the System object's conditions is shown.<br><img src="./manual_files/addconditiondlg.png" alt="Add condition dialog" width="477" height="391"><br><strong>Double click</strong> a condition or action to choose it.  As before, typing in the <strong>search box</strong> can help quickly locate a condition or action in the list.</p><p>For more information on each condition or action, see the <a href="#anchor-106">Plugin reference</a>.  If the chosen object has any <a href="#anchor-72">behaviors</a>, they may add extra conditions and actions in to the dialog as well.</p><p>Some conditions and actions require <strong>parameters</strong>.  For example, the <em>Set position</em> action for a Sprite requires the <strong>X</strong> and <strong>Y</strong> co-ordinates to be entered.  This is done in the Parameters dialog in the next step.  However, some conditions and actions do not use any parameters, such as the <strong>Destroy</strong> action.  In this case once the condition or action is chosen the process is complete.</p><h3>Step 3: Enter parameters</h3><p>If the chosen condition or action requires parameters, the <a href="#anchor-60">Parameters dialog</a> appears for the parameters to be entered in to.  Click the link for more information on the Parameters dialog.</p><a name="anchor-50"></a><h3>3.10.4 Add configuration</h3><p>The <strong>Add Configuration</strong> dialog is used for the <strong>Configurations</strong> feature which is currently a work-in-progress.  Please check back soon for more details!</p><p><img src="./manual_files/addconfigdlg.png" alt="Add Configuration dialog" width="490" height="246"></p><a name="anchor-147"></a><h3>3.10.5 Effects dialog</h3><p>The <strong>Effects dialog</strong> allows you to add or remove <a href="#anchor-146">effects</a> for <a href="#anchor-68">objects</a>, <a href="#anchor-85">layers</a> and <a href="#anchor-67">layouts</a>.  It can be opened from the <a href="#anchor-40">Properties Bar</a> when the properties for an object supporting effects, a layer, or a layout are showing.</p><p><img src="./manual_files/effectsdlg.png" alt="The Effects dialog" width="348" height="245"></p><p>Effects can be added with the toolbar at the top or by right-clicking and selecting <em>Add effect</em>. This opens the Add Effect dialog. The toolbar and right-click menu also allow you to rename (F2) or delete (Del) effects.</p><p>Effects can be reordered by using the Up and Down buttons on the toolbar, or by dragging and dropping them. The order of effects is important since it defines the order in which the effects are processed, which can alter the visual result.  For more information, see the manual section on <a href="#anchor-146">Effects</a>.</p><a name="anchor-47"></a><h3>3.10.6 Event group</h3><p>The <strong>Add/Edit Event Group</strong> dialog contains settings for a <a href="#anchor-80">group</a> of <a href="#anchor-74">events</a>.</p><p><img src="./manual_files/editeventgroup.png" alt="Edit Event Group" width="366" height="218"></p><p><strong>Name</strong><br>A name identifying this event group, displayed in large lettering in the event sheet.  When enabling or disabling event groups, the name identifies the group.</p><p><strong>Description</strong> <em>(optional)</em><br>An optional description summarising what the events in the group do, for your organisational purposes.  This is displayed in smaller lettering beneath the group name.</p><p><strong>Active on start</strong><br>Determine whether or not the event group is enabled when the project begins.  If this is unchecked, the event group is disabled, and none of the events inside it will run until it is enabled by the <strong>Set group active</strong> <a href="#anchor-125">system action</a>.  Events which are inactive on start are displayed with a faded out font in the title.</p><a name="anchor-55"></a><h3>3.10.7 Event variable</h3><p>The <strong>Add/Edit Event Variable dialog</strong> allows you to set the name, type and initial value of a <a href="#anchor-83">global or local variable</a> in an <a href="#anchor-121">event sheet</a>.</p><p><img src="./manual_files/eventvariable.png" alt="Event Variable dialog" width="324" height="241"></p><p>The <strong>Name</strong> identifies the event variable.  This is typed in to <a href="#anchor-78">expressions</a> to retrieve the value of the event variable.  Some names cannot be used, like the names of system expressions, since they would conflict when entering an expression.</p><p>The <strong>Type</strong> specifies what kind of value the variable holds.  An event variable can store either a <em>Number</em> or <em>Text</em> (also known as a <em>string</em>).  The type of an event variable does not change - you can't store text in a Number variable and vice versa.</p><p>The <strong>Initial value</strong> is the initial number for a <em>Number</em> variable, else the initial text for a <em>Text</em> variable.  Initial text can be empty.  The initial text entered here does <strong>not</strong> need double quotes around it.  In other words, <em>Hello</em> is a valid entry, and if you enter <em>"Hello"</em> the initial string will include the double quotes.  Note this is different to entering strings in expressions which require the double quotes.</p><p>The <strong>Description</strong> is an optional comment you can use to briefly describe what the variable is used for.  It is displayed next to the name in the editor to help remind you what to use the variable for.</p><a name="anchor-127"></a><h3>3.10.8 Export project</h3><p>The <strong>Export Project</strong> dialog exports your <a href="#anchor-66">project</a> in a format ready for publishing.  See <a href="#anchor-122">Exporting and Publishing</a> for more information.</p><p><img src="./manual_files/exportproject_2.png" alt="Export Project dialog" width="490" height="360"></p><p>If you're looking for tips on ways to publish your game, see the tutorial <a href="http://www.scirra.com/tutorials/74/publishing-and-promoting-your-construct-2-game" target="_blank">Publishing and promoting your Construct 2 game ⇗</a>.</p><p>If you are interested in the technical details of exported projects, see the <a href="#anchor-35">Technology</a> section.</p><p><strong>Export for</strong><br>There are a variety of ways to publish HTML5 games.  See <a href="#anchor-122">Exporting and Publishing</a> for more information.</p><p><strong>Folder for files</strong><br>All the exported files are generated in this folder.  They include a variety of HTML, Javascript, PNG files and more.  It is highly recommended to use a new, empty folder.  The default folder can be chosen in <a href="#anchor-61">Preferences</a>.</p><p><strong>Subfolder for images</strong><br>All the project's images and animation frames will be placed in this subfolder.  Leave it empty to export images to the export folder.</p><p><strong>Subfolder for project files</strong><br>All the project's files (sound and music) will be placed in this subfolder.  Leave it empty to export files to the export folder.</p><p><strong>PNG recompression</strong><br>The exported images are in PNG format and can be recompressed losslessly to reduce their filesize even more.  However, this can slow down the export time considerably.  Use <em>None</em> to skip this - the exported files will be larger, but the export process will be quicker.  <em>Standard</em> is recommended to ensure the download size is as small as possible.  <em>Brute</em> can be used if you have an extremely large project or it's essential to save as much bandwidth as possible, but the export process can take a very long time in this mode so it is not recommended.  For more information on the recompression techniques Construct 2 uses, see this blog post on <a href="http://www.scirra.com/blog/66/image-compression-in-construct-2" target="_blank">Image compression in Construct 2 ⇗</a>.</p><p><strong>Minify script</strong><br>The exported Javascript code can be compressed with Google's Closure Compiler to reduce the download time.  This is called <em>minification</em>.  At the same time the code is obfuscated to make it extremely difficult to reverse-engineer your project.  For this reason it is <strong>highly recommended</strong> to always minify your script on export.  Minification requires <a href="http://java.com/" target="_blank">Java ⇗</a> to be installed.  (Note that Java is a different technology to Javascript.)</p><a name="anchor-59"></a><h3>3.10.9 Expressions panel</h3><p>The <strong>Expressions Panel</strong> is a dictionary of all the <a href="#anchor-78">expressions</a> available in your project.  It is shown floating next to the <a href="#anchor-60">Parameters dialog</a>.  By default it is semitransparent so it does not distract you while entering parameters.  The Expressions Panel can be hidden or shown by pressing <strong>F4</strong>.</p><p><img src="./manual_files/expressionspanel.png" alt="The Expressions Panel." width="540" height="240"></p><p>The <strong>search box</strong> in the top right can be used to quickly filter the object list.</p><p><strong>Double click</strong> an object to list all its expressions.  Descriptions are also shown next to each expression to help indicate what value will be retrieved.  <strong>Double click</strong> one of the listed expressions to insert it to the current expression in the Parameters dialog.  Press <strong>Escape</strong> or click the <strong>Back</strong> button to return to the object list.</p><p>Behavior expressions are also shown for objects with <a href="#anchor-72">behaviors</a>.  The System page also lists all <a href="#anchor-126">system expressions</a>, global variables and local variables which are in scope (see <a href="#anchor-83">Event Variables</a>).</p><a name="anchor-129"></a><h3>3.10.10 Image format</h3><p>The <strong>Image Format dialog</strong> is opened in the <a href="#anchor-48">Image/Animations editor</a> to set the file format for an image when the project is exported.</p><p><img src="./manual_files/imageformatdlg.png" alt="The Image Format dialog." width="244" height="238"></p><p>Images in the project are always saved in <strong>PNG-32</strong> format.  This is the only format that exactly preserves an image with an alpha channel.  The settings here are only used when the project is <a href="#anchor-122">exported</a>.  They are mainly used to reduce the image file sizes so the game download is smaller.</p><p>Images in either PNG format are also recompressed on export to further reduce the filesize without affecting the image quality.  For more information on the recompression techniques Construct 2 uses on export, see this blog post on <a href="http://www.scirra.com/blog/66/image-compression-in-construct-2" target="_blank">Image compression in Construct 2 ⇗</a>.</p><p>The Image Format dialog has the following options:</p><p><strong>Format</strong><br>The format of the image when exported.  In brief, the formats are as follows:<br><em>PNG-32</em> (default) can store true color images losslessly (perfectly, without any quality loss) with full alpha channel transparency.  However, it usually also produces the largest file.<br><em>PNG-8</em> is a 256-color version of PNG.  It supports alpha channel transparency, but within the 256 colors only.  Retro or low-color images should look exactly the same in PNG-8.  Images with more than 256 colors have to be reduced to only 256 colors which can degrade the image quality.  However, Construct 2 uses an advanced dithering algorithm (<a href="http://pngnq.sourceforge.net/" target="_blank">PNGNQ ⇗</a>) to achieve this color reduction.  This means many images still look almost identical.  PNG-8 files are also often much smaller than PNG-32 files, so using PNG-8 is a useful way to reduce the download size of the game.<br><em>JPEG</em> is an image format designed for photographic or highly detailed images.  It does <strong>not</strong> support transparency at all, so it is not suitable for images which have any transparent areas or alpha channels (they will appear as if on a black background).  However, JPEG can achieve the smallest files of all, depending on the quality setting.  This is generally best for minimising the size of large background images.</p><p>For more information on these formats see the Wikipedia articles on <a href="http://en.wikipedia.org/wiki/Portable_Network_Graphics" target="_blank">PNG ⇗</a> and <a href="http://en.wikipedia.org/wiki/JPEG" target="_blank">JPEG ⇗</a>.</p><p><strong>Quality</strong><br>The quality setting when using the <em>JPEG</em> format.  JPEG quality ranges from 0 (worst quality, smallest file) to 100 (best quality, largest file).  Quality settings above 85 are often difficult to distinguish from the original.  75 is recommended as a compromise between quality and reducing the file size as much as possible.</p><p><strong>Apply this setting to</strong><br>Allows you to set the same image format for many images at once.<br><em>This frame</em> or <em>This image</em> applies the image format only to the currently viewed image or animation frame.<br><em>This animation</em> (Sprite only) applies the image format to all the frames in the current animation.<br><em>All animations</em> (Sprite only) applies the image format to the entire object - all its frames in all its animations.<br><em>Entire project</em> applies the image format to every single image in the entire project.  Use this with care, since it overwrites every single other object's image format settings, and cannot be undone.</p><a name="anchor-52"></a><h3>3.10.11 Import audio</h3>The <strong>Import Audio dialog</strong> allows audio files to be added to the project from disk.  It is accessed by selecting <strong>Import Sounds</strong> or <strong>Import Music</strong> from the right-click menu of the <em>Sounds</em> or <em>Music</em> folders in the <a href="#anchor-39">Project Bar</a>.  Be sure to add the <a href="#anchor-109">Audio object</a> to your project to play back sounds and music.<br><br><img class="article-image" src="./manual_files/importaudio.png" alt="Import Audio dialog"><!--imgend--><br>Before the dialog appears, you will be prompted to select some audio files from disk.  You can select more than one file.  The files are listed in the Import Audio dialog before importing, with tips about whether the format is supported or not.  You can also click <strong>Add more files...</strong> on this screen to add some more files to the list.<br><br>Click <strong>Import</strong> to begin importing the listed files to the project.  This may take a while with long audio recordings (e.g. music tracks); a progress bar may appear during the processing.  Only files which are in a supported format are imported.  Once importing has finished, the list will show the results of which files were successfully imported.  Click <strong>Done</strong> to close the dialog.<br><br>It is highly recommended to import <strong>PCM .wav files</strong>, since they are commonly supported and Construct 2 can encode them to both Ogg Vorbis and MPEG-4 AAC (only on Windows 7+).<br><br><h3>Two audio formats are required</h3><br>Browser makers have not been able to agree on a common audio format for the web.  Internet Explorer and Safari use the proprietary <strong>MPEG-4 AAC</strong> (.m4a) format, and all other browsers (Firefox, Chrome and Opera) support the free <strong>Ogg Vorbis</strong> format.<br><br>For audio playback in all browsers, your audio must therefore be in <em>both</em> formats.  Construct 2 helps you by encoding any uncompressed audio you import to both <strong>.m4a</strong> and <strong>.ogg</strong> for you automatically.  However due to licensing restrictions around the proprietary MPEG-4 AAC format, Construct 2 will only encode .m4a files on Windows 7 and newer.  Users on Windows XP and Vista must encode .m4a files on their own.  The file extension must be .m4a.  Free encoders are available; try searching the web for an AAC encoder.<br><br>The Ogg Vorbis format can be encoded on any system.<br><br>Construct 2 favours the <strong>Ogg Vorbis</strong> format.  When choosing a sound in the event system, only <strong>.ogg</strong> files are listed.  A .m4a file is considered a back-up to the .ogg file for browsers which do not support Ogg Vorbis.  This also means if you import a .m4a file with no corresponding .ogg file, it will not be listed in the event system.  This is by design.<br><br>Construct 2 will not trans-code .m4a files to .ogg nor .ogg files to .m4a; it is recommended to import <strong>PCM .wav files</strong> which Construct 2 can encode itself.  Trans-coding also degrades the quality to worse than if uncompressed audio was encoded once.<br><br><h3>Categorise audio files correctly</h3><br>It is important to organise audio files appropriately, because audio files in the <strong>Sounds</strong> project folder are downloaded completely before playing, but files in the <strong>Music</strong> folder are streamed.  This means if a Music track is accidentally put in the Sounds folder, it would have to download completely (which could take a couple of minutes) before it started playing.  However, audio in the Music folder can start playing immediately since it is streamed from the server.<br><br><h3>Supported audio formats</h3><br>There are many audio formats and many of them have different levels of support.  Also, many formats have sub-formats, and not all sub-formats are always supported.  This makes describing the audio support complicated.  A best effort is made below to summarise the supported audio formats but this is not guaranteed to give you results.  Instead, it is highly recommended you only import <strong>PCM .wav files</strong>, which are widely supported and can be encoded to both .m4a and .ogg by Construct 2.  Note there are different types of .wav file other than PCM: Construct 2 will try to display the type of .wav file in the Import Audio dialog (in the picture above, PCM files were used), but types other than PCM may not import.  Any good audio codec software will be able to convert to PCM .wav.  Try to avoid using "lossy" formats before importing to Construct 2, else the quality will be further degraded when Construct 2 encodes the lossy .ogg and .m4a files.<br><br>The following formats are listed by their file extension, and whether Construct 2 can encode them to Ogg Vorbis (.ogg) and MPEG-4 AAC (.m4a).<br><br><strong>.wav</strong> (PCM or PCM float format): Both<br><strong>.flac</strong> (FLAC): Both<br><strong>.ogg</strong> (Ogg Vorbis): Imported but not converted to .m4a<br><strong>.m4a</strong> (MPEG-4 AAC): Imported but not converted to .ogg<br><strong>.aif</strong>, <strong>.aiff</strong>, <strong>.aifc</strong> (AIFF): .ogg only<br><strong>.aac</strong> (MPEG-4 AAC): .m4a only<br><strong>.mp3</strong> (MPEG-1 layer 3): .m4a only<br><strong>.wma</strong> (Windows Media Audio): .m4a only<a name="anchor-63"></a><h3>3.10.12 Image points</h3><p>The <strong>Image Points dialog</strong> allows you to set the object origin (the point of rotation) and image points (arbitrary points that can be accessed by events) on an image.  It is accessed via the <a href="#anchor-48">Image and Animations editor</a>.</p><p>The <strong>Origin</strong> is a special kind of image point defining the center of the object, or its point of rotation.  It has a different icon, colored red.  The term <em>image point</em> usually means "image points including the origin".  Image points have a <strong>zero based index</strong>, and the first image point (number 0) is always the origin.  The origin cannot be renamed.</p><p><strong>Image points</strong> are useful to create spawn points for other objects.  Since you can create objects at image points in events, it is often useful to place an image point in places like the end of the player's gun in the image.  Image points can also be given a name, and referred to in events by this name.</p><p><img src="./manual_files/imagepointsdlg_2.png" alt="The Image Points dialog" width="207" height="219"></p><p>Below, an image point is placed at the end of the player graphic's gun.  Notice the indicator there.</p><p><img src="./manual_files/imagepointexample.png" alt="Placing an image point" width="493" height="407"></p><p><strong>Select an image point in the list</strong> and a corresponding point should appear on the image.  <strong>Left click</strong> to place the point under the mouse.  The <strong>arrow keys</strong> can also nudge it 1 pixel in each direction.</p><p>An image point can be quickly placed using the <strong>num pad</strong>, e.g. <strong>1</strong> for the top-left corner or <strong>5</strong> for centered.  Alternatively the image point can be <strong>right clicked</strong> in the Image Points dialog and an option chosen from the <strong>quick assign</strong> menu.</p><p><strong>Right clicking</strong> an image point in the Image Points dialog also provides an <strong>Apply to whole animation</strong> option.  This sets the image point in the same relative place in all frames in an animation.  If an image point does not exist in all frames in the animation, this option also creates it.  <strong>Holding shift</strong> while placing the image point is a shortcut for this.</p><a name="anchor-53"></a><h3>3.10.13 Import sprite strip</h3><p>This dialog allows you to import an image containing an entire animation in a grid.  It is accessed via the <a href="#anchor-48">Animation Frames bar</a>.  After choosing the <strong>Import sprite strip...</strong> option, a dialog appears to select the image file.  After a file has been chosen, this dialog appears to tell Construct 2 how many animation frames are in the image.</p><p><img src="./manual_files/importspritestrip_2.png" alt="Import Sprite Strip dialog" width="285" height="176"></p><p>For example, the following image has 7 horizontal cells and since they are all on one row, only 1 vertical cell:</p><p><img src="./manual_files/gun_blast_blue.png" alt="7 x 1 cells" width="512" height="64"></p><p>The following image is in a grid, so has 4 horizontal cells and 4 vertical cells:</p><p><img src="./manual_files/projectile_glow_orange.png" alt="4 x 4 cells" width="128" height="128"></p><p>In both cases Construct 2 will separate each cell in the image to a different animation frame.</p><a name="anchor-54"></a><h3>3.10.14 Insert new object</h3><p>The <strong>Insert New Object dialog</strong> typically appears after <strong>double clicking</strong> a space in a <a href="#anchor-43">Layout View</a>.  It allows you to choose the kind of object to insert (each kind is known as a <a href="#anchor-69">plugin</a>).  Inserting a new object creates a new <a href="#anchor-70">object type</a>.  See <a href="#anchor-32">Project Structure</a> for a description of the difference between object types and instances.  Also see the <a href="#anchor-106">Plugin Reference</a> section of the manual for documentation on each plugin.</p><p><img src="./manual_files/insertobjectdlg.png" alt="The Insert New Object dialog." width="530" height="476"></p><p>Plugins are categorised in to related groups.  Within each group they are arranged alphabetically.  Selecting an item will display a brief description summarising what the plugin does in the <strong>Description</strong> field at the bottom of the dialog.  Typing in the <strong>search box</strong> in the top right can quickly filter down the list to help you find what you are looking for.</p><p>The <strong>Name when inserted</strong> indicates what the name of the object type in the project will be after you insert it.  By default this will be a numbered version of the plugin name e.g. <em>Sprite2</em>, <em>Sprite3</em> etc.  It is a good idea to give objects descriptive names so you don't get confused when working on your project.  You can enter a descriptive name in this field which the object will use when inserted, but if you don't you can still easily rename objects via the <a href="#anchor-40">Properties Bar</a> or <a href="#anchor-39">Project Bar</a>.</p><p><strong>Double click</strong> an item to insert it.  If the object can be placed in a layout and a Layout View is open, the <strong>cursor turns to a crosshair</strong> for you to place the first <strong>instance</strong> of that object.  For objects with images or animations (like Sprite), after you have placed this instance the <a href="#anchor-48">Image/Animations editor</a> will appear to design the image or animations for the object.</p><p>Other kinds of object (like the Keyboard and Audio object) do not need placing in a layout.  After inserting one of these objects, the dialog closes but there is no need to place it anywhere.  Instead, a notification bar appears indicating that they are available to the entire project.  This type of object can only be inserted once, and will disappear from the list if the dialog is brought up again.</p><a name="anchor-62"></a><h3>3.10.15 Instance variable</h3><p>The <strong>Add/Edit Instance Variable dialog</strong> allows you to set the name, type and initial value for an <a href="#anchor-73">instance variable</a> in an <a href="#anchor-70">object type</a>.  It can be opened from the <a href="#anchor-56">Object Instance Variables</a> dialog.</p><p><img src="./manual_files/instancevardlg.png" alt="Instance Variables dialog" width="325" height="241"></p><p>The <strong>Name</strong> identifies the instance variable.  This is typed in to <a href="#anchor-78">expressions</a> after the object name (e.g. <em>Sprite.MyVariable</em>) to retrieve the value of the instance variable.  Some names cannot be used if they conflict with the names of the object's other expressions or behaviors.</p><p>The <strong>Type</strong> specifies what kind of value the variable holds. An instance variable can store a <em>Number</em>, <em>Text</em> (also known as a <em>string</em>) or a <em>Boolean</em> (a simple on or off value, sometimes also known as a <em>flag</em>). The type of an instance variable does not change - for example, you can't store text in a <em>Number</em> variable.</p><p>The <strong>Initial value</strong> is the initial number for a <em>Number</em> variable, the initial text for a Text variable, or <em>true</em> or <em>false</em> for a Boolean. Initial text can be empty. The initial text entered here does not need double quotes around it. In other words, <em>Hello</em> is a valid entry, and if you enter <em>"Hello"</em> the initial string will include the double quotes. Note this is different to entering strings in expressions which require the double quotes.</p><p>The <strong>Description</strong> is an optional comment you can use to briefly describe what the variable is used for. It is displayed next to the name in the editor to help remind you what to use the variable for.  It is also displayed in the <a href="#anchor-40">Properties Bar</a> description panel when the instance variable's property is selected.</p><a name="anchor-58"></a><h3>3.10.16 New project</h3><p>The <strong>New Project dialog</strong> appears when creating a new <a href="#anchor-66">project</a>.  It allows you to choose between the different <a href="#anchor-33">project types</a>.</p><p><img src="./manual_files/newprojectdlg.png" alt="New Project dialog" width="627" height="287"></p><p>Choose between a single-file project or folder project.  See <a href="#anchor-33">project types</a> for more information.</p><p>A single-file project can be created immediately, but a folder project requires the project folder to be created before starting.  Single-file projects are generally more convenient for small projects, and folder-based projects more convenient for large projects.  The type can be changed at any time by choosing <strong>Save as project</strong> or <strong>Save as single file</strong> in the <a href="#anchor-37">File menu</a>.</p><a name="anchor-56"></a><h3>3.10.17 Object instance variables</h3><p>The <strong>Object Instance Variables dialog</strong> lists all the <a href="#anchor-73">instance variables</a> an <a href="#anchor-70">object type</a> has.  It can be opened from the <a href="#anchor-40">Properties Bar</a> while the object's properties are showing, or from right-clicking the object in the <a href="#anchor-39">Project Bar</a> or <a href="#anchor-41">Object Bar</a> and selecting <strong>Instance variables...</strong>.</p><p><img src="./manual_files/instvarsdlg.png" alt="Object instance variables dialog." width="332" height="155"></p><p>Instance variables can be added with the toolbar at the top or by right-clicking and selecting <strong>Add instance variable</strong>.  This opens the <a href="#anchor-62">Add Instance Variable dialog</a>.  The toolbar and right-click menu also allow you to rename (F2) or delete (Del) instance variables.  <strong>Double click</strong> an instance variable in the list to edit it.</p><p>Instance variables can be reordered by using the Up and Down buttons on the toolbar, or by <strong>dragging and dropping</strong> them.  The order of instance variables is just for organisation - it does not affect how they actually work.</p><p>If all instances of the object type have the same initial value for an instance variable, it is displayed in the <strong>Initial value</strong> column.  However, different instances can have different initial values set via the Properties Bar.  If there are different initial values across the instances, the <strong>Initial value</strong> column will display <em>&lt;varies&gt;</em>.  Editing an instance variable with varying values and changing the initial value from the Edit Instance Variable dialog will set a new initial value for <em>all</em> the instances, overwriting the previous value for all of them.</p><a name="anchor-57"></a><h3>3.10.18 Object behaviors</h3><p>The <strong>Object Behaviors dialog</strong> lists all the <a href="#anchor-72">behaviors</a> an <a href="#anchor-70">object type</a> has.  It can be opened from the <a href="#anchor-40">Properties Bar</a> while the object's properties are showing, or from right-clicking the object in the <a href="#anchor-39">Project Bar</a> or <a href="#anchor-41">Object Bar</a> and selecting <strong>Behaviors...</strong>.  For documentation on individual behaviors, see the <a href="#anchor-86">Behavior Reference</a> section of the manual.</p><p><img src="./manual_files/behaviorsdlg.png" alt="Behaviors dialog" width="305" height="232"></p><p>Behaviors can be added with the toolbar at the top or by right-clicking and selecting <strong>Add behavior</strong>.  This opens the <a href="#anchor-49">Add Behavior dialog</a>.  The toolbar and right-click menu also allow you to rename (F2) or delete (Del) behaviors.  The behavior is referred to in the event system by its name.</p><p>Behaviors can be reordered by using the Up and Down buttons on the toolbar, or by <strong>dragging and dropping</strong> them.  The order of behaviors is just for organisation - it does not affect how they actually work.</p><a name="anchor-60"></a><h3>3.10.19 Parameters</h3><p>The <strong>Parameters dialog</strong> appears after the <a href="#anchor-51">Add condition or action dialog</a>, or when editing a <a href="#anchor-76">condition</a> or <a href="#anchor-77">action</a>.  It allows you to enter <em>parameters</em> such as the X and Y co-ordinate for the Sprite object's <em>Set Position</em> action (shown below).  It does not appear for conditions or actions which do not use any parameters, such as the <em>Destroy</em> action.  <a href="#anchor-78">Expressions</a> can be entered for parameters, which can be anything from a simple value to a sophisticated mathematical calculation.</p><p>The <a href="#anchor-59">Expressions panel</a> appears next to the Parameters dialog providing a list of all the expressions you can enter.  By default the Expressions panel is faded out unless you hover the mouse over it.  It can also be hidden or shown by pressing <strong>F4</strong>.</p><p><img src="./manual_files/parametersdlg.png" alt="The Parameters dialog" width="447" height="220"></p><p>Use the <a href="#anchor-59">Expressions panel</a> to locate system expressions, object expressions, behavior expressions, global and local variables and instance variables.  Alternatively you can use <strong>autocomplete</strong>: type in an expression as far as the dot (e.g. <em>Sprite.</em>) and a <strong>list of all its expressions</strong> appears, shown below.  This lists the object's expressions, its instance variables, and its behaviors.  Use the <strong>up and down arrow keys</strong> to pick an expression in the list and <strong>Enter</strong> to insert it.</p><p><img src="./manual_files/parametersautocomplete.png" alt="Parameters autocomplete" width="450" height="228"></p><p>Some expressions also show tips to help you remember how to use the expression, shown below.  This appears when you type the open bracket <strong>(</strong> for the expression.  This is most useful for System expressions which tend to have multiple parameters.</p><p><img src="./manual_files/parametertips.png" alt="Parameter tips" width="447" height="190"></p><p>Press <strong>Tab</strong> to move to the next parameter or <strong>Shift + Tab</strong> to move to the previous.  <strong>Enter</strong> is also a shortcut to press <strong>Done</strong> (you may have to press Enter twice if autocomplete is showing: once to choose the autocomplete entry, and again to close the dialog).</p><a name="anchor-61"></a><h3>3.10.20 Preferences</h3><p>The <strong>Preferences dialog</strong> contains settings for the Construct 2 editor.  It can be opened from the <a href="#anchor-37">File menu</a>.  Settings are organised in to 3 tabs: <em>General</em>, <em>HTML5 exporter</em> and <em>Backup</em>.</p><h3>General</h3><p>This section contains general settings for the Construct 2 editor.</p><p><img src="./manual_files/preferences-page1.png" alt="Preferences &#39;General&#39; tab." width="455" height="395"></p><p><strong>Resize handle size</strong><br>Change the size of the resize handles in the <a href="#anchor-43">Layout View</a>.  The default is <em>Small</em>.</p><p><strong>Event sheet font</strong><br>Change font used in the <a href="#anchor-44">Event Sheet View</a>.  The default is <em>Segoe UI, 9pt</em>.</p><p><strong>Show start page on startup</strong><br>If checked, the <a href="#anchor-11">Start Page</a> appears when starting the Construct 2 editor.  If disabled a blank screen is shown on startup instead.</p><p><strong>Close the start page when I click on something</strong><br>If checked, the Start Page will close as soon as you click on one of the links (e.g. a recent project).  Otherwise, the Start Page's tab is left open.</p><p><strong>Update checking</strong><br>Choose one of:<br><em>Don't for updates</em>: Construct 2 will not access the Internet to check for new versions.  This is not recommended, since new versions often contain significant improvements.<br><em>Check for beta updates</em>: Check online for new testing releases from Scirra.<br><em>Check for updates</em>: Check online for new releases from Scirra which have already been tested by people checking for beta updates.</p><p><strong>Reset dialogs</strong><br>Click this button to reset all dialogs and bars in the user interface to their default position and size.  A prompt will appear to confirm this, then you must restart Construct 2 for the change to take effect.  This is useful if you want to get the default UI back.  Also, if for any reason dialogs appear glitchy or no longer appear when you try to open them, resetting them with this option can bring them back.</p><h3>HTML5 exporter</h3><p>This section contains settings for Construct 2's HTML5 exporter, as well as the local server used for previewing.</p><p><img src="./manual_files/preferences-page2.png" alt="Preferences &#39;HTML5 exporter&#39; tab." width="455" height="395"></p><p><strong>Default preview browser</strong><br>Choose the <em>Preview browser</em> setting for new <a href="#anchor-66">projects</a>.  This does not affect any existing projects.</p><p><strong>Custom browser</strong><br>Choose any executable file on disk to be launched for previewing when the <em>Preview browser</em> is set to <em>Custom</em>.  For example, you may want to install a pre-release (beta) browser alongside the stable release, and have the option to also preview in the pre-release browser.  Alternatively, Construct 2 sometimes cannot detect the traditional browsers even when they are installed, so you can manually specify a browser here.</p><p><strong>Default export folder</strong><br>Choose the default folder for exporting to in the <a href="#anchor-127">Export Project dialog</a>.  In this path <strong>&lt;project name&gt;</strong> is replaced with the name of the project, or the name of the project is appended to the path if it is not present.  The default is to your desktop.</p><p><strong>HTTP server port</strong><br>The port to use when previewing.  By default this is <strong>50000</strong>.  You should not change this unless you know there is something else using port 50000 on your computer.  Construct 2 will also try the next 100 ports if the chosen one is in use.  You must restart Construct 2 before any changes to the port take effect.</p><p><strong>Preview on LAN address</strong><br>Enter the IP address of your computer on your local area network (LAN) to enable sharing preview with any device on your LAN.  Click the button to the right to see a list of possible IP addresses for your computer.  To use this feature, you must also allow the <strong>HTTP server port</strong> inbound through your firewall, and Construct 2 must be running with administrator permissions.  Alternatively, entering <em>localhost</em> only previews on your computer, and does not require administrator permission.  More information on how to set up and use this feature is in the tutorial <a href="http://www.scirra.com/tutorials/247/how-to-preview-on-a-local-network" target="_blank">How to preview on a local network ⇗</a>.</p><h3>Backup</h3><p>This section contains settings to help you set up automatic backup for your work.  This is essential to ensure your work is safe even in the event of catastrophes like hardware failure, theft, fire or floods.  For more information, see the tutorial <a href="http://www.scirra.com/tutorials/269/keep-your-work-safe-with-construct-2s-backup-options" target="_blank">Keep your work safe with Construct 2's backup options ⇗</a>.</p><p><img src="./manual_files/preferences-page3.png" alt="Preferences &#39;Backup&#39; tab." width="455" height="395"></p><p><strong>Auto-backup</strong><br>Save single-file (.capx) backups in the same folder as your project whenever pressing 'Save'.  These have the file extension <em>.capx.backupN</em>.  For example, if 3 auto-backups are enabled, <em>myfile.capx.backup1</em> is the last save, <em>myfile.capx.backup2</em> is two saves ago, and <em>myfile.capx.backup3</em> is three saves ago.  By default Construct 2 keeps one auto-backup file, allowing you to recover your project in the event software or hardware failure causes your main project to become corrupt.  However, in many scenarios you can lose your auto-backups at the same time as your main project; for this reason, it is <strong>highly</strong> recommended to also set up a scheduled backup to an off-site location.</p><p><strong>Backup folders (scheduled backup)</strong><br>To ensure your work is always safe, it's vital to also back up your project to off-site locations, or at least on a different computer or hard disk.  (Backing up to a <a href="http://db.tt/TQqScn9k" target="_blank">Dropbox ⇗</a> folder is specifically recommended as a free and straightforward off-site backup.)  To help you do this, Construct 2 can save your project to different folders at regular intervals.  You can choose up to three backup folders and the time interval that backups should be made.  Files are saved as single-file (.capx) projects with some random text appended to prevent two identically named files in different folders overwriting each other's backups (e.g. <em>myfile-abc123.capx</em> and <em>myfile-def456.capx</em>).  <strong>Note:</strong> backups are only made when pressing the 'Save' button.  Simply opening a project that somebody has sent you will not make a backup for it unless you modify it and click 'Save'.</p><a name="anchor-64"></a><h2>3.11 Keyboard Shortcuts</h2><h3>General</h3><p><strong>Ctrl + X</strong> Cut<br><strong>Ctrl + C</strong> Copy<br><strong>Ctrl + V</strong> Paste<br><strong>Ctrl + Drag with mouse left button</strong> Duplicate</p><p><strong>Ctrl + Z</strong> Undo<br><strong>Ctrl + Y</strong> Redo</p><p><strong>Ctrl + A</strong> Select all</p><p><strong>Ctrl + N</strong> New project<br><strong>Ctrl + O</strong> Open project<br><strong>Ctrl + S</strong> Save project</p><p><strong>Alt + F4</strong> Close Construct 2</p><p>You can also press <strong>Alt</strong> to navigate the <a href="#anchor-38">ribbon</a>.  When you press it, some tooltips should appear indicating the keys to press for each option.</p><p><strong>F4</strong> Preview project from first layout<br><strong>F5</strong> Preview current layout<br><strong>F6</strong> Export project</p><p><strong>Ctrl + Mouse Wheel Up</strong> or <strong>Num pad +</strong> Zoom in<br><strong>Ctrl + Mouse Wheel Down</strong> or <strong>Num pad -</strong> Zoom out<br>Add shift to adjust the zoom distance.</p><p><strong>Ctrl + 0</strong> Return to 100% zoom</p><p><strong>Middle mouse button drag</strong> or <strong>Hold space and move mouse</strong> Pan the view</p><p><strong>Delete</strong> Delete selected item(s)<br><strong>F2</strong> Rename selected item</p><p><strong>Ctrl + click</strong> Add or remove clicked item from selection<br><strong>Shift + click</strong> As with Ctrl, but in Event Sheet View this selects everything in between the last selected item and the clicked item.</p><p><strong>Escape</strong> Cancel drag or placement or event search</p><p><strong>Ctrl + Tab</strong> Go to next tab to right<br><strong>Ctrl + Shift + Tab</strong> Go to next tab to left</p><h3>Layout view</h3><p>See also: <a href="#anchor-43">Layout View</a></p><p><strong>Ctrl + E</strong> or <strong>Shift + Tab</strong> Go to associated event sheet</p><p><strong>Arrow keys</strong> Nudge selected objects 1 pixel - hold shift to nudge 10 pixels</p><p><strong>Hold shift</strong> while resizing objects for proportional resize<br><strong>Hold shift</strong> while rotating objects to lock to 5 degree increments<br><strong>Hold shift</strong> while dragging objects for axis-lock (move along diagonals only)</p><p><strong>Ctrl + D</strong> Unselect all</p><h3>Event Sheet View</h3><p>See also: <a href="#anchor-44">Event Sheet View</a></p><p><strong>Ctrl + L</strong> or <strong>Shift + Tab</strong> Go to associated layout (if any - event sheets only used via includes have no associated layout)</p><p><strong>Up arrow key</strong> and <strong>Down arrow key</strong> Move the selection up and down the event sheet<br><strong>Left arrow key</strong> and <strong>Right arrow key</strong> Move the selection sideways between Events, Conditions and Actions</p><p><strong>Enter</strong> Edit selected item</p><p><strong>Escape</strong> Clear event search</p><p><strong>A</strong> Add action<br><strong>B</strong> Add blank subevent<br><strong>C</strong> Add condition<br><strong>D</strong> Toggle selected items disabled<br><strong>E</strong> or <strong>Num pad +</strong> Add event below<br><strong>Shift + E</strong> or <strong>Num pad -</strong> Add event above<br><strong>G</strong> Add group<br><strong>I</strong> Invert selected conditions<br><strong>N</strong> Add include<br><strong>Q</strong> Add comment<br><strong>S</strong> Add subevent<br><strong>V</strong> Add variable<br><strong>X</strong> Add 'Else' event following selected event<br><strong>Y</strong> Toggle 'Or' block</p><h3>Parameters dialog</h3><p>The <a href="#anchor-60">parameters dialog</a> is where you enter expressions, e.g. the X and Y co-ordinate for <em>Set position</em>.</p><p><strong>F4</strong> Toggle the floating <a href="#anchor-59">expressions panel</a> visible.  This shows every expression you can use.</p><p><strong>Tab</strong> Next parameter<br><strong>Shift + Tab</strong> Previous parameter<br><strong>Escape</strong> Cancel<br><strong>Enter</strong> Done</p><h3>Image and Animations editor</h3><p>See also: <a href="#anchor-48">Image and Animations editor</a></p><p>Quick assign origin and image points:<br><strong>Num pad 1</strong> or <strong>End</strong> Bottom left<br><strong>Num pad 2</strong> Bottom<br><strong>Num pad 3</strong> or <strong>Page down</strong> Bottom right<br><strong>Num pad 4</strong> Left<br><strong>Num pad 5</strong> Center<br><strong>Num pad 6</strong> Right<br><strong>Num pad 7</strong> or <strong>Home</strong> Top left<br><strong>Num pad 8</strong> Top<br><strong>Num pad 9</strong> or <strong>Page up</strong> Top right<br><strong>Arrow keys</strong> Nudge 1 pixel<br>Hold Shift to apply the origin/image point to the entire animation.  Shift + Click also applies that positioning to the entire animation.</p><p><strong>Shift + Crop button</strong> Crop entire animation<br><strong>Shift + Mirror button</strong> Mirror entire animation<br><strong>Shift + Flip button</strong> Flip entire animation<br><strong>Shift + Rotate Clockwise button</strong> Rotate entire animation clockwise<br><strong>Shift + Rotate Anticlockwise button</strong> Rotate entire animation anticlockwise</p><p>Animations only:<br><strong>Ctrl + Left</strong> or <strong>-</strong> Previous animation frame<br><strong>Ctrl + Right</strong> or <strong>+</strong> Next animation frame<br><strong>P</strong> Preview animation</p><a name="anchor-65"></a><h1>4. Project primitives</h1><p>This section outlines the <strong>primitives</strong> (i.e. basic elements) of projects.  These primitives provide the building blocks which complex games can be built from.  For an at-a-glance summary, see <a href="#anchor-32">Project structure</a> from the Overview section.</p><p>Construct 2 uses a programming-free event system to design games.  If you are new to the event system, the section on <a href="#anchor-75">How events work</a> is highly recommended.</p><a name="anchor-66"></a><h2>4.1 Projects</h2><p>A <strong>project</strong> is a complete game or app made in Construct 2.  Projects contain every element making up the game, ranging from events to sound files.  An overview of the project is shown in the <a href="#anchor-39">Project Bar</a> where elements can be added, renamed, removed and arranged in to folders for organisation.  See <a href="#anchor-32">Project structure</a> for a summary of the elements making up a project.  The rest of this manual section goes in to more detail about each part of a project.</p><p>Projects can be opened, closed and exported from the <a href="#anchor-37">File menu</a>.  See also <a href="#anchor-33">Saving and sharing projects</a> and <a href="#anchor-122">Exporting and Publishing</a>.  If you are interested in the technical details of exported projects see <a href="#anchor-35">Technology</a>.  It is recommended to follow some <a href="#anchor-34">best practices</a> while working on projects.</p><h3>Project properties</h3><p>The properties for a project can be edited in the <a href="#anchor-40">Properties Bar</a> after selecting the name of the project in the Project Bar, or using the <strong>Project Properties</strong> shortcut in Layout Properties.</p><p>The Name, Author and Description properties are used for some of the export options, so be sure to fill them out accurately for any important projects.</p><p><strong>Name</strong><br>The name or title of the project.</p><p><strong>Author</strong><br>The name of the individual or organisation developing the project.</p><p><strong>Description</strong><br>A sentence or two giving a short summary of the project.</p><p><strong>Version</strong><br>A number identifying the version or revision of the project.  You can use this for your own records, but it is also sometimes used when exporting your project to identify a new revision of the same project.  Therefore it is a good idea to increment it when publishing a new version of a project.</p><p><strong>First layout</strong><br>Select which <a href="#anchor-67">layout</a> is the first to appear when the project is exported.  When previewing in the editor usually a specific layout is previewed, so this setting has no effect until export.</p><p><strong>Pixel rounding</strong><br>By default Construct 2 objects can be drawn at sub-pixel positions, e.g. (100.3, 200.8).  If the browser is using linear filtering, this can make fine pixel art appear blurry.  If <em>Pixel rounding</em> is set to <em>On</em>, Construct 2 objects round their position to a whole number before drawing, e.g. (100, 201).  This prevents any blurring, and can also prevent "seams" appearing on grids of objects.  Note this does not affect their actual X and Y co-ordinates, which can still be between pixels - it only affects where they are drawn on the screen.</p><p><strong>Use loader layout</strong><br>Use <em>First layout</em> as a special layout which shows while the rest of the layout is loading.  The <em>loadingprogress</em> system expression returns the current progress from 0 to 1 (e.g. 0.5 for half completed).  For more information, see the tutorial <a href="http://www.scirra.com/tutorials/318/how-to-use-loader-layouts-to-make-custom-loading-screens" target="_blank">how to make a custom loading screen ⇗</a>.</p><p><strong>Window size</strong><br>The size, in pixels, of the viewport in to the game.  It is only used if <em>Fullscreen in browser</em> is <em>Off</em>.  A dashed line indicating the window size appears in the <a href="#anchor-43">Layout View</a>.</p><p><strong>Preview browser</strong><br>Choose which browser is launched when previewing the project.  All major browsers for Windows are listed.  Use <em>(default)</em> to launch the system default browser.  Use <em>Custom</em> to launch a custom browser set in <a href="#anchor-61">Preferences</a>.  It is <a href="#anchor-34">highly recommended</a> to test in multiple browsers before releasing your project.</p><p><strong>Fullscreen in browser</strong><br>Instead of showing the project in a rectangle in a web page (with this option <em>Off</em>), the display can take up the entire browser window.  There are two variations: <em>Crop mode</em>, which simply makes the viewport bigger, or <em>Scale mode</em>, which also scales the window content to fit the display.  For more information see the tutorial on <a href="http://www.scirra.com/tutorials/73/supporting-multiple-screen-sizes" target="_blank">supporting multiple screen sizes ⇗</a>.</p><p><strong>Use iOS retina display</strong><br>Some iOS devices, like the iPhone 4S and iPad 3, use high-resolution ("retina") displays.  On these displays the resolution is double, and there are four pixels corresponding to each pixel on a non-retina display.  If <em>Use iOS retina display</em> is <em>Yes</em>, the game will render using the full resolution of the device, and the window width and height will be double (so you must support different window sizes - see <a href="http://www.scirra.com/tutorials/73/supporting-multiple-screen-sizes" target="_blank">supporting multiple screen sizes ⇗</a>).  If <em>No</em>, the game will render at the lower resolution.  The result is then stretched up to fill the entire display (with bilinear filtering).  Low-resolution rendering can improve performance, but does not take advantage of the crisper graphics that are possible with retina displays.  By default this option is <em>Yes</em>, but if none of your artwork is scaled up for retina displays, you may want to set it to <em>No</em> for improved performance.</p><p><strong>Enable WebGL</strong><br>Enable the faster and more powerful WebGL renderer where supported. The canvas 2D renderer will be used instead if WebGL is not supported.  See the <a href="#anchor-35">Technology</a> section for more information on renderers.  If WebGL is enabled, <a href="#anchor-146">effects</a> will also be previewed in the <a href="#anchor-43">layout view</a>.</p><p><strong>Sampling</strong><br>Choose between <em>linear</em> (smooth) and <em>point</em> (pixellated) sampling when resizing images.  <em>Linear</em> is recommended for modern games with hi-res graphics, and <em>point</em> is better suited to retro games with blocky pixel art.</p><p><strong>Loader style</strong><br>Change the default loader which is shown while the game is loading, or while the loader layout is itself still loading.  See the tutorial <a href="http://www.scirra.com/tutorials/318/how-to-use-loader-layouts-to-make-custom-loading-screens" target="_blank">how to make a custom loading screen ⇗</a> for more information.</p><p><strong>Clear background</strong><br>Skip clearing the screen to transparent black at the start of every frame.  This is useful to improve performance on mobiles (see <a href="#anchor-134">Performance Tips</a>).  Every tick, the frame is firstly cleared to transparent black, then secondly the background colour of the bottom layer is filled in (if not transparent), then finally objects are drawn.  'Clear background' sets whether to do the first clear.  The layer 'transparent' property sets whether to do the second clear.  If all layouts have opaque layers in them, you can safely set 'Clear background' to 'No' since a layer background will always clear the screen.  If all layouts are completely obscured by sprites or other objects, you can also set all layers to transparent to skip both clears every tick.  However, in this case, any areas not covered by objects will appear glitchy or full of garbage pixel data.</p><a name="anchor-67"></a><h2>4.2 Layouts</h2>A <strong>layout</strong> is a pre-arranged <em>layout</em> of objects.  It can represent a game level, menu or title screen.  In other tools layouts may be referred to as <em>scenes</em>, <em>rooms</em>, <em>frames</em> or <em>stages</em>.  They can be added, renamed and deleted from the <a href="#anchor-39">Project Bar</a>.  Layouts are edited in the <a href="#anchor-43">Layout View</a>.  Every layout has an associated <a href="#anchor-121">event sheet</a> which defines how the layout works.<br><br>Layouts contain a stack of <a href="#anchor-85">layers</a>.  Objects that appear on the screen do not belong directly to a layout - they always sit on one of the <em>layers</em> in the layout.<br><br>Layouts do not have a background color.  To set a background color, make the bottom layer opaque and set its background color.  This can be done in the <a href="./manual_files/manual.html">Layers Bar</a>.<br><br>Layouts can also have <a href="#anchor-146">effects</a> applied, which affects all content appearing in the display.<br><br><h3>Layout properties</h3><br>The properties for a layout can be edited in the <a href="#anchor-40">Properties Bar</a> after clicking a space in the layout or selecting the name of the layout in the Project Bar.<br><br><strong>Name</strong><br>The name of this layout.<br><br><strong>Event sheet</strong><br>The associated event sheet that defines how this layout works.  Event sheets can be shared between layouts using <a href="#anchor-82">includes</a> if you have a lot of similar events between layouts.<br><br><strong>Active layer</strong><br>This is the layer new objects are placed on to.  It is also set by selecting a layer in the <a href="./manual_files/manual.html">Layers Bar</a>.  The active layer is displayed in the status bar and is also shown as a tooltip when inserting a new object.  All newly inserted objects are added to the active layer.<br><br><strong>Unbounded scrolling</strong><br>By default the game window cannot scroll past the edges of the layout.  Set this to <em>Yes</em> to allow unlimited scrolling in any direction, even past the edges of the layout.<br><br><strong>Layout size</strong><br>The size, in pixels, of the layout area.  If <em>Unbounded scrolling</em> is <em>On</em>, this still affects how much of the layout area is shown in the Layout View.<br><br><strong>Margins</strong><br>The size, in pixels, of the margins.  The margins are the grey areas outside the layout area.  This only affects the Layout View and has no effect when previewing.<br><br><strong>Project properties</strong><br>A shortcut to view the <a href="#anchor-66">project's properties</a>.<a name="anchor-85"></a><h2>4.3 Layers</h2><p>A <strong>layer</strong> is like a transparent sheet of glass that objects are painted on to.  Layers can be used to show different groups of objects in front or behind each other, like the foreground and background.  Layers belong to a <a href="#anchor-67">layout</a> and are edited in the <a href="./manual_files/manual.html">Layers Bar</a>.  Layers can be scrolled at different rates for parallax effects, and also individually scaled and rotated, which makes them a powerful way to make interesting visual effects in games.</p><p>Layers are also important to add non-scrolling <strong>interfaces</strong> (or <strong>HUDs</strong> or <strong>UIs</strong>) to scrolling games.  A layer with its <strong>parallax</strong> set to <strong>0, 0</strong> will not scroll at all, so any objects placed on this layer will always stay in the same place on-screen.</p><p>A common arrangement for layers might be:</p><p><strong>HUD</strong> <em>(top layer - health bar, UI info etc.)</em><br><strong>Foreground</strong> <em>(main game objects)</em><br><strong>Middleground</strong> <em>(a parallaxing background layer)</em><br><strong>Background</strong> <em>(bottom layer - the background)</em></p><p>Layers can also have <a href="#anchor-146">effects</a> applied, which affects all content appearing on the layer.</p><h3>Layer properties</h3><p>The properties for a layer can be edited in the <a href="#anchor-40">Properties Bar</a> after clicking the layer in the Layers Bar.  Note this also changes the active layer - see the <strong>active layer</strong> property in <a href="#anchor-67">Layout properties</a> for more information.</p><p><strong>Name</strong><br>The name of the layer, which can be used to refer to the layer in the event system.</p><p><strong>Initial visibility</strong><br>Whether or not the layer is initially visible <strong>when previewing</strong>.  This is different to the <strong>Visible in editor</strong> property which only affects the Layout View.</p><p><strong>Background color</strong><br>The background color for the layer.  It is ignored if <strong>Transparent</strong> is <em>Yes</em>.</p><p><strong>Transparent</strong><br>Ignore <em>background color</em> and make the layer have a transparent background.</p><p><strong>Opacity</strong><br>Set the opacity (or semitransparency) of the layer, from 0 (invisible) to 100 (opaque).</p><p><strong>Force own texture</strong><br>Force the layer to always render to an intermediate texture rather than directly to the screen.  This is useful for some kinds of effects.  However, it slows down rendering, so it should be set to <em>No</em> unless specifically needed.</p><p><strong>Scale rate</strong><br>Change the rate at which the layer zooms if scaling is applied to the layer or layout, a bit like parallax but for zoom.  A scale rate of 0 means the layer will always stay at 100% scale regardless of the scaling applied.  A scale rate of 100 means it will scale normally.</p><p><strong>Parallax</strong><br>Change the rate at which the layer scrolls in the horizontal and vertical directions.  A parallax rate of <em>100, 100</em> means ordinary scrolling, <em>0, 0</em> means it will never scroll (useful for UIs), <em>50, 50</em> means scrolling half as fast, etc.  Also useful for multi-layer parallaxing backgrounds.</p><p><strong>Visible in editor</strong><br>Whether or not the layer is showing <strong>in the Layout View</strong>.  Note this is different to the <strong>Initial visibility</strong> property which only affects previewing.  This setting can also be accessed via the Layers Bar.</p><p><strong>Locked</strong><br>Whether or not the layer is locked in the Layout View.  Objects on locked layers cannot be selected.  This setting can also be accessed via the Layers Bar.</p><p><strong>Parallax in editor</strong><br>If enabled, the <strong>parallax</strong> properties will also be applied to the Layout View, allowing you to preview what the effect will look like.</p><a name="anchor-68"></a><h2>4.4 Objects</h2>In Construct 2 <strong>objects</strong> perform most of the useful work in a project.  Most of the things you see in a Construct 2 game are represented by objects, and there are also hidden objects for other purposes (e.g. audio playback).<br><br>When <a href="#anchor-54">inserting a new object</a>, typically you first choose the <strong>plugin</strong> in the dialog (e.g. <em>Sprite</em>).  This then creates an <strong>object type</strong> (e.g. <em>TrollEnemy</em>).  When the mouse turns to a crosshair this allows you to place the first <em>instance</em>, and you can duplicate the instance to create more of them.<br><br>Understanding the differences between them is essential to use Construct 2 effectively, especially <em>object types</em> and <em>instances</em>.  Objects consist of the following parts, summarised below.  There are also manual sections that go in to more detail on each part.<br><br><a href="#anchor-69">Plugins</a><br>Plugins define a kind of object.  For example, a Sprite is a kind of object, and the Audio object is a different kind.  These are defined by the <em>Sprite plugin</em> and <em>Audio plugin</em> respectively.<br><br>Javascript programmers can make new plugins (and behaviors) using the <a href="#anchor-15">Javascript SDK</a>.<br><br><a href="#anchor-70">Object types</a><br>Object types define a 'class' of an object.  For example, <em>TrollEnemy</em> and <em>OgreEnemy</em> could be different object types of the Sprite plugin.  They have different animations and events can be applied separately to make them look and act differently, despite the fact they are both Sprite objects.<br><br><a href="#anchor-71">Instances</a><br>Using the previous example, if there were four <em>TrollEnemy</em> objects in a layout, these are <strong>instances</strong> of the <em>TrollEnemy</em> <strong>object type</strong>.  There is only one <em>TrollEnemy</em> object type no matter how many instances are created.  Instances all share the events and artwork for <em>TrollEnemy</em>.  Similarly, there could be multiple instances of the <em>OgreEnemy</em> object type.<br><br><a href="#anchor-73">Instance variables</a><br>Instance variables are added to an <strong>object type</strong> and store numbers or text <em>per instance</em>.  For example, if you want monsters to all keep track of their own health counter, you could add a <em>health</em> instance variable.  This is essential for making interesting games - instance variables are very useful for making <em>instances</em> work independently of each other.<br><br><a href="#anchor-72">Behaviors</a><br>Behaviors can be added to <strong>object types</strong> to add pre-packaged functionality.  For example, the <a href="#anchor-87">8 direction</a> behavior can be added to a Sprite, and it can instantly move around with the arrow keys.  This helps speed up development and increase productivity.  Behaviors are not intended to do everything in your game for you: the <a href="#anchor-74">event system</a> is where the majority of your game logic will be defined.  Behaviors are essentially time-savers and shortcuts.  Most behaviors can be replicated with events, but it simply is far more time consuming to do so.  Behaviors are very customisable, but if a behavior isn't doing quite what you want it to, you can usually resort to reproducing it in a customised way with events.<br><br>All <strong>instances</strong> of an <strong>object type</strong> use its behaviors.  You cannot add a behavior to only some of the instances - they all use the behavior - although you may be able to enable or disable the behavior for individual instances.<br><br><a href="#anchor-146">Effects</a><br>Effects change the visual appearance of an object.  Effects do not work on all platforms, because it requires <strong>WebGL</strong> support.  However, fallbacks can be set up so everything still appears reasonably when WebGL is not supported.  Note effects are separate to the <em>blend mode</em> which is supported on all platforms.<br><br><a href="#anchor-142">Families</a><br>Families are groups of object types.  This can help avoid repeating events for different object types in large projects.<a name="anchor-69"></a><h3>4.4.1 Plugins</h3><p><strong>Plugins</strong> define a kind of object. For example, a Sprite is a kind of object, and the Audio object is a different kind. These are defined by the <em>Sprite plugin</em> and <em>Audio plugin</em> respectively.  See the <a href="#anchor-106">Plugin reference</a> for more information on individual plugins.</p><p>Javascript programmers can make new plugins (and behaviors) using the <a href="#anchor-15">Javascript SDK</a>.</p><p>Most plugins define their own properties in the <a href="#anchor-40">Properties Bar</a>.  To see a full list, locate the plugin in the <a href="#anchor-106">Plugin reference</a>.</p><p>There are three main kinds of plugins:<br><strong>Visual plugins</strong> (e.g. Sprite) appear in the layout and draw something to the screen.<br><strong>Hidden plugins</strong> (e.g. Array) are placed in a particular layout, but do not draw anything to the screen.<br><strong>Project-wide plugins</strong> (e.g. Mouse, Audio) are added to the entire project, and can only be added once.  There cannot be more than one object type or instance of a project-wide plugin.  They simply enable a new capability (such as being able to take mouse input).  They are most useful used in the <a href="#anchor-74">event system</a>.</p><p>Construct 2 is designed modularly.  That means not much functionality is built in: you must insert a plugin before you can use the related features.  For example, you cannot play back any audio before adding the Audio plugin to a project.  This might seem unnecessary, but there are many project-wide plugins and it is unlikely every project will need to use all of them.  For example, if the Audio plugin was automatically included with every project, even projects which do not need Audio support must pay the cost of performance penalties, larger download sizes, and so on.  So remember if you do not add a plugin, it is not at all included in your project, and this helps your projects remain lean and efficient when exported.</p><a name="anchor-70"></a><h3>4.4.2 Object types</h3><p>Object types are a central part of game design in Construct 2.  Object types define a 'class' of an object. For example, <em>TrollEnemy</em> and <em>OgreEnemy</em> could be different object types of the Sprite plugin. They have different animations and events can be applied separately to make them look and act differently, despite the fact they are both Sprite objects.</p><p>There can be multiple <a href="#anchor-71">instances</a> of an object type in a project.  For example, you may wish for there to be four <em>TrollEnemy</em> objects awaiting the player in a game.  These four <strong>instances</strong> share the same animations, images, behaviors, instance variables and events.  (In the case of instance variables, each instance stores its own unique value, e.g. for health, and behaviors work independently for each instance too.)</p><p><strong>Object types</strong> do not themselves have a position, angle or size.  These are properties of the <strong>instances</strong> of the object type.  The <a href="#anchor-39">Project Bar</a> and <a href="#anchor-41">Object Bar</a> display the object types in the project, but not the instances.</p><p><a href="#anchor-74">Events</a> are made to apply to an object type.  The event then <em>filters</em> the instances that meet the condition.  For example, the event "Bullet collides with Alien" is an event that applies to all instances of the <em>Bullet</em> and <em>Alien</em> object types.  However, when the event runs, the actions only apply to the specific <em>instances</em> involved in the collision.  For more information see <a href="#anchor-75">How events work</a>.</p><p>Object types can also be grouped together in to <a href="#anchor-142">Families</a>.  This can help avoiding repeating the same events for different object types.</p><a name="anchor-71"></a><h3>4.4.3 Instances</h3><p>Object <strong>instances</strong> are the actual objects you see in a game: an <em>instance</em> of an <a href="#anchor-70">object type</a>.  For example, if there are four <em>TrollEnemy</em>s in a layout, those are four <em>instances</em> of the TrollEnemy <em>object type</em>.</p><p>It is <strong>instances</strong> which have a position, angle and size in the layout.  Object types do not have these properties - they simply define a 'class' of object.</p><p>Instances can be created at runtime in the <a href="#anchor-74">event system</a> (typically by the System <em>Create object</em> action and the Sprite <em>Spawn an object</em> action).  They can also be pre-arranged in <a href="#anchor-67">layouts</a> with the <a href="#anchor-43">Layout View</a> to design levels, menus and title screens.</p><p>Selecting an instance in the Layout View shows its properties in the <a href="#anchor-40">Properties Bar</a>.  These are a mix of properties in common with all (or most) objects, and <a href="#anchor-69">plugin</a>-specific properties.  The common properties are described below, and plugin-specific properties are described for each plugin in the <a href="#anchor-106">Plugin reference</a>.</p><h3>Common instance properties</h3><p>The following properties are common to all or most objects, depending on their capabilities.</p><p><strong>Name</strong><br>The name of the associated <a href="#anchor-70">object type</a>.</p><p><strong>Plugin</strong> <em>(read only)</em><br>A reminder of the <a href="#anchor-69">plugin</a> (kind of object) this object is based on.</p><p><strong>Global</strong><br>By default, all instances are destroyed when the layout ends (e.g. when going to the next layout).  If <em>Global</em> is <em>Yes</em>, none of the instances of this object type will be destroyed when switching layouts.</p><p><strong>Layer</strong><br>The <a href="#anchor-85">layer</a> the instance is placed on.</p><p><strong>Angle</strong><br>The angle in degrees the instance is oriented at.  This can also be altered with the angle handle in the <a href="#anchor-43">Layout View</a>.</p><p><strong>Opacity</strong><br>The instance opacity (or semitransparency), from 0 (transparent) to 100 (opaque).</p><p><strong>Position</strong><br>The X and Y co-ordinates in the layout in pixels.  This is measured to the object's origin (see <a href="#anchor-63">image points</a>).  This can also be altered by moving the instance in the Layout View.</p><p><strong>Size</strong><br>The width and height of the instance in pixels.  This can also be altered by dragging the resize handles in the Layout View when one instance is selected.</p><p><strong>Edit variables</strong><br>Open the <a href="#anchor-56">Object Instance Variables dialog</a>.</p><p><strong>Edit behaviors</strong><br>Open the <a href="#anchor-57">Object Behaviors dialog</a>.</p><p><strong>Edit effects</strong><br>Open the <a href="#anchor-147">Effects dialog</a>.</p><a name="anchor-73"></a><h3>4.4.4 Instance variables</h3><p><strong>Instance Variables</strong> are added to <a href="#anchor-70">object types</a> but store numbers, text or booleans (on/off flags) individually for each <a href="#anchor-71">instance</a>.  This makes them ideal for things like health counters, since each instance tracks its own value.  Instance variables are added to object types with the <a href="#anchor-56">Object Instance Variables dialog</a>, and the initial values for each instance can be set from the <a href="#anchor-40">Properties Bar</a>.</p><p>Instance variables can also be used to help control instances independently of each other.  For example, a Boolean instance variable could be used to determine if an enemy is hunting down the player (<em>true</em>) or running away (<em>false</em>).  If instances all have different values, the condition <em>Is boolean instance variable set</em> can be used to apply actions to enemies hunting down the player.  Inverting the condition (picking instances with the value being <em>false</em>) can then be used to apply actions to enemies running away.  The end result is a number of instances of the same object type acting independently: some chasing and others running away.  This is a simple example - much more complex methods can be made.</p><p>In other words, an instance's <em>state</em> can be controlled using instance variables.</p><p>Instance variables can also be added to <a href="#anchor-142">Families</a>.  All the object types in the family then <em>inherit</em> the instance variable.</p><a name="anchor-72"></a><h3>4.4.5 Behaviors</h3><p><strong>Behaviors</strong> add pre-packaged functionality to <a href="#anchor-70">object types</a> .  They can be added with the <a href="#anchor-57">Object Behaviors dialog</a>.  See the <a href="#anchor-86">Behavior reference</a> for more information on individual behaviors.</p><p>An example of a behavior is the <a href="#anchor-87">8 direction</a> behavior.  This instantly allows an object to be moved around with the arrow keys. This helps speed up development and increase productivity. Behaviors are not intended to do everything in your game for you: the <a href="#anchor-74">event system</a> is where the majority of your game logic will be defined. Behaviors are essentially time-savers and shortcuts. Most behaviors can be replicated with events, but it simply is far more time consuming to do so. Behaviors are very customisable, but if a behavior isn't doing quite what you want it to, you can usually resort to reproducing it in a customised way with events.</p><p>All <a href="#anchor-71">instances</a> of an object type use its behaviors. You cannot add a behavior to only some of the instances - they all use the behavior - although you may be able to enable or disable the behavior for individual instances.</p><p>Some behaviors add their own properties to the <a href="#anchor-40">Properties Bar</a>.  See the <a href="#anchor-86">Behavior reference</a> for each behavior's properties</p><p>Some behaviors also extend the objects they are added to with their own <a href="#anchor-76">conditions</a>, <a href="#anchor-77">actions</a> and <a href="#anchor-78">expressions</a>.  These are shown alongside the object's own conditions, actions and expressions in the <a href="#anchor-51">Add Condition or Action dialog</a> and <a href="#anchor-59">Expressions panel</a>.</p><p>Behaviors can also be added to <a href="#anchor-142">Families</a>.  All the object types in the family then <em>inherit</em> the behavior.</p><a name="anchor-146"></a><h3>4.4.6 Effects</h3><p><strong>Effects</strong> change the visual appearance of objects.  They can be added with the <a href="#anchor-147">Effects dialog</a>.  Effects can also be added to <a href="#anchor-85">layers</a> and <a href="#anchor-67">layouts</a>, although effects which blend with the background cannot be used on layouts.  Effects are also sometimes referred to as <em>shaders</em> or <em>WebGL shader effects</em>, since this refers to the underlying technology that makes the effects possible.  Below is an example of the Water effect on an image.</p><p><img src="./manual_files/watershader.jpg" alt="Example of an effect on an image in Construct 2." width="500" height="298"></p><p>Construct 2 provides a library of over 70 stock effects.  Adding effects also displays them in the <a href="#anchor-43">Layout View</a> if WebGL is enabled in <a href="#anchor-66">project properties</a>. (If WebGL is disabled for a project, the layout view will display as if WebGL is not supported, not showing any effects.)  A number of examples of effects are provided in Construct 2's Examples folder.</p><p>Multiple effects can be applied to a single object, layer or layout.  In this case the effects are chained.  The result of the first effect is processed by the second effect, then the result of that is processed by the third effect, and so on.</p><h3>Support</h3><p>Effects require <strong>WebGL</strong> support in order to display.  See the <a href="#anchor-35">Technology</a> section on <em>Canvas renderers</em> for more information about WebGL.  In short, not all platforms or computers support WebGL.  Effects cannot display on these platforms.  To ensure your project still appears correctly when WebGL is not supported, see the section on <em>Fallbacks</em>.</p><p>Whether or not effects are supported can also be tested with the <em>Effects are supported</em> <a href="#anchor-124">system condition</a>.</p><h3>Blend mode</h3><p>The <em>Blend mode</em> property works on all platforms, since it is also supported by the Canvas 2D renderer.  It is only effects that require WebGL support and fallbacks to be set up.</p><p>The <em>Blend mode</em> provides a simple set of pre-defined ways to blend the object with the background.  For an example of how blend modes work, see the <em>Blend modes.capx</em> example in Construct 2's examples folder.</p><p><img src="./manual_files/blendmodes.png" alt="Various blend modes available in Construct 2." width="445" height="327"></p><p>If multiple effects are used, the blend mode is applied only to the <em>last</em> effect.  For example with three effects, the effect chain is processed normally, and the blend mode is only used to blend the result of the third effect with the background.</p><h3>Fallbacks</h3><p>If WebGL is not supported, you can specify what to do using the <em>Fallback</em> property in the <em>Effects</em> category in the <a href="#anchor-40">Properties Bar</a>.</p><p><img src="./manual_files/effectproperties.png" alt="Effect properties, including the Fallback setting" width="247" height="95"></p><p>The <em>Fallback</em> property does not appear if no effects are added, because there is no need to worry about any effects not being supported.</p><p>By default the <em>Fallback</em> property changes the <em>Blend mode</em> to <em>Normal</em> if effects are not supported.  (Remember the <em>Blend mode</em> property always works on all platforms and computers.) This will result in the object looking as if it had no effects added at all when WebGL is not supported.</p><p>The other fallback options allow you to change the <em>Blend mode</em> property to something else.  For example when using the Screen effect, a similar result can be achieved by using the <em>Additive</em> blend mode, so <em>Fallback</em> could be set to <em>Set 'Additive' blend</em>.  If WebGL is supported, the object will display with its Screen effect.  If WebGL is not supported, it will not run the Screen effect but then also switch to Additive blend mode, so the object always blends reasonably with the background.</p><p>Finally, the fallback allows you to set the object to be destroyed (or the layer to be hidden).  This can be used for optional objects with solely cosmetic effect, so if the effects cannot run the content will simply not be displayed at all.</p><h3>Testing</h3><p>Be sure to test with WebGL both enabled and disabled in project properties to ensure your fallbacks work properly and the content always displays reasonably.  You cannot assume all your users will have WebGL support, even if they use a browser which supports WebGL, because old hardware or out of date drivers may result in WebGL being disabled.  Proper testing is a <a href="#anchor-34">best practice</a>.</p><h3>Changing effects at runtime</h3><p>Objects supporting effects provide <a href="#anchor-132">common actions</a> to enable or disable effects, or set an effect parameter.  This allows you to switch effects or adjust effect parameters at runtime, allowing for greater possibilities and creative uses.  To enable or disable layout or layer effects, or change their parameters, use the relevant <a href="#anchor-125">system actions</a>.</p><h3>Performance</h3><p>Using too many effects can cause poor performance, especially on mobile devices.  Try to only use effects when it is important to the appearance of the game.</p><p>Creating many instances of an object using effects can be very inefficient, since the effect must be processed repeatedly for small areas.  If many instances need to use an effect, often it is more efficient to place all the instances on their own layer, and apply the effect to that layer instead.  This can improve performance whilst producing the same visual appearance.</p><p>Never use effects to process a static effect on an object.  For example, do not use the 'Grayscale' effect to make an object always appear grayscale. Instead apply the grayscale effect in an image editor and import a grayscale image to the object, without using any effects.  This has the same visual result, and avoids performance-degrading effect processing. Effects like 'Grayscale' should only be used for transitions or making objects only occasionally appear grayscale.</p><p>For more information, see the manual section on <a href="#anchor-134">performance tips</a>.</p><a name="anchor-142"></a><h3>4.4.7 Families</h3><p>In Construct 2, <strong>Families</strong> are groups of <a href="#anchor-70">object types</a>.  All the object types in a family must be from the same <a href="#anchor-69">plugin</a>, e.g. all Sprite objects (and not a mix of Sprite and Tiled Background objects, for example).</p><p>Families can help you avoid repeating events.  For example, instead of having the same events for the <em>Enemy1</em>, <em>Enemy2</em> and <em>Enemy3</em> objects, you can add them all to an <em>Enemies</em> family and make the events once for the family.  Then, the events automatically apply to all the object types in the family.</p><p>The <em>Families.capx</em> example in Construct 2's Examples folder demonstrates the advantage of this.  There are seven kinds of enemy, and they all need to be destroyed when the laser hits them.  Without families, seven separate events are necessary, as shown below:</p><p><img src="./manual_files/nofamilyevents.png" alt="Events not using families." width="378" height="472"></p><p>Using families all seven events can be replaced with a single event:</p><p><img src="./manual_files/familyevent.png" alt="Event using a family." width="378" height="66"></p><p>This makes it far easier to create and maintain projects with lots of objects that need to work in similar ways.</p><h3>How to create a family</h3><p><strong>Right-click</strong> the <em>Families</em> folder in the <a href="#anchor-39">Project Bar</a> and select <strong>Add family</strong>.  The <em>Edit Family</em> dialog appears:</p><p><img src="./manual_files/familiesdlg.png" alt="Edit Family dialog" width="500" height="423"></p><p>Objects on the left are the objects in the project that can be added to the family.  Objects on the right are the objects already in the family.  <strong>Double-click</strong> an object to transfer it to the other side.  You can select multiple objects by holding <strong>Control</strong> and clicking several objects, then clicking one of the buttons in the middle to transfer them.</p><p>When done, click <strong>OK</strong> and the family will appear in the Project Bar.  It can be expanded to show all the objects in the family as well:</p><p><img src="./manual_files/familiesprojectbar.png" alt="A family in the project bar." width="174" height="165"></p><p>The family, and the objects in the family, can be edited by <strong>right-clicking</strong> them and choosing options from the menu, like <em>Remove from family</em> or <em>Edit family</em>.</p><p>Objects can be added to multiple families.  All events for the object's families will apply to the object.</p><h3>Family instance variables</h3><p><a href="#anchor-73">Instance variables</a> can also be added to a whole family by <strong>right-clicking</strong> the family name in the Project Bar and selecting <strong>Family instance variables</strong>.</p><p>If you add an instance variable to a family, <em>all</em> the object types in the family <em>inherit</em> the instance variable.  For example, adding the instance variable <em>health</em> to the family <em>Enemies</em> in the above example will mean <em>BladeEnemy</em>, <em>BugEnemy</em>, <em>CrescentEnemy</em>, <em>FighterEnemy</em>, <em>SaucerEnemy</em>, <em>ScytheEnemy</em> and <em>SlicerEnemy</em> all gain a <em>health</em> instance variable.  It will also appear in the editor alongside each object's own instance variables.  However in the Event Sheet View the family will only show its own instance variables (those added directly to the family).  This means any instance variables you want to be available to the family's events must be added to the family, and not to the objects in the family.</p><p>If an object type belongs to multiple families, it inherits every family's instance variables.</p><h3>Family behaviors</h3><p><a href="#anchor-72">Behaviors</a> can also be added to a whole family by <strong>right-clicking</strong> the family name in the Project Bar and selecting <strong>Family behaviors</strong>.</p><p>As with family instance variables, if you add a behavior to a family, <em>all</em> the object types in the family <em>inherit</em> the behavior.  The behavior will appear in the events for all the objects in the family <em>and</em> the family itself.  For example adding the <em>Bullet</em> behavior to a family called <em>Bullets</em> means the bullet's <em>Set speed</em> action is available to every object in the family, as well as the family itself.</p><p>If an object type belongs to multiple families, it inherits every family's behaviors.</p><h3>Family effects</h3><p><a href="#anchor-146">Effects</a> can also be added to a whole family by <strong>right-clicking</strong> the family name in the Project Bar and selecting <strong>Family effects</strong>.</p><p>As with family instance variables and behaviors, if you add an effect to a family, <em>all</em> the object types in the family <em>inherit</em> the effect.  This can be useful for quickly applying effects to a number of different object types.</p><p>If an object type belongs to multiple families, it inherits every family's effects.</p><h3>Picking families in events</h3><p>Families pick instances in the event sheet independently of the object types in the family.  For example, consider <em>Family1</em> consisting of <em>SpriteA</em> and <em>SpriteB</em>.  Conditions for <em>Family1</em> will never affect which <em>SpriteA</em> and <em>SpriteB</em> instances are picked.  It will only affect which instances are affected when running an action for <em>Family1</em>.  Likewise, conditions picking <em>SpriteA</em> and <em>SpriteB</em> instances will never affect which instances are picked in <em>Family1</em>.  In other words, in the event sheet families are treated like an entirely separate object type, which just happens to have instances from other object types.  This can be taken advantage of if you need a single event to pick two separate lists of instances from the same object type.</p><h3>Summary</h3><p>Families are a very powerful feature which are essential to help keep large projects simple.  Instance variables and behaviors added to families are inherited by every object in the family, which allows for sophisticated logic to be easily applied to many object types at once.</p><a name="anchor-74"></a><h2>4.5 Events</h2><p><strong>Events</strong> are Construct 2's main feature: instead of complicated scripting or programming languages with fiddly syntax and difficult errors, you can define how the game works using a logical block system.  The blocks are collectively referred to as events, although there are several kinds of block making up an <a href="#anchor-121">event sheet</a>.</p><p>Construct 2's event system is likely to be unfamiliar to new users.  Read <a href="#anchor-75">How Events Work</a> for a summary of how to use them.  Events are not cookie-cutter blocks that limit what you can do.  Instead they are designed to provide the basic tools you need to create sophisticated games.</p><p>The basic concept of events is that <a href="#anchor-76">conditions</a> <strong>filter</strong> the <a href="#anchor-71">instances</a> meeting the condition, then the <a href="#anchor-77">actions</a> run for <em>those instances only</em>.  This allows you to control instances independently, especially when used with <a href="#anchor-73">instance variables</a>.  A common misconception is that all instances of an object type must act the same.  That is simply not the case: the fundamental way events work is to filter out individual instances, and run actions on just those that met the conditions.</p><p>Events are edited in the <a href="#anchor-44">Event Sheet View</a> using the <a href="#anchor-51">Add Condition/Action dialog</a>, the <a href="#anchor-60">Parameters dialog</a> and <a href="#anchor-59">Expressions panel</a>.</p><p>A diagram of a simple event is shown below.  (This does not include every feature of events - the rest are explained in this section.)</p><p><img src="./manual_files/eventdiagram.png" alt="Event diagram" width="494" height="129"></p><p>The parts that make up events are summarised below.  Check each relevant manual section for more information on each.  See <a href="#anchor-75">How events work</a> for a summary of how to use events.</p><p><strong>Events</strong> typically consist of <strong>conditions</strong> that must be met, <strong>actions</strong> that run if so, and optionally further <a href="#anchor-128">sub-events</a> that test more conditions, run more actions, etc.  For example if the condition <em>Bullet collides with alien</em> is met, the action <em>Destroy alien</em> may run, and the <em>Destroy</em> action affects only the instance involved in the condition.</p><p><a href="#anchor-76">Conditions</a> test that certain criteria are met.  They <em>filter</em> the instances meeting the condition.</p><p><a href="#anchor-77">Actions</a> make things happen.  They only affect the instances that were filtered by the event's conditions.</p><p><a href="#anchor-78">Expressions</a> can be sums to work out values, or retrieve values from objects, such as a Sprite's X co-ordinate.</p><p><a href="#anchor-128">Sub-events</a> follow after other events, appearing indented in the event sheet.  Their conditions can further filter instances and run more actions.</p><p><a href="#anchor-80">Groups</a> can be used to organise events.  Groups can also be enabled and disabled as a whole.</p><p><a href="#anchor-81">Comments</a> allow you to write notes and descriptions for events.  They usually are placed above the event they are describing.  This is essential to help keep a large project well-organised and maintainable.</p><p><a href="#anchor-82">Includes</a> can share event sheets between <a href="#anchor-67">layouts</a>.  This saves you from having to copy-and-paste all your events for every single layout.  Adding an include is effectively an automatic copy-paste of that event sheet's content in to another event sheet.</p><p><a href="#anchor-83">Event Variables</a> can store numbers and text either globally (for all layouts) or locally (for a specific range of events).</p><p><a href="#anchor-121">Event sheets</a> are a list of events.  These can be assigned to a specific layout, or included in to other event sheets.</p><h3>Scripting</h3><p>Construct 2 uses the event system exclusively and does not support any scripting in the editor at all.  This is because the event system is powerful enough to replace scripting completely.  However, if you are a programmer, you may be interested in extending Construct 2 using the <a href="#anchor-15">Javascript SDK</a>.</p><a name="anchor-75"></a><h3>4.5.1 How events work</h3><p>If you're new to Construct 2's <strong>events</strong>, this section will outline how they work.  This is essential reading for beginners!  You will be able to make much better and more reliable games with a thorough understanding of how events work.</p><p>Events are designed to be easily readable and to intuitively "just work".  However, they have specific, well-defined ways of working which is described here.</p><p>Events work by <strong>filtering</strong> specific <a href="#anchor-71">instances</a> that meet some <a href="#anchor-76">conditions</a>.  The <a href="#anchor-77">actions</a> then run for <em>those instances only</em>.  For example, consider the following event:</p><p><img src="./manual_files/simpleevent.png" alt="A simple event." width="513" height="70"></p><p>When a <em>Bullet</em> collides with a <em>Monster</em>, the condition runs.  The <em>Bullet</em> and <em>Monster</em> instances involved in the collision are "picked" for the event.  Then, the actions run for just the instances picked by the conditions.  For example, if there are another 3 bullets on-screen, only the one involved in the collision is destroyed by the <em>Bullet: Destroy</em> action.  Also, only the <em>Monster</em> that was hit has 1 subtracted from its <em>health</em> (which in this example is an <a href="#anchor-73">instance variable</a>).  It would be very difficult to make good games if it did not work like this and instead the actions affected all the monsters and bullets!  So remember that the conditions <strong>filtering</strong> or <strong>picking</strong> the instances for the actions to work on is essential to how events work.</p><p>Another way to think about an event is "<strong>If</strong> all conditions are met <strong>then</strong> run actions on those instances".</p><h3>Multiple conditions</h3><p>Adding more conditions to an event progressively filters the instances to run actions on.  For example:</p><p><img src="./manual_files/multiconditionevent_2.png" alt="An event with two conditions." width="527" height="46"></p><p>This event runs like this:</p><ol><li>First all <em>Monsters</em> that are on-screen are picked.</li><li>Then, of those on-screen, it is reduced to those with less than 5 health.</li><li>The action makes all monsters that are <strong>both</strong> on-screen <strong>and</strong> have less than 5 health look directly at the player.  Monsters that are off-screen or have 5 or more health are not affected.</li></ol><p>Therefore, using multiple conditions you can run actions on just the instances meeting <em>several</em> criteria.  Users from programming languages or other tools might recognise this as a logical "AND".  <em>All</em> conditions of an event must be met for the actions to run.  If no monsters are on-screen or none of those on-screen have less than 5 health, the actions <strong>do not run at all</strong>.</p><h3>Unreferenced objects</h3><p>Have a look at the following event:</p><p><img src="./manual_files/unreferencedobjectevent.png" alt="An event with an unreferenced object." width="446" height="45"></p><p>If the user presses Spacebar and the Player's <em>PowerupEnabled</em> boolean is set, the action does <em>Monster: Destroy</em>.  Note that there aren't any conditions that filter or pick Monsters in this event.  In this case, <em>all</em> Monster instances are destroyed.  In other words, if an event doesn't reference an object in its conditions, actions apply to all the instances of that object.</p><p>Think of conditions as starting with <em>all</em> instances being picked, and progressively filtering them from there.  If there were no conditions, there are still all instances picked, so the action affects all of them.</p><h3>Picking resets between events</h3><p>After an event ends, the next event begins from scratch.  Its conditions will start picking from all instances again.</p><p>On the other hand, <a href="#anchor-128">sub-events</a> (which appear indented) <strong>carry on from where its parent event left off</strong>.  A sub-event will further filter the instances left over by the event that came before it.  If an event has two sub-events, they both pick from the same set of instances the parent left - the second sub-event is not affected by the first.  In other words, events at the same indentation level always pick from the same set of instances, and events at a lower indentation level are always working with the instances handed down from above.</p><h3>The System object</h3><p>In Construct 2 the System object represents built-in functionality.  It has no instances.  This means most <a href="#anchor-124">system conditions</a> do not pick any instances: they are either true or false.  If they are false the event stops running, otherwise the event continues without the picked instances having been changed.  There are exceptions, though: if a system condition uses an object, such as <em>Pick random instance</em>, that will affect the picked objects.</p><p>System actions do not run on any picked objects: they simply run if all of the event's conditions were met.</p><h3>Events run top to bottom</h3><p>The order of events is important.  Every event is checked once per tick (about 60 times a second on most computers), and they are run from top to bottom in the event sheet.  The screen is drawn once every event has been run, then the process starts again.  This means if one event does something and the next event undoes it, you'll never see that anything happened.</p><p>The same applies within events: conditions are checked from top to bottom, and the actions run from top to bottom.</p><p>However, <strong>triggers</strong> are an exception.  See the green arrow to the left of <em>Keyboard: On Space pressed</em> from the previous example:</p><p><img src="./manual_files/unreferencedobjectevent.png" alt="Note the trigger." width="446" height="45"></p><p>This indicates the event is <strong>triggered</strong>.  Rather than running once per tick, this event simply runs (or "fires") upon something actually happening.  In this case, the event runs when the user hits the Spacebar key on the keyboard.  It is never checked any other time.  Since triggers run upon an event happening, they aren't checked in top-to-bottom order like other events.  This means the ordering of triggers relative to other events is not important (except relative to other triggers of the same type, since triggers still fire top-to-bottom).</p><p>There can only be one trigger in an event, because two triggers cannot fire simultaneously.  However, multiple triggers can be placed in 'Or' blocks (see the next section).</p><h3>'Or' blocks</h3><p>As mentioned before, all conditions have to be met for an event to run.  This is called a 'Logical AND', because "condition 1 AND condition 2 AND condition 3..." etc. must be true.  However, you can change an event to run when <em>any</em> condition is true.  This is called a 'Logical OR', because the event will run if "condition 1 OR condition 2 OR condition 3..." are true.</p><p>Normally blocks work as 'AND' blocks.  To make an 'OR' block, right-click the block and select <strong>Make 'Or' block</strong>.  It will then display with <em>- or -</em> between each condition, as shown below.</p><p><img src="./manual_files/orevent.png" alt="An &#39;Or&#39; block." width="506" height="96"></p><p>Note that normally you can only put one trigger in an event, but you can put multiple triggers in an 'Or' block, and the event will run if any of triggers run.</p><p>You can combine the block types by using <a href="#anchor-128">sub-events</a>.  This allows you to build up more advanced logic, such as an 'Or' block followed by an 'And' block.</p><h3>Looping conditions</h3><p>Some events <strong>loop</strong>, which simply means they repeat their actions many times.  Note the green circular arrow in the below example to indicate this.</p><p><img src="./manual_files/eventloops2.png" alt="A looping event" width="517" height="61"></p><p>This means when the layout starts, the <em>Create object</em> action repeats 10 times.  The end result is 10 monsters are created at random positions in the layout on startup.</p><p>There can also be more conditions following the <em>Repeat</em> condition.  These are tested on each of the repeats as well, and must be true for the actions to run.  There can even be more than one loop in an event, but this is rare.</p><h3>Families</h3><p>Note that families pick their instances entirely separately from any of the object types in the family.  For more information, see the section <em>Picking families in events</em> in the manual entry on <a href="#anchor-142">Families</a>.</p><h3>Summary</h3><p>Using this event system it's possible to make sophisticated logic for games quickly and easily.  It is a very powerful alternative to scripting or programming languages but much easier for non-technical people to use.</p><p>Although this section has described the essential parts of the event system, it still has not covered everything.  The rest of the <em>Events</em> section covers more features you can use in events.  The <a href="#anchor-86">Behavior reference</a>, <a href="#anchor-106">Plugin reference</a> and <a href="#anchor-123">System reference</a> also cover all the conditions, actions and expressions in Construct 2.</p><a name="anchor-121"></a><h3>4.5.2 Event sheets</h3><p><strong>Event Sheets</strong> are simply lists of events.  They are edited in the <a href="#anchor-44">Event Sheet View</a>.  All the event sheets in a project are listed in the <a href="#anchor-39">Project Bar</a>.</p><p><a href="#anchor-67">Layouts</a> have an associated event sheet to define how the layout works.  There are two ways to share events between layouts:</p><ol><li>Set several layout's <strong>Event sheet</strong> property to the same sheet.</li><li>Make a separate event sheet with all the common events on it, then <a href="#anchor-82">include</a> that event sheet on other event sheets.</li></ol><p>The second option is usually preferable since you are not forced to use exactly the same events for different layouts - you can add a few extra events to customise how it works depending on the layout.</p><a name="anchor-76"></a><h3>4.5.3 Conditions</h3><p>In events, <strong>conditions</strong> filter <a href="#anchor-71">instances</a> that meet some criteria.  They appear to the left of the event.  <strong>All</strong> conditions in an event must be met by at least one instance for the <a href="#anchor-77">actions</a> to run.  The actions then only apply to the instances that met the conditions.</p><p><img src="./manual_files/eventdiagram.png" alt="Diagram of an event." width="494" height="129"></p><p><strong>System conditions</strong> do not pick any instances: they are simply either true or false, unless they specifically reference an object, such as with <em>Pick random instance</em>.</p><p>There are three kinds of conditions: normal conditions, <strong>triggered</strong> conditions, and <strong>looping</strong> conditions.  See <a href="#anchor-75">How events work</a> for more information.</p><h3>Inverting conditions</h3><p>Conditions can be <strong>inverted</strong>, which flips the thing they test.  For example, the condition <em>Monster is overlapping Player</em> is true whenever a monster is touching the player.  However, if inverted, it appears with a red invert icon and means <em>Monster is <strong>not</strong> overlapping Player</em>.</p><p><img src="./manual_files/invertedcondition.png" alt="An inverted condition." width="277" height="23"></p><p>Not all conditions can be inverted (e.g. triggers can't be, because the event doesn't make sense inverted in that case).</p><a name="anchor-77"></a><h3>4.5.4 Actions</h3><p>In events, <strong>actions</strong> do something, such as create an object or go to another layout.  They appear to the right of the event.</p><p><img src="./manual_files/eventdiagram.png" alt="Diagram of an event." width="494" height="129"></p><p>Actions only affect the <a href="#anchor-71">instances</a> that met the event's <a href="#anchor-76">conditions</a>.  See <a href="#anchor-75">How Events Work</a> for more information.</p><a name="anchor-78"></a><h3>4.5.5 Expressions</h3><p>In events, <strong>expressions</strong> are used to calculate sums or retrieve information from objects, such as a Sprite's X co-ordinate.  Expressions are entered in to the <a href="#anchor-60">Parameters dialog</a>.  The <a href="#anchor-59">Expressions panel</a> is also shown at the same time and provides a dictionary of all the system and object expressions available in a project.</p><p>Some examples of expressions, which can range from a simple number to a complex calculation, are below:</p><p class="article-indented"><em>0</em><br><em>random(360)</em><br><em>Sprite.X</em><br><em>(Player1.X + Player2.X) / 2</em><br><em>Sprite.8Direction.Speed</em><br><em>Sprite.X + cos(Sprite.Angle) * Sprite.Speed * dt</em></p><h3>Numbers</h3><p>Numbers are simply entered as digits with an optional fractional part separated by a dot, e.g. <strong>5</strong> or <strong>1.2</strong>.</p><h3>Text (strings)</h3><p>Text is also known as <em>strings</em> in programming, and Construct 2 also sometimes uses this naming convention.  Text in expressions should be surrounded by double-quotes, e.g. <strong>"Hello"</strong></p><p>The double-quotes are not included as part of the text, so setting a text object to show the expression <strong>"Hello"</strong> will make it show <strong>Hello</strong>, without any double-quotes.  To include a double-quote in a string, use two double-quotes next to each other (<strong>""</strong>), e.g. <strong>"He said ""hi"" to me"</strong> will return <strong>He said "hi" to me</strong>.</p><p>You can use <strong>&amp;</strong> to build strings out of mixed text and numbers, e.g. <strong>"Your score is: " &amp; score</strong></p><p>To add a line break to a string use the <a href="#anchor-126">system expression</a> <em>newline</em>, e.g. <strong>"Hello" &amp; newline &amp; "world"</strong></p><h3>Operators</h3><p>You can use the following operators in expressions:</p><p><strong>+</strong> (addition)<br><strong>-</strong> (subtraction)<br><strong>*</strong> (multiplication)<br><strong>/</strong> (division)<br><strong>%</strong> (modulo, remainder after division)<br><strong>^</strong> (raise to power, e.g. <em>5 ^ 2 = 25</em>)<br><strong>&amp;</strong> (build strings, e.g. <em>"Your score is: " &amp; score</em>)</p><p>There are also comparison operators <strong>=</strong>, <strong>&lt;&gt;</strong>, <strong>&lt;</strong>, <strong>&lt;=</strong>, <strong>&gt;</strong>, <strong>&gt;=</strong> for comparing values.  They return 1 if the comparison is true or 0 if false.</p><p>&amp; can also be used as logical AND, and <strong>|</strong> is a logical OR operator.  These are useful combined with the comparison operators, e.g. <strong>score &lt; 0 | health &lt; 0</strong>, which also return 1 if true and 0 if false.</p><p><strong>?:</strong> is a <em>conditional</em> operator, which allows you to test conditions in expressions.  This is especially useful when used with the comparison operators and logical operators.  It takes the form <strong>condition ? result_if_true : result_if_false</strong><br>e.g. <strong>health &lt; 0 | score &lt; 0 ? "Game over!" : "Keep going!"</strong>.<br>The condition counts as true if it is non-zero, and false if it is zero.</p><h3>Object expressions</h3><p>Objects have their own expressions to retrieve information about the object.  These are written in the form <strong>Sprite.X</strong> (the object name, a dot, then the expression name).  The Expressions panel lists all the available expressions in the project, and they are further documented in the Reference section of the manual.</p><p>The expression <strong>Self</strong> can be used as a short-cut to refer to the current object.  For example, in an action for the <em>Player</em> object, <strong>Self.X</strong> refers to <strong>Player.X</strong>.</p><p>You can add a 0-based object index to get expressions from different object instances.  For example <strong>Sprite(0).X</strong> gets the first Sprite instance's X position, and <strong>Sprite(1).X</strong> gets the second instance's X position.  For more information see index IDs (IIDs) in <a href="#anchor-130">common features</a>.  You can also pass another expression for the index.  Negative numbers start from the opposite end, so <strong>Sprite(-1).X</strong> gets the last Sprite's X position.</p><h3>Behavior expressions</h3><p>If an object has a <a href="#anchor-72">behavior</a> with its own expressions, they are written in the form <strong>Object.Behavior.Expression</strong>, e.g. <strong>Sprite.8Direction.Speed</strong>.</p><h3>System expressions</h3><p>The built-in system expressions are listed in the <a href="#anchor-126">reference</a>.  These include some basic mathematical functions like <em>sqrt</em> (square root).</p><a name="anchor-128"></a><h3>4.5.6 Sub-events</h3><p><strong>Sub-events</strong> appear indented beneath other events.  They <strong>carry on picking instances</strong> from where the "parent" event left off.  They run after the parent event's <a href="#anchor-77">actions</a> have finished.  An example is below.</p><p><img src="./manual_files/subeventexample.png" alt="A sub-event example." width="452" height="131"></p><p>This event runs like so:</p><ol><li>Test if any <em>Monster</em> <a href="#anchor-71">instances</a> are overlapping <em>Player</em>.  If so, the instances involved are remembered.</li><li>The top event's actions would run next, but it doesn't have any.</li><li>The second event (note it is indented) then tests if the <em>Player</em>'s <strong>ShieldEnabled</strong> <a href="#anchor-73">instance variable</a> is set.  If so, it subtracts 1 from the health of the <em>Monster</em> overlapping the player.</li><li>The third event (also indented) tests if the <em>Player</em>'s <strong>ShieldEnabled</strong> instance variable is <strong>not</strong> set (see <a href="#anchor-76">inverting conditions</a>).  If so, it subtracts 1 from the health of the <em>Player</em>.</li></ol><p>In other words, monsters hurt the player when they touch, unless the player has <strong>ShieldEnabled</strong> in which case the monsters are hurt instead.</p><p>This works because the objects picked by the top event are remembered and also used for sub-events.  If the second and third events were <em>not</em> sub-events (not appearing indented) the second event would subtract 1 from the health of <em>all</em> Monsters, because it was not referenced in the event.  (See <em>Unreferenced objects</em> in <a href="#anchor-75">How events work</a> for more on this.)</p><p>Sub-events can have other sub-events too, which makes sub-events very powerful and flexible for setting up advanced game logic.</p><p>Note sub-events run after the actions only if the actions run - in the above example, if no monsters are overlapping the player, neither the actions of that event nor its sub-events run at all.</p><h3>Triggers in sub-events</h3><p>If a trigger is in a sub-event <strong>all</strong> of its parent event's conditions must be true at the time the trigger fires, otherwise the event will not run.</p><p>There can also only be one trigger in a single branch of sub-events.  In other words, one of the events above a trigger cannot also contain a trigger.</p><a name="anchor-80"></a><h3>4.5.7 Groups</h3><p><strong>Groups</strong> of events are mainly for organising events.  They can be collapsed and expanded using the <strong>+</strong> or <strong>-</strong> button in the title.  They are edited with the <a href="#anchor-47">Event Group dialog</a>.</p><p><img src="./manual_files/eventgroups.png" alt="Some event groups" width="482" height="188"></p><p>Events can be <strong>dragged and dropped</strong> in to and out of groups.  Entire groups can also be enabled or disabled with the <strong>Set Group Active</strong> <a href="#anchor-125">system action</a>, which is useful for situations like pausing the game.</p><a name="anchor-81"></a><h3>4.5.8 Comments</h3><p>Event <strong>comments</strong> are simply notes to help you remember how events work and what they do.  They are very important to help you remember how things work in large projects!  Comments have a yellow background and appear above the event they are describing.</p><p><img src="./manual_files/eventcomment.png" alt="An event comment" width="474" height="65"></p><p>Comments can be edited by <strong>double clicking</strong> on them.  You can make a comment with a line break by holding shift and pressing Enter.</p><p>If you use Construct 2 a lot, you will find comments essential to help yourself organise and understand large projects.  Coming back to a project after a few months with no comments at all can be very difficult, so don't underestimate the importance of comments.</p><p>Comments do not affect how anything works at all.  They are solely for your information.  Nothing typed in to comments is exported to the game whatsoever.</p><a name="anchor-82"></a><h3>4.5.9 Includes</h3><p>Event sheet <strong>includes</strong> allow you to include an <a href="#anchor-121">event sheet</a> on another event sheet.  They are a sort of automatic copy-paste of one sheet's contents to another.  This is useful for sharing events common to multiple <a href="#anchor-67">layouts</a>.  For example, you can use different event sheets for different parts of your game logic.  You could have event sheets called <em>Player input</em>, <em>Enemy control</em>, <em>Effects</em>, and so on.  Then each level of the game can include these common event sheets in the layout's own event sheet.  This allows you to share the same events between multiple layouts, without having to copy and paste all your events over and over again.</p><p><img src="./manual_files/includeeventsheet.png" alt="An event sheet Include" width="304" height="25"></p><p>Includes can be added from right-clicking a space in the event sheet, or using the ribbon Events tab.</p><a name="anchor-83"></a><h3>4.5.10 Variables</h3><p><strong>Event Variables</strong> are number or text values which are either <strong>global</strong> to the project or <strong>local</strong> to a range of events.  They are modified with the <a href="#anchor-55">Event Variable dialog</a>.</p><p><img src="./manual_files/eventglobalvariable.png" alt="A global variable." width="304" height="20"></p><p>Event variables are modified with the <a href="#anchor-125">system actions</a> in the <em>Global &amp; local variables</em> category.  They can be retrieved by simply using their name in <a href="#anchor-78">expressions</a>.</p><h3>Global variables</h3><p>Global variables show a globe icon (as in the above image).  They are always at the <em>top level</em> of an event sheet - they are not <a href="#anchor-128">sub-events</a> or inside any <a href="#anchor-80">groups</a>.</p><p>Global variables store their values between layouts.  Events in any layout can access global variables.</p><h3>Local variables</h3><p>Local variables are variables placed beneath other events, or inside a group.  They show with a diamond icon instead of a globe.</p><p><img src="./manual_files/localvariable.png" alt="A local variable." width="285" height="20"></p><p>There are two important differences between local variables and global variables:</p><ol><li>Local variables <strong>reset their value to the initial value every tick</strong>.  This is by design, and intended to match how local variables work in real programming languages.</li><li>Local variables <strong>can only be accessed in their scope</strong>.</li></ol><p>The <strong>scope</strong> of an event variable is also designed to match that of real programming languages.  A local variable's scope is its level of subevents.  All other events at the same level of indentation, or lower levels, can access the local variable.  Events <em>above</em> it (less indented) <em>cannot</em> access the local variable.  This makes local variables convenient for temporary holding variables over a short range of events, or in a group of events.</p><p>For example, if an event variable is in a group of events, it becomes a local variable.  Then, it will only appear as an option for a variable in events inside that group.  In other groups or in other event sheets it does not appear at all and cannot be accessed.  This makes the variable <em>local</em> to the <em>scope</em> in which it is placed.</p><a name="anchor-141"></a><h2>4.6 Files</h2><p>Any external files can also be imported to your project via the <a href="#anchor-39">Project Bar</a>.  This is useful for including any other resources your project might need, such as videos, additional images, JSON data, XML data, text data, documents, or other general files you might want to let the user download.</p><p>For ideas on uses for project files and possible workflows, see the tutorial <a href="http://www.scirra.com/tutorials/328/using-project-files-in-construct-2" target="_blank">Using project files in Construct 2 ⇗</a>.</p><p>Files can be imported by <strong>right-clicking</strong> the <strong>Files</strong> folder in the Project Bar and selecting <strong>Import Files</strong>.</p><p><img src="./manual_files/importfiles.png" alt="Importing project files." width="184" height="146"></p><p>By default you can add any kind of file to the project, but you can also set the file filter to only show text-based files if those are the kinds of files you are looking for.</p><p>Importing project files has the following effects:</p><ol><li>The file is copied to your project folder, or stored inside the .capx file.  (It is not referenced from its current location on disk, so if you change the original file, it is not updated in the project.)</li><li>When previewing, the file is also accessible from the preview server (<em>localhost</em>), which helps you test the use of project files.</li><li>The file is <a href="#anchor-122">exported</a> with your project.</li><li>When published, the file is also cached for offline use alongside the rest of the project.  For more information see the tutorial <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">Offline games in Construct 2 ⇗</a>.</li></ol><p>Project files can also be AJAX requested at runtime using the <a href="#anchor-107">AJAX object</a>'s <em>Request project file</em> action.  This is especially useful for loading XML or JSON data at runtime.</p><a name="anchor-84"></a><h2>4.7 Sounds &amp; Music</h2><p>Sounds and Music in Construct 2 are audio files.  Any sound files the project uses will be exported with the project.  Because browser makers cannot agree on a single format for the web, these must be encoded in to <strong>two</strong> formats: <strong>Ogg Vorbis</strong> (.ogg) and <strong>MPEG-4 AAC</strong> (.m4a).</p><p>To import and play back audio in Construct 2, the following steps are required:</p><ol><li>Import sounds by right-clicking the <strong>Sounds</strong> or <strong>Music</strong> folders in the <a href="#anchor-39">Project Bar</a> and selecting <strong>Import sounds</strong> or <strong>Import music</strong>.</li><li>Import audio via the <a href="#anchor-52">Import Audio dialog</a>.</li><li>Add the <a href="#anchor-109">Audio</a> object to the project and add events to play back audio.</li></ol><p>For more information on audio support in Construct 2, see the information in the section on the <a href="#anchor-52">Import Audio dialog</a>.</p><h3>MIME types</h3><p>In order for your server to send audio files correctly, it must be set up with the following MIME types:</p><p><strong>.ogg</strong> as <strong>audio/ogg</strong><br><strong>.m4a</strong> as <strong>audio/mp4</strong></p><p>Without these MIME types you may not hear audio after uploading your project to your server, or directly visiting the audio file's URL will return a 404 Not Found error.</p><a name="anchor-86"></a><h1>5. Behavior Reference</h1><p>This section provides a reference of all the official <a href="#anchor-72">behaviors</a> that come with Construct 2.  Each has an overview of its use, a list of its properties, and a detailed list of the actions, conditions and expressions specific to that behavior.  Behaviors add their actions, conditions and expressions to the object they are added to, appearing alongside the object's own features in the <a href="#anchor-51">Add condition/action dialog</a> and <a href="#anchor-59">Expressions panel</a>.</p><p>Behaviors can be added and removed from objects via the <a href="#anchor-40">Properties Bar</a>, which opens the <a href="#anchor-57">Object Behaviors dialog</a> and <a href="#anchor-49">Add Behavior dialog</a>.</p><h3>Custom controls</h3><p>By default, user-controlled movement behaviors use a standard set of controls (usually based around the arrow keys).  To change these, set the <strong>Default controls</strong> property to <strong>No</strong>, and set up some events using the <strong>Simulate control</strong> action.  For an example, see the <em>Platform 4 (custom controls).capx</em> example in the Examples folder in Construct 2's install directory.  It uses the following events to change Platform's arrow key and shift controls to W, A and D:</p><p><img src="./manual_files/platformcustomcontrols.png" alt="Platform custom controls" width="467" height="137"></p><p>The <em>Simulate control</em> action does not have to be used with keyboard input.  For example, it can be used with touch input to create <a href="http://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">on-screen touch controls ⇗</a>, or with <a href="#anchor-143">Gamepad</a> input.  Alternatively, you can set up events to automatically control objects with the <em>Simulate control</em> action.  This allows you to set up computer-controlled enemies or non-player characters (NPCs), sometimes loosely referred to as "AI".</p><a name="anchor-87"></a><h2>5.1 8 direction</h2><p>The <strong>8 Direction behavior</strong> allows an object to be moved up, down, left, right and on diagonals, controlled by the arrow keys by default.  It is often useful for controlling the player in a top-down view game.  It can also be set to 4 directions or simple up/down or left/right movement which is useful for paddles or sliders.</p><p>The 8 Direction behavior is blocked by any objects with the <a href="#anchor-104">Solid</a> behavior.</p><p>To set up custom or automatic controls, see the <a href="#anchor-86">behavior reference summary</a>.</p><h3>8 Direction properties</h3><p><strong>Max speed</strong><br>The maximum speed the object can travel at in any direction, in pixels per second.</p><p><strong>Acceleration</strong><br>The rate the movement accelerates at, in pixels per second per second.  When reversing against the current movement, acceleration and deceleration both contribute to slowing down.</p><p><strong>Deceleration</strong><br>The rate the movement decelerates to rest when not being moved, in pixels per second per second.  When reversing against the current movement, acceleration and deceleration both contribute to slowing down.</p><p><strong>Directions</strong><br>Set how many directions the movement can move in.  By default it is <em>8 Directions</em>, allowing movement on diagonals.  <em>4 directions</em> prevents movement on diagonals, and <em>Up &amp; down</em> or <em>Left &amp; right</em> only allows movement along a single axis.</p><p><strong>Set angle</strong><br>Whether or not the movement should also affect the objects angle.  <em>360 degree (smooth)</em> will always set the object's angle to the current angle of motion.  <em>45-degree intervals</em> will set the object's angle to 8 possible directions.  <em>90-degree intervals</em> will set the object's angle to 4 possible directions.  <em>No</em> means the behavior will not set the object's angle at all, which is useful if you want to control this yourself with events (e.g. to make the object point towards the mouse cursor).</p><p><strong>Default controls</strong><br>If <em>Yes</em>, movement is controlled by the arrow keys on the keyboard.  Set to <em>No</em> to set up custom controls using the <em>Simulate control</em> action.  For more information see <em>Custom controls</em> in the <a href="#anchor-86">behavior reference summary</a>.</p><h3>8 Direction conditions</h3><p><strong>Compare speed</strong><br>Compare the object's current speed in pixels per second.</p><p><strong>Is moving</strong><br>True if the object has a non-zero speed (is not stopped).  Invert to test if the object is stopped.</p><h3>8 Direction actions</h3><p><strong>Reverse</strong><br>Invert the direction of motion.  Useful as a simple way to bounce the object off an obstacle.</p><p><strong>Set acceleration</strong><br><strong>Set deceleration</strong><br><strong>Set max speed</strong><br>These set the corresponding properties, described under <em>8 Direction properties</em>.</p><p><strong>Set enabled</strong><br>Enable or disable the movement.  If disabled, the movement no longer has any effect on the object.</p><p><strong>Set ignoring input</strong><br>Set whether input is being ignored.  If input is ignored, pressing any of the control keys has no effect.  However, unlike disabling the behavior, the object can continue to move.</p><p><strong>Set speed</strong><br>Set the current speed the object is moving at, in pixels per second.</p><p><strong>Simulate control</strong><br>Simulate one of the movement controls being held down.  Useful when setting <em>Default controls</em> to <em>No</em>.  See <em>Custom controls</em> in the <a href="#anchor-86">behavior reference summary</a> for more information.</p><p><strong>Stop</strong><br>A shortcut for setting the speed to zero.</p><h3>8 Direction expressions</h3><p><strong>Acceleration</strong><br><strong>Deceleration</strong><br><strong>MaxSpeed</strong><br>Return the corresponding properties, described under <em>8 Direction properties</em>.</p><p><strong>MovingAngle</strong><br>Get the current angle of motion (which can be different to the object's angle), in degrees.</p><p><strong>Speed</strong><br>Get the current object's movement speed, in pixels per second.</p><p><strong>VectorX</strong><br><strong>VectorY</strong><br>Get the object's current speed on each axis, in pixels per second.  For example, if the object is moving to the left at 100 pixels per second, <em>VectorX</em> is -100 and <em>VectorY</em> is 0.</p><a name="anchor-88"></a><h2>5.2 Anchor</h2><p>The <strong>Anchor behavior</strong> is useful for automatically positioning objects relative to the window size.  This is useful for supporting multiple screen sizes.  For more information on features to support multiple screen sizes, see the tutorial <a href="http://www.scirra.com/tutorials/73/supporting-multiple-screen-sizes" target="_blank">Supporting multiple screen sizes ⇗</a>.</p><p>The Anchor behavior only has a useful effect when the <strong>Fullscreen in browser</strong> <a href="#anchor-66">project property</a> is set to either <em>On (crop mode)</em> or <em>On (scale mode)</em>.</p><p>Objects using the Anchor behavior should also be played on a <a href="#anchor-85">layer</a> with its parallax set to 0, 0.  Otherwise as the game scrolls the objects may "lag" behind the screen.</p><h3>Positioning objects relative to the window size</h3><p>In the top-left of the <a href="#anchor-43">Layout View</a>, a dotted outline represents the default size of the game window.  Anchored objects should be positioned inside the dotted window area, as shown below.</p><p><img src="./manual_files/anchorpositioning.png" alt="Positioning some objects with the Anchor behavior." width="547" height="333"></p><p>Now if the window is resized during preview, the objects maintain their relative positions, as shown below:</p><p><img src="./manual_files/anchorresized.png" alt="Anchor responding to window size." width="421" height="491"></p><p>This is useful for interface elements like notifications and heads-up displays (HUDs).</p><h3>Relative positioning</h3><p>The <strong>Left edge</strong> and <strong>Right edge</strong> position the object relative to the window corners, without changing the object size.  For example, if the <em>Left edge</em> is set to <em>Window right</em>, the object will always stay the same distance from the <em>right</em> edge of the window.</p><p>The <strong>Right edge</strong> and <strong>Bottom edge</strong> resize the object relative to the window corners.  For example, if you want a Tiled Background to stretch wider as the window widens, set <em>Right edge</em> to <em>Window right</em>.</p><h3>Anchor conditions, actions and expressions</h3><p>The Anchor object has a single action:</p><p><strong>Set enabled</strong><br>Set whether the behavior is enabled or disabled.  If disabled, the behavior will not alter the size or position of the object.</p><a name="anchor-89"></a><h2>5.3 Bound to layout</h2><p>The <strong>Bound to Layout behavior</strong> simply prevents an object leaving the edge of the layout.  It is most useful on objects which move around but should not leave the layout area.</p><p>It has no conditions, actions or expressions, just the following property:</p><p><strong>Bound by</strong><br>Set to <em>Edge</em> to prevent any part of the object leaving the layout.  The object will stop at the position shown below:</p><p><img src="./manual_files/boundtoedge.png" alt="Bounding to edge" width="217" height="192"></p><p>Set to <em>Origin</em> to only prevent the object's origin leaving the layout.  The result depends on where the origin is placed on the object, but with a centred origin the object will stop in a position similar to the image shown below:</p><p><img src="./manual_files/boundtoorigin.png" alt="Bound to origin" width="217" height="192"></p><a name="anchor-90"></a><h2>5.4 Bullet</h2><p>The <strong>Bullet behavior</strong> simply moves an object forwards at an angle.  However, it provides extra options like gravity and bouncing that allow it to also be used like a bouncing ball.  Like the name suggests it is ideal for projectiles like bullets, but it is also useful for automatically controlling other types of objects like enemies which move forwards continuously.</p><p>For two examples of the Bullet behavior see <em>Bouncing balls.capx</em> and <em>Bouncing bullets.capx</em> in the Examples folder in the Construct 2 install directory.</p><h3>Bullet properties</h3><p><strong>Speed</strong><br>The bullet's initial speed, in pixels per second.</p><p><strong>Acceleration</strong><br>The rate of acceleration for the bullet, in pixels per second per second.  Zero will keep a constant speed, positive values accelerate, and negative values decelerate until a stop (the object will not go in to reverse).</p><p><strong>Gravity</strong><br>The force of gravity, which causes acceleration downwards, in pixels per second per second.  Zero disables gravity which is useful for top-down games.  Positive values cause a parabolic path as the bullet is bullet down by gravity.</p><p><strong>Bounce off solids</strong><br>If set to <em>Yes</em>, the bullet will bounce off any objects with the <a href="#anchor-104">Solid</a> behavior.  It will also calculate the angle of reflection to bounce off realistically depending on the object's shape and angle.</p><p><strong>Set angle</strong><br>If set to <em>No</em>, the behavior will never change the object's angle.  If set to <em>Yes</em>, the behavior always sets the object angle to the angle of motion.</p><h3>Bullet conditions</h3><p><strong>Compare speed</strong><br>Compare the current speed of the bullet, in pixels per second.</p><p><strong>Compare distance travelled</strong><br>Compare the total distance the bullet has moved since creation, in pixels.  This does not take in to account altering the object position with other actions like <em>Set position</em>.</p><h3>Bullet actions</h3><p><strong>Bounce off object</strong><br>Make the bullet bounce off an object it has just touched.  Since this requires the bullet have only just touched the object, it is generally only useful in an <em>On collision</em> event.  It will also calculate the angle of reflection to bounce off realistically depending on the object's shape and angle.  If the bullet is not currently overlapping the given object, or is stuck deep inside it, this action will have no effect.</p><p><strong>Set acceleration</strong><br>Set the bullet acceleration in pixels per second per second.</p><p><strong>Set angle of motion</strong><br>Set the angle the bullet is currently moving at, in degrees.</p><p><strong>Set enabled</strong><br>Enable or disable the movement.  If disabled, the behavior will stop moving the bullet, but will remember the current speed, acceleration etc. if enabled again.</p><p><strong>Set gravity</strong><br>Set the acceleration caused by gravity, in pixels per second per second.</p><p><strong>Set speed</strong><br>Set the bullet's current movement speed, in pixels per second.</p><h3>Bullet expressions</h3><p><strong>Acceleration</strong><br>Get the bullet's current acceleration in pixels per second per second.</p><p><strong>AngleOfMotion</strong><br>Get the angle the bullet is currently moving at (which can be different to the object's angle), in degrees.</p><p><strong>DistanceTravelled</strong><br>Return the total distance the bullet has moved since creation, in pixels.  This does not take in to account altering the object position with other actions like <em>Set position</em>.</p><p><strong>Speed</strong><br>Get the bullet's current movement speed in pixels per second.</p><a name="anchor-91"></a><h2>5.5 Car</h2><p>The <strong>Car behavior</strong> allows an object to accelerated forwards and backwards and have steering.  It also has a simple "drift" feature where the object can "skid" around corners (by pointing in a different direction to that it is moving in).  For an example of the Car behavior see <em>Car behavior.capx</em> in the Examples folder in Construct 2's install directory.</p><p>By default the object is controlled by the arrow keys on the keyboard (Up to accelerate, down to brake, left and right to steer).  To set up custom or automatic controls, see the <a href="#anchor-86">behavior reference summary</a>.</p><p>The Car behavior will bounce off any objects with the <a href="#anchor-104">Solid</a> behavior.  The effect on the movement depends on the angle of impact - glancing collisions nudge the car off its current path, whereas head-on collisions stop it more or less dead.  The amount of speed lost depends on the <em>Friction</em> property.</p><h3>Car properties</h3><p><strong>Max speed</strong><br>The maximum speed, in pixels per second, the car can accelerate to.</p><p><strong>Acceleration</strong><br>The rate the car accelerates at, in pixels per second per second.</p><p><strong>Deceleration</strong><br>The rate the car brakes at, in pixels per second per second.</p><p><strong>Steer speed</strong><br>The rate the car rotates at when steering, in degrees per second.</p><p><strong>Drift recover</strong><br>The rate the car recovers from drifts, in degrees per second.  In other words, this is the rate the angle of motion catches up with the object angle.  The angle of motion can never be more than 90 degrees off the object angle.  If the drift recover is greater or equal to the <em>Steer speed</em>, no drifting ever occurs.  The lower the drift recover, the more the car will drift on corners.</p><p><strong>Friction</strong><br>The amount of speed lost when colliding with a solid, from 0 (stop dead) to 1 (speed not affected at all).  For example, to slow the speed down by half when colliding with a solid, set <em>Friction</em> to 0.5.</p><p><strong>Set angle</strong><br>If <em>Yes</em>, the behavior will set the object's angle.  If <em>No</em>, the behavior never changes the object's angle.</p><p><strong>Default controls</strong><br>If <em>Yes</em>, the car movement is controlled by the arrow keys on the keyboard.  Set to <em>No</em> to set custom controls.  For more information see the <a href="#anchor-86">behavior reference summary</a>.</p><h3>Car conditions</h3><p><strong>Compare speed</strong><br>Compare the current speed of the car, in pixels per second.</p><p><strong>Is moving</strong><br>True if the current speed is non-zero.  Invert to test if the car is stopped.</p><h3>Car actions</h3><p><strong>Set acceleration</strong><br><strong>Set deceleration</strong><br><strong>Set drift recover</strong><br><strong>Set friction</strong><br><strong>Set max speed</strong><br><strong>Set steer speed</strong><br>Set the corresponding properties.  See <em>Car properties</em> for more information.</p><p><strong>Set enabled</strong><br>Enable or disable the movement. If disabled, the movement no longer has any effect on the object.</p><p><strong>Set ignoring input</strong><br>Set whether input is being ignored. If input is ignored, pressing any of the control keys has no effect. However, unlike disabling the behavior, the object can continue to move.</p><p><strong>Set speed</strong><br>Set the current speed the object is moving at, in pixels per second.</p><p><strong>Simulate control</strong><br>Simulate one of the movement controls being held down.  Useful when setting <em>Default controls</em> to <em>No</em>.  See <em>Custom controls</em> in the <a href="#anchor-86">behavior reference summary</a> for more information.</p><p><strong>Stop</strong><br>A shortcut for setting the speed to zero.</p><h3>Car expressions</h3><p><strong>Acceleration</strong><br><strong>Deceleration</strong><br><strong>DriftRecover</strong><br><strong>Friction</strong><br><strong>MaxSpeed</strong><br><strong>SteerSpeed</strong><br>Return the corresponding properties.  See <em>Car properties</em> for more information.</p><p><strong>MovingAngle</strong><br>Get the current angle of motion (which can be different to the object's angle), in degrees.</p><p><strong>Speed</strong><br>Get the current object's movement speed, in pixels per second.</p><p><strong>VectorX</strong><br><strong>VectorY</strong><br>Get the object's current speed on each axis, in pixels per second. For example, if the object is moving to the left at 100 pixels per second, <em>VectorX</em> is -100 and <em>VectorY</em> is 0.</p><a name="anchor-92"></a><h2>5.6 Custom movement</h2><p>The <strong>Custom Movement behavior</strong> does not directly implement any movement for an object.  Instead, it provides features that make it easier to implement your own "custom" (event-based) movement.</p><p>The way different movements are made is out of the scope of this manual section.  Instead, it will outline the basics of the Custom Movement behavior and what its features do.  For an example of Asteroids style movement using the Custom Movement behavior, see <em>Custom movement (asteroids).capx</em> in the Examples folder in Construct 2's install directory.</p><p>For many games, the built-in behaviors like Platform and 8 Direction are perfectly sufficient.  Recreating existing behaviors with the Custom Movement should be avoided, since movements are difficult and time consuming to implement correctly.  The built-in behaviours have been thoroughly tested, probably have more features than you imagine (like slope detection in Platform), and are much quicker and easier to use than making your own movement.</p><h3>Overview of custom movements</h3><p>Most movements in Construct 2 work by manipulating two values: the speed on the X axis (<em>dx</em>) and the speed on the Y axis (<em>dy</em>).  These are also known as <em>VectorX</em> and <em>VectorY</em> in some other behaviors.  For example, if an object is moving left at 100 pixels per second, <em>dx</em> is -100 and <em>dy</em> is 0.  The object can then be accelerated to the right by adding to <em>dx</em>.  This is also how most of the other movement behaviors that come with Construct 2 work internally (like Platform and 8 Direction).</p><p>The Custom Movement behavior stores the <em>dx</em> and <em>dy</em> values for you, and provides features that help easily implement the math and algorithms necessary to make a movement.</p><p>Every tick the Custom Movement adjusts the object's position according to the <em>dx</em> and <em>dy</em> values.  This is called a <strong>step</strong>.  The Custom Movement can also use multiple steps per tick, which can help detect collisions more accurately if the object is moving very quickly.  Each step will trigger <em>On step</em>, <em>On horizontal step</em> or <em>On vertical step</em> depending on the <em>Stepping mode</em> property.</p><h3>Custom Movement properties</h3><p><strong>Stepping mode</strong><br>How to step the movement each tick.  The number of steps taken (if not <em>None</em>) depends on the <em>Pixels per step</em> property.<br><em>None</em> simply steps the object once per tick according to its velocity.<br><em>Linear</em> will step the object in a straight line towards its destination position, triggering <em>On step</em>.<br><em>Horizontal then vertical</em> will step the object to its destination first on the X axis (triggering <em>On horizontal step</em>), then on the Y axis (triggering <em>On vertical step</em>).<br><em>Vertical then horizontal</em> will step the object to its destination first on the Y axis (triggering <em>On vertical step</em>), then on the X axis (triggering <em>On horizontal step</em>).</p><p><strong>Pixels per step</strong><br>If <em>Stepping mode</em> is not <em>None</em>, this is the distance in pixels of each step towards the destination position each tick.  The default is 5, which means if the object is moving 20 pixels in a tick, it will move in four five-pixel steps.</p><h3>Custom Movement conditions</h3><p><strong>Compare speed</strong><br>Compare the current speed of the movement, in pixels per second.  <em>Horizontal</em> and <em>Vertical</em> compares to the <em>dx</em> and <em>dy</em> speeds respectively, and <em>Overall</em> compares to the magnitude of the vector (<em>dx</em>, <em>dy</em>) (the overall movement speed).</p><p><strong>Is moving</strong><br>True if either <em>dx</em> or <em>dy</em> are not zero.  Invert to test if stopped.</p><p><strong>On horizontal step</strong><br><strong>On vertical step</strong><br>Triggered for each step along an axis when <em>Stepping mode</em> is either <em>Horizontal then vertical</em> or <em>Vertical then horizontal</em>.  This can be used to accurately detect collisions with <em>Is overlapping</em>.</p><p><strong>On step</strong><br>Triggered for each step when <em>Stepping mode</em> is <em>Linear</em>.  This can be used to accurately detect collisions with <em>Is overlapping</em>.</p><h3>Custom Movement actions</h3><p><strong>Set enabled</strong><br>Enable or disable the behavior.  If disabled, the behavior will not modify the object's position.</p><p><strong>Rotate clockwise</strong><br><strong>Rotate counter-clockwise</strong><br><strong>Set</strong><br>Adjust the angle of motion.  This will calculate new values for <em>dx</em> and <em>dy</em> reflecting a new angle of motion with the same overall speed.</p><p><strong>Accelerate</strong><br>Accelerate either the overall movement, or movement on a specific axis.</p><p><strong>Accelerate toward angle</strong><br><strong>Accelerate toward position</strong><br>Accelerate the movement towards an angle or position.</p><p><strong>Push out solid</strong><br>Only valid when the behavior is currently overlapping an object with the <a href="#anchor-104">solid</a> behavior.  Automatically move the object until it is no longer overlapping the solid.  This has no effect if the object is not currently overlapping a solid.  The following techniques can be used:<br><em>Opposite angle</em> reverses (or 'backtracks') the object from its current angle of motion until it is no longer overlapping.<br><em>Nearest</em> moves the object in an eight-direction spiral out one pixel at a time until it is no longer overlapping.  The aim is for the object to end up in the nearest free space, but since only eight directions are used it will be an approximation.<br><em>Up</em>, <em>down</em>, <em>left</em> and <em>right</em> moves the object along a specific axis until it is no longer overlapping.</p><p><strong>Push out solid at angle</strong><br>Only valid when the behavior is currently overlapping an object with the solid behavior.  Move the object from its current position at a given angle until it is no longer overlapping the solid.  This has no effect if the object is not currently overlapping a solid.</p><p><strong>Reverse</strong><br>Inverts the movement by flipping the signs of <em>dx</em> and <em>dy</em>.</p><p><strong>Set speed</strong><br>Set the current speed in pixels per second either for the horizontal or vertical axes, or the overall movement speed.  Setting horizontal or vertical speeds assigns <em>dx</em> and <em>dy</em> directly.  Setting the overall speed calculates new values for <em>dx</em> and <em>dy</em> such that they reflect the new overall speed while keeping the same angle of motion.</p><p><strong>Stop</strong><br>A shortcut for setting both <em>dx</em> and <em>dy</em> to 0, stopping the movement.</p><p><strong>Stop stepping</strong><br>Only valid in <em>On step</em>, <em>On horizontal step</em> and <em>On vertical step</em>.  Stop the current stepping for this tick.  The object can either go back to its old position (where it was at the start of the tick) or stay at its current position (possibly half way between its start and end positions).</p><h3>Custom Movement expressions</h3><p><strong>dx</strong><br><strong>dy</strong><br>Return the movement's <em>dx</em> and <em>dy</em> values, which are the speed in pixels per second on each axis.</p><p><strong>MovingAngle</strong><br>Return the current angle of motion, in degrees, calculated as the angle of the vector (<em>dx</em>, <em>dy</em>).</p><p><strong>Speed</strong><br>Return the current overall speed in pixels per second, calculated as the magnitude of the vector (<em>dx</em>, <em>dy</em>).</p><a name="anchor-94"></a><h2>5.7 Destroy outside layout</h2><p>The <strong>Destroy Outside Layout behavior</strong> simply automatically destroys an object if it leaves the layout area.  It only destroys the object if it is entirely outside the layout (i.e. no part of its bounding box is inside the layout).  The <em>Destroy Outside Layout</em> behavior has no properties, conditions, actions or expressions.</p><p>This behavior is often useful to prevent bullets and other projectiles flying off the layout forever.  For example, without this behavior, if the user shoots some enemies and misses, the bullets could carry on flying off outside the layout forever.  As the games go on, more and more bullets build up over time, all moving further away forever.  This gradually uses up more and more memory and CPU power causing the game to slow down.  This can easily be avoided by adding the <em>Destroy outside layout</em> behavior to the bullets, so they are automatically removed when they leave the layout area.</p><a name="anchor-137"></a><h2>5.8 Drag &amp; Drop</h2><p>The <strong>Drag &amp; Drop behavior</strong> enables objects to be dragged and dropped either by mouse or touch.  On multi-touch devices, multiple objects can be dragged and dropped at once.</p><p>An object starts dragging when a mouse click or touch falls inside the object's collision polygon.  It is released when the mouse button is released or the touch ends.</p><p>The Drag &amp; Drop behavior has no properties.</p><h3>Drag &amp; Drop conditions</h3><p><strong>Is dragging</strong><br>True if the object is currently being dragged by mouse or touch.</p><p><strong>On drag start</strong><br>Triggered when the object is clicked or touched inside its collision polygon.</p><p><strong>On drop</strong><br>Triggered when the object is being dragged, and the mouse button is released or the touch ends.</p><h3>Drag &amp; Drop actions</h3><p><strong>Set enabled</strong><br>Enable or disable the Drag &amp; Drop behavior.  If disabled, clicking or touching the object has no effect and the object cannot be dragged.  It also becomes 'transparent' to clicks and touches, meaning other objects underneath it can still be dragged and dropped.  If the object is being dragged when it is disabled, the drag is cancelled, but <em>On drop</em> will not trigger.</p><h3>Drag &amp; Drop expressions</h3><p>The Drag &amp; Drop behavior has no expressions.</p><a name="anchor-95"></a><h2>5.9 Fade</h2><p>The <strong>Fade behavior</strong> fades objects in and out by changing the object's opacity over time.  By default, it makes an object fade out over 1 second then destroys it.</p><p>Fades run in the following order.  If any of the times are 0, the step is skipped.</p><ol><li>The object fades in from invisible to its set opacity, over the <em>Fade in time</em>.</li><li>The object remains at its current opacity for the <em>Wait time</em>.</li><li>The object fades out to invisible, over the <em>Fade out time</em>.</li><li>If <em>Destroy</em> is set to <em>After fade out</em>, the object is then destroyed.</li></ol><p>For example, with each time set to 1 second, the object will fade in from invisible for 1 second, wait for 1 second, then fade out to invisible for 1 second.</p><p>It is recommended to leave <em>Destroy</em> set to <em>After fade out</em>.  If set to <em>No</em>, the object still exists after fading out, but is invisible.  If many objects are using the Fade behavior, this can build up many invisible objects over time, which gradually use more memory and CPU causing the game to slow down.</p><h3>Fade properties</h3><p><strong>Activate at start</strong><br>If <em>Yes</em>, the object will begin fading as soon as it is created. If <em>No</em>, the fade will not run until you use the <em>Start</em> action.</p><p><strong>Fade in time</strong><br>Time, in seconds, to fade in from invisible.  If 0, the fade in is skipped.</p><p><strong>Wait time</strong><br>Time, in seconds, to wait between fade in and fade out.  If 0, the step is skipped.</p><p><strong>Fade out time</strong><br>Time, in seconds, to fade out to invisible.  If 0, the fade out is skipped.</p><p><strong>Destroy</strong><br>If set to <em>After fade out</em>, the object is automatically destroyed after the fade out finishes.  If <em>No</em>, the object is never destroyed by the behavior.  Be sure to destroy objects yourself as necessary, as a build-up of invisible faded-out objects can cause the game to slow down.</p><h3>Fade conditions</h3><p><strong>On fade out finished</strong><br>Triggered when the fade out finishes.</p><h3>Fade actions</h3><p><strong>Restart fade</strong><br>Run the entire fade from the beginning again.</p><p><strong>Start fade</strong><br>If <em>Active on start</em> is <em>No</em>, this will begin the fade.</p><h3>Fade expressions</h3><p>The Fade behavior has no expressions.</p><a name="anchor-96"></a><h2>5.10 Flash</h2><p>The <strong>Flash behavior</strong> makes an object blink by toggling its visibility on and off for a period of time.  It has no properties, conditions or expressions: just the two actions listed below.</p><p>Simply adding the Flash behavior to an object does not do anything.  You must use the <em>Flash</em> action to make the object flash.</p><h3>Flash conditions</h3><p><strong>Is flashing</strong><br>True if the object is currently within a flash duration.</p><p><strong>On flash ended</strong><br>Triggered when the end of the flash duration is reached, and the object has returned to visible.</p><h3>Flash actions</h3><p><strong>Flash</strong><br>Make the object flash by toggling its visibility on and off.  The 'On' time is the duration in seconds the object remains visible.  The 'Off' time is the duration in seconds the object remains invisible.  The object will alternate between these two states for the given duration in seconds.  The object is always set back to visible after the flash duration finishes.</p><p><strong>Stop flashing</strong><br>If the object is currently flashing, this stops the flashing and sets the object back to visible.  If the object is not currently flashing this action has no effect.</p><a name="anchor-97"></a><h2>5.11 Jump-thru</h2><p>The <strong>Jump-thru behavior</strong> allows the <a href="#anchor-100">Platform</a> behavior to stand on the object, and jump on to it from underneath.  This differs from the <a href="#anchor-104">Solid</a> behavior, which the Platform behavior can stand on, but not jump on to from underneath.  The image below illustrates the difference.</p><p><img src="./manual_files/jumpthru-solid.png" alt="Jumpthru vs. Solid" width="473" height="254"></p><p>The Jump-thru behavior has no properties, conditions, actions or expressions.  Because of this, it is also known as an <em>attribute</em>, since it simply enables the jump-thru ability for the Platform behavior.</p><a name="anchor-98"></a><h2>5.12 Physics</h2><p>The <strong>Physics behavior</strong> simulates realistic object physics.  It is powered by <a href="http://code.google.com/p/box2dweb/" target="_blank">Box2DWeb ⇗</a>.  For an example, see the <a href="http://www.scirra.com/arcade/examples/13/html5-physics-example" target="_blank">Physics example on the Arcade ⇗</a>.  For more examples, there are several Physics example projects in the Examples folder in Construct 2's install directory.</p><p>The Physics behavior is relatively complex.  The following tutorials are recommended to gain a basic understanding of how to use the Physics behavior and some important points to know before beginning to use it:<br><a href="http://www.scirra.com/tutorials/64/physics-in-construct-2-the-basics" target="_blank">Physics in Construct 2: The basics ⇗</a><br><a href="http://www.scirra.com/tutorials/65/physics-in-construct-2-forces-impulses-torque-and-joints" target="_blank">Physics in Construct 2: Forces, impulses, torque and joints ⇗</a><br>This manual section will not repeat the information in these tutorials.  Instead it will simply describe each feature of the Physics behavior.  The tutorials describe how Physics engines work, what the different types of joints are, the difference between impulses and forces, and so on in case you're not already familiar with them.</p><h3>Using Physics in Construct 2</h3><p>The Physics behavior simulates physics separately to the Construct 2 layout.  Construct 2 will try to keep the Physics and Construct 2 "worlds" synchronised if one changes but not the other, but this can be unpredictable.  For example, setting an object's position or angle will cause Construct 2 to teleport the corresponding object in the physics simulation to the object's new position, which does not always properly take in to account collisions.  The same is true of using other Construct 2 behaviors at the same time as Physics.</p><p>Therefore it is highly recommended to control Physics objects entirely via the Physics behavior (by setting forces, impulses, torques etc.), rather than trying to manipulate objects by <em>Set position</em>, <em>Set angle</em> etc.</p><p>Another consequence is Physics won't respond to objects with the <em>Solid</em> or <em>Jumpthru</em> behaviors.  These behaviors are totally redundant when using Physics and have no effect.  Instead, use the <em>Immovable</em> property.</p><h3>Physics properties</h3><p><strong>Immovable</strong><br>If <em>Yes</em>, simulate the object having infinite mass.  Its density is ignored and it will never move.</p><p><strong>Collision mask</strong><br><em>Use collision mask</em> uses the object's collision polygon from the <a href="#anchor-48">Image/Animations editor</a> for physics collisions.  If it doesn't have a collision polygon it will use the object's bounding box.<br><em>Bounding box</em> ignores the object's collision polygon if any, and for the purposes of Physics collisions considers the object to be a rectangle.<br><em>Circle</em> ignores the object's collision polygon if any, and for the purposes of Physics collisions considers the object to be a circle.  This allows objects to smoothly roll along (like for example barrels).  This is especially useful since object's collision polygons is made out of straight lines, so a smooth circle cannot be created that way.</p><p><strong>Prevent rotation</strong><br>Lock the object's angle so physics collisions do not cause it to rotate.</p><p><strong>Density</strong><br>The density of the physics object.  Only used if <em>Immovable</em> is <em>No</em>.  The object mass is calculated as its density multiplied by the area of its collision mask.  The exact density values used are not important and have no specific units - only the relative density is significant (i.e. an object with density 6 will be twice as dense as an object with density 3).</p><p><strong>Friction</strong><br>The friction coefficient of the physics object from 0 (no friction) to 1 (maximum friction).  This adjusts how easily objects move against each other while touching.</p><p><strong>Elasticity</strong><br>The elasticity (also known as <em>restitution</em> or <em>bounciness</em>) of the physics object, from 0 (inelastic, like a rock) to 1 (maximum elasticity, like a rubber ball).  This affects how high objects bounce when hitting the floor.</p><p><strong>Linear damping</strong><br>The rate the object slows down over time while moving, from 0 (no slowdown at all) to 1 (maximum slowdown).</p><p><strong>Angular damping</strong><br>The rate the object slows down over time while spinning, from 0 (no slowdown at all) to 1 (maximum slowdown).</p><p><strong>Bullet</strong><br>Enable enhanced collision detection for fast-moving objects.  This can affect performance, so do not enable it unless the object moves so fast the physics engine's standard collision detection is unreliable.</p><h3>Physics conditions</h3><p><strong>Is sleeping</strong><br>True if the object has been at rest and not moved or been disturbed for a while, so that the physics engine can stop processing it.  Note objects can still be moving imperceptibly which can prevent them from being asleep even when they appear to be stopped.</p><h3>Physics actions: Forces</h3><p><strong>Apply force</strong><br><strong>Apply force at angle</strong><br><strong>Apply force towards position</strong><br>Apply a force on the object, either at an angle, towards a position, or with custom X and Y axis forces.  Applying a force causes the object to accelerate in the direction of the force.  Forces can be applied from an image point or the object's origin.</p><p><strong>Apply impulse</strong><br><strong>Apply impulse at angle</strong><br><strong>Apply impulse towards position</strong><br>Apply an impulse on the object, either at an angle, towards a position, or with custom X and Y axis impulses.  Applying an impulse simulates the object being struck, e.g. hit by a bat.  Impulses can be applied from an image point or the object's origin.</p><p><strong>Set velocity</strong><br>Set the object's current velocity directly, providing a speed in pixels per second for the X and Y axes.</p><h3>Physics actions: Global settings</h3><p>These actions affect Physics behaviors in general, not just the one it was set for.</p><p><strong>Enable/disable collisions</strong><br>By default, all Physics objects collide with each other.  You can disable collisions between the object and another Physics object so they pass through each other.  This affects all instances of both object types.  Note: enabling collisions again when objects are overlapping can cause instability in the simulation.</p><p><strong>Set stepping iterations</strong><br>Set the number of velocity iterations and position iterations used in the physics engine.  The default is 8 and 3 respectively.  Lower values run faster but are less accurate, and higher values can reduce performance but provide a more realistic simulation.</p><p><strong>Set stepping mode</strong><br>Choose whether the Physics time step uses <em>dt</em> (delta time, for <em>Framerate independent</em>) or a <em>fixed</em> value.  By default it uses a fixed time step to eliminate any randomness coming from <em>dt</em>, ensuring simulations are exactly reproducible every time.  Set to <em>Framerate independent</em> to adjust the time step according to the framerate, which can cause the same simulation to have different results if run twice.  For more information see <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a>.</p><p><strong>Set world gravity</strong><br>Set the force of gravity affecting all Physics objects.  By default this is a force of 10 downwards.</p><h3>Physics actions: Joints</h3><p><strong>Create distance joint</strong><br>Fix two physics objects at a given distance apart, as if connected by a pole.</p><p><strong>Create revolute joint</strong><br><strong>Create limited revolute joint</strong><br>Hinge two physics objects together, so they can rotate freely as if connected by a pin.  Limited revolute joints only allow rotation through a certain range of angles, like the clapper of a bell.</p><p><strong>Remove all joints</strong><br>Remove all joints from the object.  Any objects this object was attached to via joints is also affected.  Note some joints automatically disable collisions between the objects, so you may want to manually disable collisions again after removing joints otherwise overlapping objects will "teleport" apart (as the physics engine will try to prevent them overlapping).</p><h3>Physics actions: Object settings</h3><p>These set the corresponding properties.  For more information, see <em>Physics properties</em>.</p><h3>Physics actions: Torque</h3><p><strong>Apply torque</strong><br><strong>Apply torque towards angle</strong><br><strong>Apply torque towards position</strong><br>Apply a torque (rotational acceleration) to the object, either directly, or towards an angle or position.</p><p><strong>Set angular velocity</strong><br>Set the angular velocity (rate of rotation) directly, in degrees per second.</p><h3>Physics expressions</h3><p><strong>AngularVelocity</strong><br>The current angular velocity (rate of rotation) of the physics object, in degrees per second.</p><p><strong>CenterOfMassX</strong><br><strong>CenterOfMassY</strong><br>The position of the center of mass of the physics object, as calculated by the physics engine.  This depends on the <em>collision mask</em> property, and is not necessarily in the middle of the object.</p><p><strong>Mass</strong><br>The mass of the physics object, as calculated by the physics engine.  This is the area of the object's collision mask multiplied by its density.</p><p><strong>VelocityX</strong><br><strong>VelocityY</strong><br>The current speed of the physics object, in pixels per second.</p><p><strong>AngularDamping</strong><br><strong>Density</strong><br><strong>Elasticity</strong><br><strong>Friction</strong><br><strong>LinearDamping</strong><br>These return the corresponding properties.  For more information, see <em>Physics properties</em>.</p><a name="anchor-99"></a><h2>5.13 Pin</h2><p>The <strong>Pin behavior</strong> positions an object at a relative distance and angle to another object, giving the impression it has been "pinned" to the object.  For an example, see <em>Pin behavior.capx</em> in the Examples folder in Construct 2's install directory.</p><p>Simply adding the Pin behavior to an object does not do anything.  You must use the <em>Pin</em> action to pin the object to another object.</p><h3>Pin conditions</h3><p><strong>Is pinned</strong><br>True if the object is currently pinned to another object.</p><h3>Pin actions</h3><p><strong>Pin to object</strong><br>Pin the object to another object.  The relative distance and angle between the objects at the moment the <em>Pin</em> action is used is remembered.  The <em>Mode</em> parameter chooses how the object is moved in relation to the other object:<br><em>Position &amp; angle</em> (default): keep the object at its relative distance and angle to the pinned object.  The object will appear attached and stay in place as the other object moves and rotates.<br><em>Position only</em>: as before, but the object angle is not changed; it only maintains its relative position.<br><em>Angle only</em>: the object is only rotated relative to the other object, and does not have its position changed.<br><em>Rope style</em>: the object is not rotated, but is kept at a maximum distance from the other object.<br><em>Bar style</em>: the object is not rotated, but is kept at a fixed distance from the other object.<br>For more examples, see the <em>Pin rope style.capx</em> and <em>Pin chain style.capx</em> examples in the Examples folder in Construct 2's install directory.</p><p><strong>Unpin</strong><br>Unpin the object, so it is no longer being positioned by the Pin behavior.</p><h3>Pin expressions</h3><p><strong>PinnedUID</strong><br>Get the UID of the object currently pinned to, or -1 if not pinned.  For more information on UIDs, see <a href="#anchor-130">common features</a>.</p><a name="anchor-100"></a><h2>5.14 Platform</h2><p>The <strong>Platform behavior</strong> implements a side-view "jump and run" style movement.  It supports slopes, moving platforms, "jump-thru" platforms, and arbitrary angles of gravity.  There are several examples of the Platform behavior in the Examples folder in Construct 2's install directory.</p><p>The Platform behavior will land on any objects with the <a href="#anchor-104">Solid</a> or <a href="#anchor-97">Jump-thru</a> behaviors.  Jump-thru is different in that the Platform movement can jump on to a Jump-thru from underneath, whereas jumping in to a solid from underneath causes the player to bounce off.  The image below illustrates the difference.</p><p><img src="./manual_files/jumpthru-solid.png" alt="Jumpthru vs. Solid" width="473" height="254"></p><p>By default the Platform movement is controlled by the left and right arrow keys and up arrow to jump.  To set up custom or automatic controls, see the <a href="#anchor-86">behavior reference summary</a>.</p><h3>Implementing reliable platform movements</h3><p>For the most reliable platform movement, it is recommended to use a <strong>invisible rectangle sprite with no animations</strong> with the Platform movement.  Then, the animated player object can be positioned on top of that.  Otherwise, the changing size and collision polygon of the object as its animation plays can interfere with the Platform movement's floor, wall and slope detection, causing a shaking or glitchy movement.  For more information and a complete guide, see the tutorial <a href="http://www.scirra.com/tutorials/253/how-to-make-a-platform-game" target="_blank">How to make a Platform game ⇗</a>.</p><h3>Mirroring the player</h3><p>It is not necessary to duplicate all your artwork for the player for facing both left and right.  Instead, simply draw all the player's artwork for facing to the right, and use the Sprite object's <em>Set mirrored</em> action to mirror the player's image.  Set the player mirrored when pressing the movement controls.  An example is shown below.</p><p><img src="./manual_files/platformmirroring.png" alt="Mirroring for the Platform behavior" width="439" height="91"></p><p>A common question is how to make the player shoot left and right, since even when mirrored the player will still shoot objects to the right.  To solve this, use the <em>Is mirrored</em> condition, and if it is true, shoot to the left instead.</p><h3>Platform properties</h3><p><strong>Max speed</strong><br>The maximum floor speed in pixels per second.</p><p><strong>Acceleration</strong><br>The horizontal movement acceleration in pixels per second per second.</p><p><strong>Deceleration</strong><br>The horizontal movement deceleration in pixels per second per second.  When moving in the opposite direction to the direction of motion, acceleration and deceleration combine.</p><p><strong>Jump strength</strong><br>The initial vertical speed of a jump in pixels per second when the jump key is pressed.</p><p><strong>Gravity</strong><br>The acceleration caused by gravity, in pixels per second per second.</p><p><strong>Max fall speed</strong><br>The maximum speed in pixels per second the object can accelerate to when in free-fall.</p><p><strong>Default controls</strong><br>If <strong>Yes</strong>, movement is controlled by the left and right arrow keys and the up arrow key to jump.  Set to <em>No</em> to set up custom controls using the <em>Simulate control</em> action.  For more information see <em>Custom controls</em> in the <a href="#anchor-86">behavior reference summary</a>.</p><h3>Platform conditions</h3><p><strong>Compare speed</strong><br>Compare the current speed of the object in pixels per second.</p><p><strong>Is by wall</strong><br>Test if a solid blocking horizontal movement is immediately to the object's left or right.  Jump-thrus do not count as walls.</p><p><strong>Is falling</strong><br>True if the object is in free-fall.</p><p><strong>Is jumping</strong><br>True if the object is moving upwards.</p><p><strong>Is moving</strong><br>True if the object's speed is non-zero.</p><p><strong>Is on floor</strong><br>True if the object is currently standing on a solid or jump-thru.</p><p><strong>On fall</strong><br><strong>On jump</strong><br><strong>On landed</strong><br><strong>On moved</strong><br><strong>On stopped</strong><br>These are <em>animation triggers</em>, which trigger when the platform movement is moving in to each state.  If your object has animations for any of these states, you should set the appropriate animation in each trigger.  This helps save you implementing the logic to detect state transitions yourself.</p><h3>Platform actions</h3><p><strong>Fall through</strong><br>If the player is currently standing on a <a href="#anchor-97">jump-thru</a> platform, this action will make them fall through it.  This is useful for adding an additional control, e.g. down arrow, to jump down from jump-thru platforms.</p><p><strong>Set acceleration</strong><br><strong>Set deceleration</strong><br><strong>Set gravity</strong><br><strong>Set jump strength</strong><br><strong>Set max fall speed</strong><br><strong>Set max speed</strong><br>Set the corresponding properties.  For more information, see <em>Platform properties</em>.</p><p><strong>Set angle of gravity</strong><br>Change the angle of gravity, in degrees.  By default it is 90 (downwards on the screen).  This can interact interestingly with layer rotation.</p><p><strong>Set enabled</strong><br>Enable or disable the Platform movement.  When disabled, the behavior has no effect on the object at all.</p><p><strong>Set ignoring input</strong><br>Set whether input is being ignored. If input is ignored, pressing any of the control keys has no effect. However, unlike disabling the behavior, the object can continue to move, e.g. if in free-fall.</p><p><strong>Set vector X</strong><br><strong>Set vector Y</strong><br>Manually set the horizontal and vertical components of motion, in pixels per second.  For example, setting the vector Y to -1000 would cause a jump with strength 1000, which could be useful for implementing springs.</p><p><strong>Simulate control</strong><br>Simulate one of the movement controls being held down.  Useful when setting <em>Default controls</em> to <em>No</em>.  See <em>Custom controls</em> in the <a href="#anchor-86">behavior reference summary</a> for more information.</p><h3>Platform expressions</h3><p><strong>Acceleration</strong><br><strong>Deceleration</strong><br><strong>Gravity</strong><br><strong>JumpStrength</strong><br><strong>MaxFallSpeed</strong><br><strong>MaxSpeed</strong><br>Return the corresponding properties.  For more information, see <em>Platform properties</em>.</p><p><strong>MovingAngle</strong><br>Return the current angle of motion in degrees, which can be different to the object's angle.</p><p><strong>Speed</strong><br>Return the current overall speed in pixels per second.</p><p><strong>VectorX</strong><br><strong>VectorY</strong><br>Return the current X and Y components of motion, in pixels per second.</p><a name="anchor-101"></a><h2>5.15 Rotate</h2><p>The <strong>Rotate behavior</strong> simply makes an object spin.</p><h3>Rotate properties</h3><p><strong>Speed</strong><br>The rate of rotation, in degrees per second.  Use a positive value for clockwise rotation and negative for anticlockwise rotation.</p><p><strong>Acceleration</strong><br>The rate the rotation speed changes, in degrees per second per second.  Use a positive value to accelerate clockwise and a negative to accelerate anticlockwise.</p><h3>Rotate conditions</h3><p>The Rotate behavior has no conditions.</p><h3>Rotate actions</h3><p><strong>Set acceleration</strong><br><strong>Set speed</strong><br>Set the corresponding properties.  See <em>Rotate properties</em>.</p><h3>Rotate expressions</h3><p><strong>Acceleration</strong><br>Return the corresponding <em>Acceleration</em> property.</p><p><strong>Speed</strong><br>Return the current rotating speed, in degrees per second.  A positive value indicates clockwise rotation and a negative value indicates anticlockwise rotation.</p><a name="anchor-102"></a><h2>5.16 Scroll to</h2><p>The <strong>Scroll To</strong> behavior simply centers the view on the object with the behavior.  It is a shortcut for the <em>Scroll to object</em> <a href="#anchor-125">system action</a>.  However, it also provides a <em>Shake</em> action to shake the screen, and if multiple objects have the Scroll To behavior, it will center the view in between all of them.</p><p>If you need more advanced scrolling, e.g. limited to certain regions or following the player after a delay, scroll to an invisible object which you control through events.</p><p>To scroll, the size of the <a href="#anchor-67">layout</a> must be bigger than the size of the <a href="#anchor-66">window</a>, or the layout's <em>Unbounded scrolling</em> property must be set to <em>Yes</em>.  Otherwise there is nowhere to scroll to and scrolling will have no effect.</p><p>Scroll To has no properties, conditions or expressions.</p><h3>Scroll To actions</h3><p><strong>Shake</strong><br>Shake the screen for a duration of time, by randomly offsetting the scroll position every tick.  The <em>Magnitude</em> is the maximum distance in pixels from the scrolled position the view will be offset.  The <em>Duration</em> is how long the shake will last in seconds.  In <em>Reducing magnitude</em> mode, the <em>Magnitude</em> will gradually reduce to zero by the end of the shake duration.  In <em>Constant magnitude</em> mode, the <em>Magnitude</em> will stay the same throughout the full duration of the shake, ending abruptly.</p><a name="anchor-103"></a><h2>5.17 Sine</h2><p>The <strong>Sine behavior</strong> can adjust an object's properties (like its position, size or angle) back and forth according to an oscillating <a href="http://en.wikipedia.org/wiki/File:Simple_sine_wave.svg" target="_blank">sine wave ⇗</a>.  This can be used to create interesting visual effects.  Despite the name, alternative wave functions like 'Triangle' can also be selected to create different effects.  A visualisation of the different wave types can be found on <a href="http://en.wikipedia.org/wiki/File:Waveforms.svg" target="_blank">Wikipedia ⇗</a>.</p><p>For examples of the Sine behavior's different modes, see <em>Sine behavior - types.capx</em> in the Examples folder in Construct 2's install directory.</p><h3>Sine properties</h3><p><strong>Active on start</strong><br>If <em>No</em>, the behavior will have no effect until the <em>Set active</em> action is used.</p><p><strong>Movement</strong><br>The Sine behavior has eight different modes:<br><em>Horizontal</em> moves the object left and right on the X axis<br><em>Vertical</em> moves the object up and down on the Y axis<br><em>Size</em> makes the object grow and shrink<br><em>Width</em> stretches the object wider and narrower<br><em>Height</em> stretches the object taller and shorter<br><em>Angle</em> rotates the object clockwise and anticlockwise<br><em>Opacity</em> oscillates the object opacity.  Note object opacities can never go less than 0 or greater than 100.<br><em>Value only</em> does not modify the object.  It simply stores the oscillating value which can be accessed by the <em>Value</em> expression.  This can be useful to create custom effects or modify any other object or behavior property based on the sine behavior.</p><p><strong>Wave</strong><br>The wave function used to calculate the movement.  For a visualisation see <a href="http://en.wikipedia.org/wiki/File:Waveforms.svg" target="_blank">this Wikipedia diagram ⇗</a>.<br><em>Sine</em> - the default smooth oscillating motion based on a sine wave.<br><em>Triangle</em> - a linear back-and-forth motion.<br><em>Sawtooth</em> - linear motion with a jump back to start.<br><em>Reverse sawtooth</em> - reverse linear motion with a jump back to start.<br><em>Square</em> - alternating between the two maximum values.</p><p><strong>Period</strong><br>The duration, in seconds, of one complete back-and-forth cycle.</p><p><strong>Period random</strong><br>A random number of seconds added to the period for each instance.  This can help vary the appearance when a lot of instances are using the Sine behavior.</p><p><strong>Period offset</strong><br>The initial time in seconds through the cycle.  For example, if the period is 2 seconds and the period offset is 1 second, the sine behavior starts half way through a cycle.</p><p><strong>Period offset random</strong><br>A random number of seconds added to the period offset for each instance.  This can help vary the appearance when a lot of instances are using the Sine behavior.</p><p><strong>Magnitude</strong><br>The maximum change in the object's position, size or angle.  This is in pixels for position or size modes, or degrees for the angle mode.</p><p><strong>Magnitude random</strong><br>A random value to add to the magnitude for each instance.  This can help vary the appearance when a lot of instances are using the Sine behavior.</p><h3>Sine conditions</h3><p><strong>Compare magnitude</strong><br>Compare the current magnitude of the movement.</p><p><strong>Compare movement</strong><br>Compare the current movement property of the behavior.</p><p><strong>Compare period</strong><br>Compare the current period of the movement, in seconds.</p><p><strong>Compare wave</strong><br>Compare the current wave property of the behavior.</p><p><strong>Is active</strong><br>True if the behavior is active.</p><h3>Sine actions</h3><p><strong>Set active</strong><br>Enable or disable the behavior.  When disabled, the behavior does not affect the object at all.</p><p><strong>Set magnitude</strong><br>Set the current magnitude of the cycle.  This is in pixels when modifying the size or position, and degrees when modifying the angle.</p><p><strong>Set movement</strong><br>Change the movement type of the behavior, e.g. from <em>Horizontal</em> to <em>Size</em>.</p><p><strong>Set period</strong><br>Set the duration of a single complete back-and-forth cycle, in seconds.</p><p><strong>Set wave</strong><br>Change the wave property of the behavior, choosing a different wave function to be used to calculate the movement.</p><h3>Sine expressions</h3><p><strong>CyclePosition</strong><br>Return a value from 0 to 1 representing the progress through the current cycle.  For example, exactly half way through a cycle this returns 0.5.</p><p><strong>Magnitude</strong><br>Return the current magnitude of the cycle.  This is in pixels when modifying the size or position, and degrees when modifying the angle.</p><p><strong>Period</strong><br>Return the current period of a single complete back-and-forth cycle in seconds.</p><p><strong>Value</strong><br>Return the current oscillating value.  This will alternate as a positive and negative value centered on zero.  This is useful to create custom effects when in <em>Value only</em> mode.</p><a name="anchor-104"></a><h2>5.18 Solid</h2><p>The <strong>Solid behavior</strong> makes other behaviors react to the object as if it were an impassable obstacle.  Objects with this behavior are referred to as Solids.  It affects the following behaviors:</p><ul><li><a href="#anchor-87">8 Direction</a>, which is blocked by Solids</li><li><a href="#anchor-90">Bullet</a>, which can optionally bounce off Solids</li><li><a href="#anchor-91">Car</a>, which bounces off Solids</li><li><a href="#anchor-100">Platform</a>, which can land on Solids.  Platform cannot jump on to solids from underneath - for this, use the <a href="#anchor-97">Jump-thru</a> behavior.</li></ul><p>Note that the <a href="#anchor-98">Physics</a> behavior is <strong>not</strong> affected by Solid objects.  Instead, use the Physics behavior with <em>Immovable</em> set to <em>Yes</em>.</p><p>The Solid behavior has no properties, conditions, actions or expressions apart from the <em>Set enabled</em> action. Because of this, it is also known as an attribute.  The Solid behavior is a fundamental attribute in Construct 2, and several other Construct 2 features also interact with Solid objects.  For example, the <a href="#anchor-92">Custom Movement</a> behavior has actions to push the object out of solids.</p><h3>Avoid crushing/trapping objects with Solids</h3><p>The behaviors which respond to the Solid behavior usually get stuck if Solid objects crush or otherwise trap the object deep inside the Solid object.  In this case there is no solution for the movement.  The only three options are 1) let the object get stuck, 2) allow the object to move inside solids, or 3) teleport the object to the nearest free space, which in some cases can be quite far away.  Since options 2 and 3 can cause strange glitches if allowed, Construct 2 will deliberately make the object unable to move, and this is the intended behavior.  Therefore, it is up to you to design your games in such a way that the player cannot be crushed or trapped by moving Solid objects.  You should be especially careful when moving Solids up against other Solids.</p><p>It is only by moving (or re-enabling) Solids, or using <em>Set position</em>, that objects can become trapped.  If none of the Solids in your game move and you do not "teleport" the player around with <em>Set position</em>, it should be impossible for the player to ever get trapped in solids.</p><h3>Solid actions</h3><p><strong>Set enabled</strong><br>Enable or disable Solid for this object.  If disabled, the object no longer acts as if it is solid, and objects will be able to pass through it.  Be careful not to trap objects by enabling the solid again when an object is overlapping it; see <em>Avoid crushing/trapping objects with Solids</em>.</p><a name="anchor-105"></a><h2>5.19 Wrap</h2><p>The <strong>Wrap behavior</strong> simply repositions an object to the opposite side of the layout if it leaves the layout.  It has no properties, conditions, actions or expressions.</p><p>The object only wraps once it is fully outside the layout, i.e. no part of its bounding box is in the layout area.</p><a name="anchor-106"></a><h1>6. Plugin reference</h1><p>This section provides a reference of all the official <a href="#anchor-69">plugins</a> that come with Construct 2.  Each has an overview of its use, a list of its properties, and a detailed list of the actions, conditions and expressions specific to that plugin.</p><p>Many plugins share common actions, conditions and expressions.  These are described in <a href="#anchor-130">Common features</a> rather than repeating the information for each plugin.</p><a name="anchor-130"></a><h2>6.1 Common features</h2><p>Many plugins share common <a href="#anchor-76">conditions</a>, <a href="#anchor-77">actions</a> and <a href="#anchor-78">expressions</a>, such as for the object's size and position.  Rather than repeating the descriptions of these for each plugin, they are listed in this section.</p><p>Not all objects use all the common features; some may use only a few of the ones listed here.  This is provided as a reference for the features shown to you in Construct 2 rather than describing any particular plugin's features.</p><ul><li><a href="#anchor-131">Common conditions</a></li><li><a href="#anchor-132">Common actions</a></li><li><a href="#anchor-133">Common expressions</a></li></ul><h3>Unique IDs (UIDs)</h3><p>All objects at runtime have a unique ID assigned, which is a number starting at 0 for the first <a href="#anchor-71">instance</a> and incrementing by 1 for every other instance.  It is returned by the object's <em>UID</em> expression.  This number can be used to uniquely identify a single instance throughout an entire game.  For example, it can be stored in <a href="#anchor-73">instance variables</a> or <a href="#anchor-83">event variables</a> and later picked again by using the <em>Pick by unique ID</em> condition.</p><h3>Index IDs (IIDs)</h3><p>All objects at runtime have an index ID assigned, which is the number of the instance within its own <a href="#anchor-70">object type</a>.  It is returned by the object's <em>IID</em> expression.  For example, the first instance in two object types both have the IID 0, the second 1, and so on.  Therefore the IID neither identifies a unique instance like the UID, nor does it persistently refer to the same instance (if IID 0 is destroyed, the next instance becomes IID 0).  However, it can be useful for advanced users taking advantage of <a href="#anchor-78">object expression indexing</a> and the <em>Pick Nth instance</em> <a href="#anchor-124">system condition</a>.</p><a name="anchor-131"></a><h3>6.1.1 Common conditions</h3><p>The following <a href="#anchor-76">conditions</a> are common to several plugins.</p><h3>Angle</h3><p>Note angles in Construct 2 start with 0 degrees facing right and increment clockwise.</p><p><strong>Is between angles</strong><br>True if the object's current angle is between the two given angles in degrees.  The first and second angles must be in clockwise order.  That is, <em>Is between 0 and 45 degrees</em> is true if the object is in a 45 degree area, but <em>Is between 45 and 0 degrees</em> is true if the object is in the 315 degree area from 45 degrees through 0 degrees.</p><p><strong>Is clockwise from</strong><br>True if the object's current angle is clockwise from the given angle in degrees.  Invert to test if the object is anticlockwise from the given angle.  For example, an object at 45 degrees is clockwise from 0 degrees, but an object at 0 degrees is anticlockwise from 45 degrees.</p><p><strong>Is within angle</strong><br>True if the object's current angle is within a number of degrees of another angle.  This is more reliable than testing if the object's angle exactly equals an angle, e.g. <em>Is within 0.5 degrees of 90 degrees</em> is probably better than <em>Angle equals 90 degrees</em>, since there are many cases an object can be very close to, but not exactly, 90 degrees.</p><h3>Appearance</h3><p><strong>Compare opacity</strong><br>Compare the object's current opacity, from 0 (transparent) to 100 (opaque).</p><p><strong>Is visible</strong><br>True if the object is currently visible.  Invert to test if invisible.  This only tests the visibility set by the <em>Set visible</em> action; it is not affected by the object being offscreen, having 0 opacity, or being on an invisible layer.</p><h3>Instance variables</h3><p><strong>Compare instance variable</strong><br>Compare the current value of one of the object's <a href="#anchor-73">instance variables</a>.</p><p><strong>Is boolean instance variable set</strong><br>Test if one of the object's boolean <a href="#anchor-73">instance variables</a> is set to <em>true</em>.  Invert the condition to test if false.</p><h3>Misc</h3><p><strong>On created</strong><br><strong>On destroyed</strong><br>Triggered for each instance that is created or destroyed during the running of the game.  For example, a one-shot particle effect could be spawned every time an object is created, and an explosion created every time the object is destroyed.  These conditions are analogous to <em>constructors</em> and <em>destructors</em> in traditional programming languages (commands which run at the creation and destruction of an object).  Be careful not to create an object of the same type in an <em>On created</em> event (e.g. <em>On Sprite2 created: create Sprite2</em>) since this will create an infinite loop and cause the game to hang.</p><h3>Pick</h3><p><strong>Pick by unique ID</strong> (UID)<br>Pick the instance matching a given unique ID (UID) number.</p><p><strong>Pick nearest/furthest</strong><br>Pick the instance either nearest or furthest from a given position in the layout.</p><h3>Size &amp; Position</h3><p><strong>Compare width</strong><br><strong>Compare height</strong><br>Compare the object's current size, in pixels.</p><p><strong>Compare X</strong><br><strong>Compare Y</strong><br>Compare the object's current position in the layout, in pixels.  Note that objects can be positioned between pixels, e.g. at (5.5, 10.33333).  Because of this it's usually a bad idea to rely on an object being at an exact position.</p><p><strong>Is on-screen</strong><br>True if any part of the object's bounding box is within the screen area.  This is not affected by the object's visibility or opacity.</p><p><strong>Is outside layout</strong><br>True if the entire object's bounding box is outside the layout area.</p><h3>Z Order</h3><p><strong>Is on layer</strong><br>Pick all instances on a given layer, specified either by its name or zero-based index.</p><p><strong>Pick top/bottom</strong><br>Pick either the top-most or bottom-most instance, taking in to account layers and Z index.  For example, the instance at the front of the top most layer is the top instance.</p><a name="anchor-132"></a><h3>6.1.2 Common actions</h3><p>The following <a href="#anchor-77">actions</a> are common to several plugins.</p><h3>Angle</h3><p>Note angles in Construct 2 start with 0 degrees facing right and increment clockwise.</p><p><strong>Rotate clockwise</strong><br>Rotate the object a number of degrees clockwise.</p><p><strong>Rotate counter-clockwise</strong><br>Rotate the object a number of degrees counter-clockwise.</p><p><strong>Rotate toward angle</strong><br>Rotate the object a number of degrees toward another angle.  If the object is close to the target angle it will not overshoot (it will end up exactly at the target angle).</p><p><strong>Rotate toward position</strong><br>Rotate the object a number of degrees toward a position.  If the object is close to facing the target angle it will not overshoot (it will end up exactly at the target angle).</p><p><strong>Set angle</strong><br>Set the object's angle in degrees, from 0 to 360.  0 degrees is facing right and angles increment clockwise.</p><p><strong>Set angle toward position</strong><br>Set the object's angle to face a position in the layout.</p><h3>Appearance</h3><p>Not all objects support the actions relating to effects.  For more information see <a href="#anchor-146">Effects</a>.</p><p><strong>Set blend mode</strong><br>Change the way the object blends with the background by altering the object's <em>Blend mode</em> property.</p><p><strong>Set effect enabled</strong><br>Enable or disable one of the effects added to the object.</p><p><strong>Set effect parameter</strong><br>Change the value of one of the parameters for an effect added to the object.  The parameter to change is specified by its zero-based index, i.e. 0 to change the first parameter, 1 to change the second parameter, and so on.</p><p><strong>Set opacity</strong><br>Set the object's opacity (or 'semitransparency'), from 0 (transparent) to 100 (opaque).</p><p><strong>Set visible</strong><br>Set the object visible or invisible (hidden).</p><h3>Instance variables</h3><p><strong>Add to</strong><br><strong>Subtract from</strong><br>Modify a number <a href="#anchor-73">instance variable</a>.</p><p><strong>Set</strong><br>Set a number or text <a href="#anchor-73">instance variable</a>.</p><p><strong>Set boolean</strong><br>Set a boolean <a href="#anchor-73">instance variable</a>, which can hold either a <em>true</em> or <em>false</em> value.</p><p><strong>Toggle boolean</strong><br>Toggle a boolean <a href="#anchor-73">instance variable</a>, which flips it from <em>true</em> to <em>false</em> or vice versa.</p><h3>Misc</h3><p><strong>Destroy</strong><br>Remove the object from the game.</p><h3>Size &amp; Position</h3><p><strong>Move at angle</strong><br>Move the object a number of pixels at a given angle in degrees.</p><p><strong>Move forward</strong><br>Move the object a number of pixels forward at the object's current angle.</p><p><strong>Set width</strong><br><strong>Set height</strong><br><strong>Set size</strong><br>Set the object's current size in pixels.</p><p><strong>Set X</strong><br><strong>Set Y</strong><br><strong>Set position</strong><br>Set the object's current position in the layout, in pixels.  The origin (0,0) is the top-left of the layout and the Y axis increments downwards.</p><p><strong>Set position to another object</strong><br>Position the object at another object.  It can also be positioned relative to an <a href="#anchor-63">image point</a> on the given object.</p><h3>Z Order</h3><p><strong>Move to bottom</strong><br><strong>Move to top</strong><br>Position the object either at the bottom or top of its current layer.</p><p><strong>Move to layer</strong><br>Move the object to the top of a given layer, either by its name or zero-based index.  If the object is already on the given layer this action has no effect.</p><a name="anchor-133"></a><h3>6.1.3 Common expressions</h3><p>The following <a href="#anchor-78">expressions</a> are common to several plugins.</p><h3>Angle</h3><p><strong>Angle</strong><br>The object's current angle, in degrees.  0 degrees is facing right and angles increment clockwise.</p><h3>Appearance</h3><p><strong>Opacity</strong><br>The object's current opacity (semitransparency), from 0 (transparent) to 100 (opaque).</p><h3>Misc</h3><p><strong>Count</strong><br>The number of <a href="#anchor-71">instances</a> of the <a href="#anchor-70">object type</a>.</p><p><strong>PickedCount</strong><br>The number of instances meeting the event's conditions.  For example, if the event has the condition "Mouse is over Sprite", <em>Sprite.PickedCount</em> will return the number of Sprite instances that the mouse is over.</p><p><strong>IID</strong><br>Return the instance's index ID (IID).  See <a href="#anchor-130">common features</a>.</p><p><strong>UID</strong><br>Return the instance's unique ID (UID).  See <a href="#anchor-130">common features</a>.</p><h3>Size &amp; Position</h3><p><strong>Width</strong><br><strong>Height</strong><br>Return the size of the object in pixels.</p><p><strong>ImagePointX</strong><br><strong>ImagePointY</strong><br>Return the position of one of the object's <a href="#anchor-63">image points</a> in layout co-ordinates.  Either the image point's name or its number can be passed.</p><p><strong>X</strong><br><strong>Y</strong><br>Return the object's position in the layout, in pixels.  The origin (0,0) is at the top-left of the layout and the Y axis increments downwards.</p><h3>Time</h3><p><strong>dt</strong><br>Return delta-time according to the object's own timescale.  See <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a> for more information.</p><h3>Z Order</h3><p><strong>LayerName</strong><br>The name of the layer the instance is currently on.</p><p><strong>LayerNumber</strong><br>The zero-based index of the layer the instance is currently on.</p><p><strong>ZIndex</strong><br>Get the zero-based index of the Z order of this instance within its current layer.  0 is the bottom instance, increasing up to the top instance.</p><a name="anchor-107"></a><h2>6.2 AJAX</h2><p>The <strong>AJAX</strong> plugin allows web pages to be requested during the running of the game.  Its name derives from "Asynchronous JavaScript and XML", a technique familiar to most web developers.  The AJAX object is designed for use by web developers already familiar with the technique - this reference will not describe the principles of AJAX itself, only how to use it in Construct 2 with the AJAX object.  Generally using the AJAX object also requires custom server-side scripting which is beyond the scope of this manual.</p><h3>How to make a request</h3><p>The basic usage of the AJAX object consists of:</p><ol><li>Use the <em>Request</em> action to load a URL.</li><li>A moment later after the request completes, <em>On completed</em> triggers.</li><li>The <em>LastData</em> expression can be used to access the content of the response.</li></ol><p>The <em>tokenat</em> <a href="#anchor-126">system expression</a> may be useful to split simple responses.  Alternatively, you could load <em>LastData</em> in to the <a href="#anchor-139">XML plugin</a> to read it as an XML document.</p><h3>Tags</h3><p>A different tag can be provided for each request.  This is a simple string you set to tell apart different requests.  For example, on startup you may request both <em>foo.php</em> with tag <em>"foo"</em> and <em>bar.php</em> with tag <em>"bar"</em>.  When the first request completes, <em>On "foo" completed</em> triggers; when the second request completes, <em>On "bar" completed</em> triggers.  Requests can complete in a different order to the order they were made, so without tags it would be impossible to tell which request was completing.</p><h3>Making AJAX requests cross-domain or in preview</h3><p>By default, browsers <strong>block AJAX requests across domains</strong>.  This means, for example, a game on <em>scirra.com</em> can request other pages on <em>scirra.com</em>, but cannot request pages on <em>facebook.com</em>.  This is an important security feature of web browsers (it is not specific to Construct 2 or its AJAX object).</p><p>Also, when previewing in Construct 2 the game runs on <em>localhost</em>.  This counts as a different domain to the rest of the internet, so typically AJAX requests to <em>any</em> web page will fail during preview, <em>unless</em> the server explicitly allows cross-domain requests.</p><p>If you want AJAX requests to your server to work from any domain, or in preview, you can configure it to send the following HTTP header:</p><p><strong>Access-Control-Allow-Origin: *</strong></p><p>This will enable AJAX requests from any domain, but you should still be aware of the possible security implications of this.  For more information on cross-domain requests see <a href="https://developer.mozilla.org/En/HTTP_access_control" target="_blank">HTTP access control on MDN ⇗</a>.</p><h3>AJAX conditions</h3><p><strong>On completed</strong><br>Triggered when a request with the same tag has completed successfully.  The <em>LastData</em> expression contains the response.</p><p><strong>On error</strong><br>Triggered when a request with the same tag has failed.  This can be for a number of reasons, such as the server being down or the request timing out.  (The <em>LastData</em> expression is not set since there is no response.)</p><p><strong>On progress</strong><br>For long running requests (e.g. downloading a large file), <em>On progress</em> triggers periodically and updates the <em>Progress</em> expression with the state of the request.  This is useful for making progress bars for AJAX requests.</p><h3>AJAX actions</h3><p><strong>Post to URL</strong><br>Send a POST request to a URL and retrieve the response.  A tag is provided to match it up with the <em>On completed</em>, <em>On progress</em> and <em>On error</em> triggers.  Construct 2 does not automatically URL encode the post data - use the <em>URLEncode</em> system expression to ensure the data is in the correct format for posting.</p><p><strong>Request</strong><br>Send a GET request to retrieve the contents of a URL.  A tag is provided to match it up with the <em>On completed</em>, <em>On progress</em> and <em>On error</em> triggers.</p><p><strong>Request project file</strong><br>Request the contents of a <a href="#anchor-141">project file</a>.  A tag is provided to match it up with the <em>On completed</em>, <em>On progress</em> and <em>On error</em> triggers.</p><h3>AJAX expressions</h3><p><strong>LastData</strong><br>The contents of the last response.  This is set in the <em>On completed</em> trigger.  If used in a different event, it contains the response of the last completed request.  The <em>tokenat</em> <a href="#anchor-126">system expression</a> may be useful to split simple responses</p><p><strong>Progress</strong><br>Return the progress of the AJAX request in an <em>On progress</em> event.  The progress is represented as a number from 0 to 1, e.g. 0.5 for half completed.</p><a name="anchor-138"></a><h2>6.3 appMobi</h2><p>The <strong>appMobi</strong> plugin provides integration with the <a href="http://www.appmobi.com/" target="_blank">appMobi ⇗</a> mobile publishing service.  For more information see the tutorial <a href="http://www.scirra.com/tutorials/304/how-to-export-to-appmobi-with-directcanvas" target="_blank">How to export to appMobi ⇗</a>.</p><h3>appMobi conditions</h3><p><strong>Is in AppMobi</strong><br>True if the game is running inside appMobi.  It will be false if running anywhere else, e.g. on the open web.</p><p><strong>Caching enabled</strong><br><em>(For advanced users)</em> True if appMobi's caching service has been enabled.</p><p><strong>Compare initial orientation</strong><br>Test if the orientation of the device at startup was a particular orientation.</p><p><strong>Compare orientation</strong><br>Test if the current orientation of the device is a particular orientation.</p><p><strong>Push enabled</strong><br><em>(For advanced users)</em> True if appMobi's push notifications service is enabled.</p><p><strong>Streaming enabled</strong><br><em>(For advanced users)</em> True if appMobi's streaming service is enabled.</p><p><strong>Updates enabled</strong><br>True if appMobi's cloud update service is enabled.</p><p><strong>On 'back' button pressed</strong><br>Triggers when the device's 'back' button is pressed, if it has one.  Note some devices (e.g. iOS) do not have back buttons.  Before this trigger will run, you must have added a virtual page using the <em>Add virtual page</em> action.</p><p><strong>On barcode scanned</strong><br>Triggered when the device successfully scans a barcode.</p><p><strong>On remote data</strong><br>Triggered when data is received from the <em>Get remote data</em> action.</p><p><strong>On remote site closed</strong><br>Triggered when a pop-over browser showing remote content is closed by the user.  It is opened by the <em>Show remote site</em> action.</p><h3>appMobi actions</h3><p><strong>Log event</strong><br>Log a named event for appMobi's analytics service.  Parameters can be provided in URL format, e.g. <em>foo=bar&amp;baz=ban</em>.</p><p><strong>Add to media cache</strong><br>Download a media file from the Internet and store it on the local device storage, allowing it to be used offline in future.</p><p><strong>Clear all cookies</strong><br>Remove all cookies saved with the <em>Set cookie</em> action from the device.  (The user's browser cookies are not affected.)</p><p><strong>Clear media cache</strong><br>Delete all media files downloaded with <em>Add to media cache</em>.</p><p><strong>Remove cookie</strong><br>Remove a cookie set with the <em>Set cookie</em> action.  (The user's browser cookies are not affected.)</p><p><strong>Remove from media cache</strong><br>Remove a file added with <em>Add to media cache</em>.</p><p><strong>Set cookie</strong><br>Set a cookie on the device.  This is a substitute for local storage.  The user's browser is not affected; storage is for the convenience of the app only.</p><p><strong>Close remote site</strong><br>Close a remote site being displayed with the <em>Show remote site</em> action.</p><p><strong>Get remote data</strong><br>Make a background AJAX request using appMobi's service.  The <em>On remote data</em> trigger will fire when completed.</p><p><strong>Install update</strong><br>Install a pending update if one is ready.</p><p><strong>Launch external site</strong><br>Open a URL in the user's default browser on the device.  The user will leave the app, unlike the <em>Show remote site</em> action.</p><p><strong>Scan barcade</strong><br>Open a fullscreen QR code reader.  <em>On barcode scanned</em> will trigger on a successful scan.</p><p><strong>Set auto-rotate</strong><br>Prevent the device from automatically rotating the display when the device changes orientation.  This can force a specific orientation when used with <em>Set orientation</em>.</p><p><strong>Show remote site</strong><br>Show a remote URL in an in-app browser.  The user does not leave the app.  The user can press a close button to return to the app, unlike the <em>Launch external site</em> action.</p><p><strong>Update connection</strong><br>Check whether the device's connection type has changed (e.g. 3G, Wifi, etc).</p><p><strong>Add virtual page</strong><br>Use when opening a new screen you want to be able to close with the 'back' button.  The next time the back button is pressed after this action will prevent the device default action and trigger <em>On 'back' button pressed</em>.</p><p><strong>Remove virtual page</strong><br>Remove a previously added virtual page, e.g. if cancelling a screen.</p><h3>appMobi expressions</h3><p><strong>Cookie</strong><br>Return the data stored by a <em>Set cookie</em> action.</p><p><strong>LocalMediaCacheURL</strong><br>Get the local path for a media file cached from the Internet via the <em>Add to media cache</em> action.</p><p><strong>AppMobiVersion</strong><br>Return the current version of the appMobi wrapper software.</p><p><strong>DeviceBarcodeData</strong><br>Return the data scanned from a barcade.  This is only available in <em>On barcode scanned</em> after calling the <em>Scan barcode</em> action.</p><p><strong>DeviceConnection</strong><br>The type of the best connection available to the device: either "wifi", "cell" or "none".</p><p><strong>DeviceModel</strong><br>The model name of the device.</p><p><strong>DeviceOSVersion</strong><br>The OS version information for the device.</p><p><strong>DevicePlatform</strong><br>"iOS" or "Android" depending on the current platform.</p><p><strong>DeviceQueryString</strong><br>Returns any query string passed along to the application when launched with a protocol handler.</p><p><strong>DeviceRemoteData</strong><br>The data returned from <em>Get remote data</em> after <em>On remote data</em> triggers.</p><p><strong>DeviceRemoteStatus</strong><br>One of "open", "closed" or "idle".</p><p><strong>DeviceUUID</strong><br>Return the device's Universally Unique Identifier (UUID), which is a code uniquely identifying the specific device.</p><p><strong>InitialOrientation</strong><br>The device orientation upon startup, as a number of degrees (0, -90, 90 or 180).</p><p><strong>Orientation</strong><br>The current device orientation, as a number of degrees (0, -90, 90 or 180).</p><a name="anchor-108"></a><h2>6.4 Array</h2><p>The <strong>Array</strong> object stores lists of values (numbers or text).  It is analogous to arrays in traditional programming languages.</p><h3>About Arrays</h3><p>Array supports up to three dimensions.  For example, a simple list of ten values would be a 10 x 1 x 1 array.  Note that you should not set a size of 0 on any of the dimensions else the <em>entire</em> array becomes empty; it is correct to have a size of 1 on unused dimensions.</p><p>Each element of an array can store a number or some text.  The number or text in an element can be changed with the <em>Set</em> actions, and accessed with the <em>At</em> expression.  For example, a 10 x 10 x 1 array is analogous to a 2D grid with a total of 100 values.  A number could be stored at the position (3, 7) with the action <em>Set at XY</em>, and accessed with <em>Array.At(3, 7)</em>.  Note like the rest of Construct 2, indices are zero-based, so the first element is at 0.  In this example, <em>Array.At(0, 0)</em> would return the first number in the grid.</p><p>Array can store either text or a number in any of the elements.  Numbers and text can also be mixed within an array.</p><p>Arrays do not automatically resize.  If you access a value outside the array bounds, it returns the number 0.  If you set a value outside the array bounds, it will have no effect.</p><h3>Manipulating arrays</h3><p>A one-dimensional array, sized N x 1 x 1, serves as a simple list of N values.  The actions in the <em>Manipulation</em> category (e.g. <em>Push</em>, <em>Pop</em>) allow one-dimensional arrays to be used like other data structures.  (These actions work with multidimensional arrays, but are intended for the one-dimensional case.)</p><p>For example, the following scheme implements a queue (last in first out, or 'LIFO'):</p><ul><li>Add new items with <strong>Push front</strong></li><li>Retrieve the next value with <em>Array.Back</em></li><li>Remove the retrieved value with <em>Pop back</em></li></ul><p>The following scheme implements a stack (first in first out, or 'FIFO'):</p><ul><li>Add new items with <strong>Push back</strong></li><li>Retrieve the next value with <em>Array.Back</em></li><li>Remove the retrieved value with <em>Pop back</em></li></ul><h3>Array properties</h3><p><strong>Width</strong> (X dimension)<br><strong>Height</strong> (Y dimension)<br><strong>Depth</strong> (Z dimension)<br>The size of the array.  If you want a one-dimensional array (i.e. a list of values), use A x 1 x 1.  If you want a two-dimensional array (i.e. a grid of values) use A x B x 1.</p><h3>Array conditions</h3><p><strong>Compare at X</strong><br><strong>Compare at XY</strong><br><strong>Compare at XYZ</strong><br>Compare a value at a position in the array.  Indices are zero-based.  All values outside the array return the number 0.  If <em>Compare at X</em> is used, the Y and Z indices are 0.  If <em>Compare at XY</em> is used, the Z index is 0.</p><p><strong>For each element</strong><br>A repeating condition that runs once for each element in the array.  This therefore runs <em>width x height x depth</em> times.</p><p><strong>Compare current value</strong><br>Only valid in a <em>For each element</em> loop, either as a following condition or in a <a href="#anchor-128">sub-event</a>.</p><p><strong>Contains value</strong><br>Searches the entire array to check if any of the elements contains the given value.  For example, you can use this to test if the string <em>"sword"</em> is stored anywhere in the array.</p><p><strong>Is empty</strong><br>Test if the array is empty.  The array is empty when the total number of elements is zero, calculated as <em>width x height x depth</em>.  Therefore the array is empty when any axis has a size of zero.  This can be useful when using Array as a data structure (e.g. when pushing and popping values).</p><h3>Array actions</h3><p><strong>Clear</strong><br>Set every element in the array to the number 0.</p><p><strong>Set at X</strong><br><strong>Set at XY</strong><br><strong>Set at XYZ</strong><br>Write a value at a position in the array.  Indices are zero-based.  Writing to values outside the array has no effect.  If <em>Set at X</em> is used, the Y and Z indices are 0.  If <em>Set at XY</em> is used, the Z index is 0.</p><p><strong>Set size</strong><br>Set the dimensions of the array.  Values are preserved, but if the new array is smaller it is truncated.  If the new array is larger, new elements are set to store the number 0.  If any of the dimensions are 0 the entire array is empty, so usually all the dimensions are at least 1.</p><p><strong>Download</strong><br>Opens a new browser tab with a link to download the Array's contents as a file in JSON format.  This is intended for offline development, e.g. creating level editors.  Since it has to work by opening a new tab, it may alert your browser's popup blocker - make sure <em>localhost</em> is allowed to open popups to ensure the action works.</p><p><strong>Load</strong><br>Load the contents of the array from a string in JSON format.  This must have been retrieved from either the <em>Download</em> action or the <em>AsJSON</em> expression.  It could also be retrieved dynamically from the <a href="#anchor-107">AJAX</a> object.</p><p><strong>Push</strong><br>Add a new value either to the beginning (front) or end (back) of an axis.  Since the Array is a 3D cube of values, technically this inserts a new 2D plane of elements all with the given value.  However in 1D arrays this adds a single element, and in 2D arrays it inserts a new row of elements.</p><p><strong>Pop</strong><br>Delete the value at either the beginning (front) or end (back) of an axis.  Since the Array is a 3D cube of values, technically this removes a 2D plane of elements.  However in 1D arrays this removes a single element, and in 2D arrays it removes a whole row of elements.</p><p><strong>Insert</strong><br>Insert a new value at a specific index on an axis.  Since the Array is a 3D cube of values, technically this inserts a new 2D plane of elements all with the given value.  However in 1D arrays this adds a single element, and in 2D arrays it inserts a new row of elements.</p><p><strong>Delete</strong><br>Delete the value at a specific index on an axis.  Since the Array is a 3D cube of values, technically this removes a 2D plane of elements.  However in 1D arrays this removes a single element, and in 2D arrays it removes a whole row of elements.</p><p><strong>Reverse</strong><br>Reverse the order of elements on an axis.  Note that in multidimensional arrays this only reverses one axis.  For example reversing the X axis in a 2D array will reverse the order of the columns while preserving the contents of each column.</p><p><strong>Sort</strong><br>Sorts the order of elements on an axis in ascending order.  Note that in multidimensional arrays this sorts based on the first element on the axis.  For example sorting the X axis in a 2D array will sort the order of the columns based on the elements at Y co-ordinate 0, while preserving the contents of each column.</p><h3>Array expressions</h3><p><strong>At(X)</strong><br><strong>At(X, Y)</strong><br><strong>At(X, Y, Z)</strong><br>Retrieve a value at a position in the array.  Indices are zero-based.  Reading values outside the array returns the number 0.  If the Y or Z indices are not provided then 0 is used.</p><p><strong>CurX</strong><br><strong>CurY</strong><br><strong>CurZ</strong><br>The current zero-based index for each dimension in a <em>For each element</em> loop.</p><p><strong>CurValue</strong><br>The current value in a <em>For each element</em> loop.  This is a shortcut for <em>Array.At(Array.CurX, Array.CurY, Array.CurZ)</em>.</p><p><strong>Width</strong><br><strong>Height</strong><br><strong>Depth</strong><br>Return the size of each of the array's dimensions.</p><p><strong>Front</strong><br>Shortcut to access the first value in the array, which is the same as <em>At(0, 0, 0)</em>.</p><p><strong>Back</strong><br>Shortcut to access the last value on the X axis, which is the same as <em>At(Self.Width - 1, 0, 0)</em>.</p><p><strong>IndexOf</strong><br><strong>LastIndexOf</strong><br>Searches the array X axis for a given value and returns the index it is found at, or -1 if not found.  <em>IndexOf</em> finds the first matching element, and <em>LastIndexOf</em> finds the last matching element.</p><p><strong>AsJSON</strong><br>Return the contents of the array as a string in JSON format.  This can later be loaded in to the array with the <em>Load</em> action.</p><a name="anchor-109"></a><h2>6.5 Audio</h2><p>The <strong>Audio</strong> object plays back audio files that have been imported to the project.  It must be inserted to each project that needs to use audio playback.  Audio files can be imported to a project by right-clicking the <strong>Sounds</strong> or <strong>Music</strong> folders in the <a href="#anchor-39">Project Bar</a> and selecting <em>Import...</em>, which brings up the <a href="#anchor-52">Import Audio dialog</a>.  See the relevant sections for more information on the steps involved to import audio files.</p><p>Currently, audio support in browsers is patchy.  Not all features may work in all browsers.  For example, setting the playback rate will not work on many mobile phones.  This is a problem with the browser and not Construct 2's Audio object.  It is recommended to test your project in multiple browsers to identify if an issue is browser specific.  However, this is an area of active development in modern browsers and the situation should improve soon.</p><h3>Categorise audio files correctly</h3><p>It is important to organise audio files appropriately, because audio files in the <strong>Sounds</strong> project folder are downloaded completely before playing, but files in the <strong>Music</strong> folder are streamed. This means if a Music track is accidentally put in the Sounds folder, it would have to download completely (which could take a couple of minutes) before it started playing. However, audio in the Music folder can start playing immediately since it is streamed from the server.</p><h3>Audio is downloaded on demand</h3><p>To speed up the loading time and start the game sooner, audio is downloaded or streamed on-demand during the game.  In other words, nothing is downloaded until a <em>Play</em> action starts playing an audio file.  Then, if the audio file is in the Music folder it starts streaming from the server; if in the Sounds folder, it starts downloading and will play when finished downloading.  This also helps minimise the bandwidth requirement on the server since unused audio is never downloaded.  However, it can introduce a delay before audio plays for the first time.  The delay on first play is a one-off, because after the first play the sound is already downloaded and can be played immediately if played a second time.</p><p>You can also use the <em>Preload</em> action to start downloading an audio file without actually playing it.  This can be done on <em>Start of layout</em> to start downloading a few important sound effects so there is no delay when they are played for the first time.  However it is entirely optional (all games will work without any preloading at all), and it should not be over-used since preloading too many sound effects on startup can slow down browsers with too much downloading and result in no sound effects playing at all for a while.</p><h3>Audio tags</h3><p>Some actions affect audio parameters such as the volume for sounds which are already playing.  However there can often be many sounds playing at once in a game.  In order to identify which sounds you want to affect, sounds are played with an associated <em>tag</em>.  This is any string that identifies the sound.  For example, the player's weapon sound effect could be played with the tag <em>"PlayerWeapon"</em> and an enemy's weapon with the tag <em>"EnemyWeapon"</em>.  Then, the tag can be used in the <em>Set Volume</em> action to specify which sound to set the volume for.  Tags are case insensitive.</p><p>Multiple sounds can also play at once using the same tag.  In this case actions like <em>Set Volume</em> affect <strong>all</strong> the sounds playing with that tag.</p><p>A tag which is an empty string (<em>""</em>) has a special meaning: it refers only to the last sound played with the <em>Play</em> action.  This is convenient for playing a sound and immediately setting its volume and other parameters.</p><h3>Audio properties</h3><p><strong>Timescale audio</strong><br>The game timescale can be used to speed up or slow down playback of the game, for effects like slow-motion.  See <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a> for more information.  This property controls whether or not audio is affected by the game's timescale.<br><em>Off</em> will play back audio the same regardless of the timescale.<br><em>On (sounds only)</em> will play back audio from the Sounds project folder at a different rate depending on the timescale, but will always play back audio from the Music project folder at the same rate.<br><em>On (sounds and music)</em> will play back all audio at a different rate depending on the timescale.<br>Some browsers may not support audio timescaling at all; test on multiple browsers to establish support.  Also, different browsers may use different time-stretching algortihms for audio.  Browsers can either alter pitch, going to lower pitch for lower time scales like a tape machine playing at a different speed; alternatively they can change the playback speed without affecting the pitch.  Test on multiple browsers to establish the exact effect achieved.</p><h3>Audio conditions</h3><p><strong>On ended</strong><br>Triggered when a sound with a given tag finishes playing.  This is not triggered for looping sounds.</p><p><strong>Preloads complete</strong><br>Since audio is downloaded on demand, audio files only start downloading when a <em>Preload</em> or <em>Play</em> action is used.  This condition will be true when all audio has downloaded enough to play through to the end.  This can be used to preload a set of sounds at the start of the layout, and go to the next layout when the preloads finish, eliminating any latency on the first play of sound effects.</p><h3>Audio actions</h3><p><strong>Play</strong><br><strong>Play (by name)</strong><br>Start playing an audio file with a given tag.  The latter action gives you the opportunity to use an expression for the audio file name.  The sound can optionally be set to looping when it starts playing.</p><p><strong>Preload</strong><br><strong>Preload (by name)</strong><br>Start downloading an audio file so it has no delay before playing.  See the section <em>Audio is downloaded on demand</em> above for more information.  Audio does not have to be preloaded before playing - it is optional and only serves to possibly reduce the delay before audio plays for the first time.  Only two or three sounds should be preloaded at once.</p><p><strong>Set looping</strong><br>Set a sound either looping (repeating when it finishes) or not looping (stopping when it finishes).  Not all browsers currently support this feature; test on multiple browsers to identify support.</p><p><strong>Set muted</strong><br>Set a sound either muted (silent) or unmuted (audible).</p><p><strong>Set playback rate</strong><br>Change the rate a sound plays back at.  Different browsers may use different time-stretching algorithms (either pitch preserving or pitch altering) or not support the option at all; test in multiple browsers to identify the actual affect achieved.  If the <em>Timescale audio</em> property is enabled, it combines with the playback rate set by this action.</p><p><strong>Set silent</strong><br>Enable, disable or toggle <em>Silent mode</em>.  In silent mode all currently playing sounds are muted and no new sounds will play.  This is useful for quickly creating an audio toggle on a title screen.</p><p><strong>Set volume</strong><br>Change the volume of a sound.  The volume is given in decibels (dB).  A volume of 0 dB is original volume, above 0 dB amplifies the sound, and below 0 dB attenuates the sound.  For example, entering a value of -10 plays the audio back 10 dB quieter (about half as loud).</p><p><strong>Stop</strong><br>Stop a sound playing immediately.</p><h3>Audio expressions</h3><p>The <strong>Audio</strong> object has no expressions.</p><a name="anchor-110"></a><h2>6.6 Browser</h2><p>The <strong>Browser</strong> object accesses features of the web browser running the HTML5 game.  It also switch to and from fullscreen mode, detect if the game is updating in the background, and determine if the page is visible.</p><p>Security limitations sometimes prevent browser actions.  For example, the window <em>Close</em> action can only be used when the window was created by a javascript <em>window.open</em> call.</p><h3>Browser conditions</h3><p><strong>Cookies enabled</strong><br>True if the user has cookies enabled in their browser.  (Typically it is rare for them to be disabled since many web sites rely on cookies to work properly.)</p><p><strong>Is online</strong><br>True if the browser currently has an active connection to the internet.  Construct 2 games can work offline - see <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">Offline games ⇗</a> for more information.</p><p><strong>On resized</strong><br>Triggered when the browser window displaying the game is resized.  This includes when changing orientation on a mobile device.  The system expressions <em>WindowWidth</em> and <em>WindowHeight</em> will update to reflect the new size if a fullscreen mode is in use.</p><p><strong>On went online</strong><br><strong>On went offline</strong><br>Triggered if the connection to the internet is becomes available or unavailable during the running of the game.  This is common on mobile devices which may be moving in and out of signal areas.  The <em>Is online</em> condition also changes to reflect the connection status.</p><p><strong>On menu button</strong><br><em>Currently only supported when exporting to PhoneGap</em><br>Triggered when the user presses the device's 'Menu' button.  Note not all devices have this button, e.g. iOS devices only have a 'Home' button.</p><p><strong>On search button</strong><br><em>Currently only supported when exporting to PhoneGap</em><br>Triggered when the user presses the device's 'Search' button.  Note not all devices have this button, e.g. iOS devices only have a 'Home' button.</p><p><strong>Is downloading update</strong><br>True if the game is running from cache, but downloading an updated version in the background.  This can be used to implement a simple auto-updater.  See <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">Offline games ⇗</a> for more information.</p><p><strong>On update ready</strong><br>Triggered when the game is running from cache, but an updated version has finished downloading in the background.  If the user is still on the game's menu or title screen, you may wish to prompt them to refresh the page (or just do it automatically) so the new version is loaded.  See <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">Offline games ⇗</a> for more information.</p><p><strong>Is fullscreen</strong><br>True if the browser is running in fullscreen mode.</p><p><strong>Page is visible</strong><br>True if the page the HTML5 game is running on is currently visible.  The page counts as hidden if the window is minimised, the page is in a different tab to the one being viewed, or on a mobile device when the app goes in to the background. When the page is hidden the game automatically pauses.</p><p><strong>On suspended</strong><br><strong>On resumed</strong><br>Triggered when the page's visibility changes, or when a mobile app is going in to the background or foreground.  When invisible or in the background the app is suspended: all events stop running and all audio is muted.</p><h3>Browser actions</h3><p><strong>Go back</strong><br><strong>Go forward</strong><br>Move through the browser navigation history as if clicking the Back and Forward buttons on the browser.</p><p><strong>Go home</strong><br>Navigate to the browser's set homepage.</p><p><strong>Go to URL</strong><br>Navigate to a given URL.  Note this uses the same window/tab as is showing the HTML5 game, so this action will end the game.</p><p><strong>Open URL in new window</strong><br>Navigate to a given URL in a new window (or tab if the browser settings override).  This continues to run the HTML5 game in the old window or tab.</p><p><strong>Reload</strong><br>Force the page to refresh.  This effectively restarts the game.</p><p><strong>Alert</strong><br>Bring up a simple 'alert' message box.</p><p><strong>Blur</strong><br>Unfocus the browser window.</p><p><strong>Cancel fullscreen</strong><br>Return to windowed mode if the browser is currently in fullscreen mode.</p><p><strong>Close</strong><br>Close the current window, if the script has permission to do so.</p><p><strong>Focus</strong><br>Focus the browser window.</p><p><strong>Request fullscreen</strong><br>Request that the browser enter fullscreen mode.  Note the browser may ignore this request unless the action is in a user-initiated event, such as a mouse click, key press, touch event or button press.  There are three different fullscreen modes that can be entered:<br><em>Center</em> - center the game viewport in the fullscreen view<br><em>Stretch (crop)</em> - extend the game viewport to fill the fullscreen view<br><em>Stretch (scale)</em> - scale (zoom) the game viewport to fill the fullscreen view<br>The latter two options correspond to the <em>Fullscreen in browser</em> <a href="#anchor-66">project property</a>.  For more information see <a href="http://www.scirra.com/tutorials/73/supporting-multiple-screen-sizes" target="_blank">supporting multiple screen sizes ⇗</a>.</p><h3>Browser expressions</h3><p><strong>Langage</strong><br>Get the browser's current language setting, e.g. <em>en-US</em>.</p><p><strong>Name</strong><br>Get the name the browser reports for itself.  This may be inaccurate for backwards compatibility reasons, e.g. Google Chrome reports its name as <em>Netscape</em>.</p><p><strong>Platform</strong><br>Get the current platform the browser reports itself running on, e.g. <em>Win32</em> for Windows.</p><p><strong>Product</strong><br>Get the product the browser reports for itself.  This may be inaccurate for backwards compatibility reasons, e.g. Google Chrome reports its product as <em>Gecko</em>.</p><p><strong>UserAgent</strong><br>Return the full user agent string for the browser, e.g. <em>Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.63</em>.</p><p><strong>Vendor</strong><br>Get the vendor the browser reports for itself, e.g. <em>Google Inc.</em> for Google Chrome.</p><p><strong>Version</strong><br>Get the version the browser reports for itself as a string.  This can simply be a subset of the user agent string.</p><p><strong>Title</strong><br>The current HTML document's title.</p><p><strong>Domain</strong><br>The current domain, e.g. <em>scirra.com</em>.</p><p><strong>Hash</strong><br>The string after the hash at the end of the URL, including the hash.  For example, if the current URL is <em>http://scirra.com/mygame/index.html#teapot</em>, this returns <em>#teapot</em>.</p><p><strong>PathName</strong><br>The path relative to the domain in the URL.  For example the path name of <em>http://scirra.com/mygame/index.html#teapot</em> is <em>/mygame/index.html</em>.</p><p><strong>Protocol</strong><br>The current protocol, usually either <em>http:</em> or <em>https:</em>.</p><p><strong>QueryParam</strong><br>Return a query string parameter by name.  For example, if the URL ends with <em>index.html?foo=bar&amp;baz=wan</em>, <em>QueryParam("foo")</em> returns <em>bar</em> and <em>QueryParam("baz")</em> returns <em>wan</em>.</p><p><strong>QueryString</strong><br>Return the full URL query string including the question mark.  For example, if the URL ends with <em>index.html?foo=bar&amp;baz=wan</em>, this returns <em>?foo=bar&amp;baz=wan</em>.</p><p><strong>Referrer</strong><br>Get the previous page that linked to this page, if any.</p><p><strong>URL</strong><br>Get the complete current URL in the browser address bar, including the protocol.</p><a name="anchor-111"></a><h2>6.7 Button</h2><p>The <strong>Button</strong> object creates a form button which the user can click to perform an action.</p><p>Form controls are actual HTML elements floating above the game canvas in the HTML page.  Therefore, nothing can be displayed on top of a form control, apart from other form controls.</p><p>Form controls position themselves according to the layer parallax, scale and so on.  However they are not truly "in the game" (since they float above), so it is recommended to avoid using scrolling, parallax and layer scaling with form controls, otherwise the end result can feel unnatural.</p><h3>Styling Button objects</h3><p>Button controls can be customised in a huge number of ways via CSS (Cascading Style Sheets).  Rather than adding actions to set all of the possible properties, the Button object exposes a <em>Set CSS style</em> action.  Knowing CSS will of course be an advantage here, but it is simple to use for simple properties.  A few examples are listed below.</p><p><em>Make the text red:</em> Set "color" to "red"<br><em>Make the background yellow:</em> Set "background-color" to "yellow"<br><em>Make the border a thick light grey:</em> Set "border" to "3px solid #AAAAAA"<br><em>Make the font bigger:</em> Set "font-size" to "2em"<br><em>Make a dashed red border:</em> Set "border" to "2px dashed red"</p><h3>Button properties</h3><p><strong>Text</strong><br>The text appearing on the button face.</p><p><strong>Tooltip</strong><br>A tooltip that appears in most browsers if the user hovers the mouse over the button and waits.  Leave blank for no tooltip.</p><p><strong>Initial visibility</strong><br>Whether or not the button is shown on startup.  If <em>Invisible</em>, the button must be shown with the <em>Set visible</em> action.</p><p><strong>Enabled</strong><br>Whether the button is initially enabled.  If <em>No</em>, the button will be greyed out and cannot be pushed.</p><p><strong>Auto font size</strong><br>Automatically set the font-size property of the element according to the layout and layer scale.  This will prevent the font-size CSS property being manually set with the <em>Set CSS style</em> action.  Set to <em>No</em> if you intend to use <em>Set CSS style</em> to adjust the font-size property.</p><p><strong>ID</strong> (optional)<br>An optional <em>id</em> attribute for the element in the DOM (Document Object Model).  This can be useful for accessing the element's value from external scripts, or styling with CSS in the HTML page.</p><h3>Button conditions</h3><p><strong>On clicked</strong><br>Triggered when the user pushes the button, either by keyboard, mouse or touch input.</p><h3>Button actions</h3><p><strong>Set CSS style</strong><br>Set a CSS (Cascading Style Sheets) style on the Button element.  For more information, see the section <em>Styling Button objects</em>.  Note that if the <em>Auto font size</em> property is set to <em>Yes</em>, any changes to the font-size property will be overridden.</p><p><strong>Set enabled</strong><br>Set the button enabled or disabled.  When disabled, the button appears greyed out and cannot be pushed.</p><p><strong>Set focused</strong><br>Set the input focus to the button.</p><p><strong>Set text</strong><br>Set the text on the button face.</p><p><strong>Set tooltip</strong><br>Set the text that appears for the button tooltip.  Leave blank for no tooltip.</p><h3>Button expressions</h3><p>The Button object does not have any of its own expressions.</p><a name="anchor-140"></a><h2>6.8 Dictionary</h2><p>The <strong>Dictionary</strong> object stores strings and numbers.  Each value has an associated key, which is a string.  It is a data storage object - it does not do any spell checking or language-specific features.</p><p>Key names in the Dictionary object are always case sensitive.  This means the key "SCORE" is considered different to the key "score".</p><h3>Example</h3><p>Suppose the number 100 is stored with the key "score", and the string "Joe" stored with the key "name".  The result storage looks like the following table:</p><p>"name": "Joe"<br>"score": 100</p><p>Retrieving the key "name" with <em>Dictionary.Get("name")</em> returns "Joe", and retrieving "score" likewise returns 100.  Setting "score" to 50 will change the value for the key.</p><p>This is like storing data in instance variables or event variables, but since you can use strings as keys you can store any number of values.</p><h2>Dictionary conditions</h2><p><strong>Compare value</strong><br>Compare the value stored for a key.</p><p><strong>Has key</strong><br>Check if a key exists in storage.</p><p><strong>Is empty</strong><br>True when there are no keys in storage.</p><p><strong>For each key</strong><br>Repeat the event once for each key in storage.  The <em>CurrentKey</em> and <em>CurrentValue</em> expressions return the current key and its value respectively.</p><p><strong>Compare current value</strong><br>Only valid in a <em>For each key</em> event. Compare the value of the current key.</p><h2>Dictionary actions</h2><p><strong>Add key</strong><br>Add a new key to storage, with a given value.  If the key already exists, its value is updated.</p><p><strong>Clear</strong><br>Remove all keys from storage, making the object empty.</p><p><strong>Delete key</strong><br>Remove a key and its value from storage.  If the key does not exist, this has no effect.</p><p><strong>Set key</strong><br>Update the value for a key which already exists.  If the key does not exist, this has no effect.  (Unlike <em>Add key</em>, the key will not be created.)</p><p><strong>Download</strong> (JSON)<br>Open a new browser tab with a link to download the contents of the Dictionary object in JSON format.  This is intended for development only.  You may see a popup warning.</p><p><strong>Load</strong> (JSON)<br>Load all keys and values from JSON data previously retrieved from the Dictionary object using either the <em>Download</em> action or the <em>AsJSON</em> expression.</p><h2>Dictionary expressions</h2><p><strong>Get</strong><br>Return the value stored for a key, e.g. <em>Dictionary.Get("score")</em>. If the key does not exist, it returns 0.</p><p><strong>KeyCount</strong><br>Return the number of keys in storage.</p><p><strong>CurrentKey</strong><br><strong>CurrentValue</strong><br>In a <em>For each key</em> event, these return the key and its value (respectively) for the current key being iterated.</p><p><strong>AsJSON</strong><br>Return the contents of the Dictionary object in JSON format.  This can be later loaded back with the <em>Load</em> action, sent to a server via AJAX, saved do disk, and so on.</p><a name="anchor-112"></a><h2>6.9 Facebook</h2><p>The <strong>Facebook</strong> object allows you to integrate your game with Facebook.  The tutorial <a href="http://www.scirra.com/tutorials/58/how-to-make-a-facebook-game" target="_blank">How to make a Facebook game ⇗</a> covers how to publish the game on Facebook and has a step-by-step guide to get started with the Facebook object.  This manual section will simply describe its features.</p><p>The Facebook object can be used in any game, not just in Facebook games.  For example, you could have a game running on your own server.  The Facebook object still allows you to integrate with user's Facebook accounts even when the user is playing the game on your website.  However, it is still necessary to submit the app to Facebook so you have an App ID.  Apps can be submitted to Facebook via <a href="http://www.facebook.com/developers" target="_blank">Facebook Developers ⇗</a>.</p><p>The Facebook object makes asynchronous requests.  This means the game keeps running while operations which may take several seconds (like submitting a score) complete in the background.  Therefore, the Facebook object works around the principle of an action which starts a task (like <em>Publish score</em>), which then triggers a condition when it has completed (like <em>On score submitted</em>).  These may be a few seconds apart and the game continues to run in between, rather than freezing the game while it waits for completion.  As with most asynchronous requests, actions may complete in a different order to that which they were made.</p><h3>Facebook Properties</h3><p><strong>App ID</strong><br>The App ID given for your app in the Facebook Developers section.</p><p><strong>App Secret</strong><br>This is only necessary if you plan to use the Scores API.  Otherwise <em>do not enter the app secret</em>.  The app secret can be found in the Facebook Developers section for your app and is currently necessary to enable the Scores API.</p><h3>Facebook conditions</h3><p><strong>Is ready</strong><br>True if the Facebook object is ready to be used.  When false, the Facebook object is still loading the necessary scripts.</p><p><strong>Is user logged in</strong><br>True if the user is currently logged in with their Facebook account.</p><p><strong>On name available</strong><br>Triggered shortly after <em>On user logged in</em>, when the expressions to get the user's name are available.</p><p><strong>On user logged in</strong><br>Triggered when the user has successfully logged in.  It also triggers on startup if the user has previously logged in, and they have returned to the app with a remembered login.  This also triggers at the start of each layout throughout the game while the user is logged in.</p><p><strong>On user logged out</strong><br>Triggered if the user logs out during the game.</p><p><strong>On hi-score</strong><br>Triggers once for each hi-score after the <em>Request hi-score board</em> action.  The <em>HiscoreName</em>, <em>HiscoreRank</em> and <em>Score</em> expressions contain the current hi-score information.</p><p><strong>On score submitted</strong><br>Triggers when the <em>Publish score</em> action has successfully completed.</p><p><strong>On user top score available</strong><br>Triggers when the <em>Request user top score</em> action has successfully completed.  The <em>Score</em> expression has the user's top score.</p><h3>Facebook actions</h3><p><strong>Log in</strong><br>Open a popup window requesting the user to log in.  This can only be called in a user-input event, such as a key press, button push, mouse click or touch screen tap.  The user may cancel at the log in screen so logging in is not guaranteed to be successful.  Two permissions can currently be requested: publish to stream (allowing automatic publishing to the user's wall) and publish scores (allowing use of the hi-score system).  You can prompt the user to make wall posts via a dialog with no permissions at all - the publish to stream permission allows this to be done automatically.  Do not request permissions that your application does not need.</p><p><strong>Log out</strong><br>Log the current user out from Facebook.</p><p><strong>Prompt to share link</strong><br>Open a dialog prompting the current user to share a URL of your choosing on their wall.  Descriptions and a thumbnail image can optionally be provided.  This does not require any permissions, but the user is free to cancel the action.</p><p><strong>Prompt to share this app</strong><br>Open a dialog prompting the current user to share the URL to the current Facebook app on their wall.  Descriptions and a thumbnail image can optionally be provided.  This does not require any permissions, but the user is free to cancel the action.</p><p><strong>Prompt wall post</strong><br>Open a dialog prompting the current user to make a wall post.  No content or links is added - it is an empty text box for the user to type anything they like.  This does not require any permissions, but the user is free to cancel the action.</p><p><strong>Publish link</strong><br>Automatically publish a URL to the user's wall without any prompt.  Descriptions and a thumbnail image can optionally be provided.  This requires that the user has logged in with the <em>Publish to stream</em> permission.</p><p><strong>Publish wall post</strong><br>Automatically publish a message to the user's wall without any prompt.  This requires that the user has logged in with the <em>Publish to stream</em> permission.</p><p><strong>Publish score</strong><br>Publish a numerical score to the hi-score board for the game.  This requires that the user has logged in with the <em>Publish scores</em> permission.  When the action completes, it triggers <em>On score submitted</em>.</p><p><strong>Request hi-score board</strong><br>Request the game's hi-scores.  This requires that the user has logged in with the <em>Publish scores</em> permission.  This action will repeatedly trigger <em>On hi-score</em> once per score on the hi-score board.  It is up to you to find a way to display these scores; appending each hi-score to a text object is a simple way to display them.</p><p><strong>Request user top score</strong><br>Request the current logged in user's top score for this game.  This requires that the user has logged in with the <em>Publish scores</em> permission.  When the action completes, it triggers <em>On user top score available</em>.</p><h3>Facebook expressions</h3><p><strong>FirstName</strong><br>The current user's first name.  This is only set after <em>On name available</em> triggers.</p><p><strong>FullName</strong><br>The current user's full name.  This is only set after <em>On name available</em> triggers.</p><p><strong>LastName</strong><br>The current user's full name.  This is only set after <em>On name available</em> triggers.</p><p><strong>UserID</strong><br>The current user's ID, which can be used to distinguish different users with the same name.  This is only set if the user is logged in.</p><p><strong>HiscoreName</strong><br>The current hi-score board entry name.  This is only set in an <em>On hi-score</em> event.</p><p><strong>HiscoreRank</strong><br>The current hi-score board entry rank, from 1 down to the number of hi-score entries requested.  This is only set in an <em>On hi-score</em> event.</p><p><strong>HiscoreUserID</strong><br>Return the user ID of the current hi-score board entry.  This is unique even if two people on the hi-score board have the same name.</p><p><strong>Score</strong><br>Either the current hi-score in an <em>On hi-score</em> event, or the current user's score in <em>On user top score available</em>.</p><a name="anchor-143"></a><h2>6.10 Gamepad</h2><p>The <strong>Gamepad</strong> object allows you to detect input from a connected console controller, PC gamepad or joystick.  While a range of devices ought to work with the Gamepad object, it is designed for and works best with the XBox 360 controller, or similarly designed controllers (with the same button/stick layout).</p><p>Unfortunately whether or not a specific device is supported depends on a lot of factors, including the operating system, available drivers, and the browser's support. This makes it difficult to know in advance if a specific device will work.  The XBox 360 controller works out of the box on Windows systems with the Google Chrome browser.  The Playstation 3 controller does not typically work without installing third party drivers since it is not officially supported.  For this reason it is recommended to test with Google Chrome on Windows with an XBox 360 controller, and always support an alternative input method such as <a href="#anchor-113">Keyboard</a> input.</p><p>Most mobile devices do not have a physical socket to connect a controller to.  Therefore Gamepad input can usually only be used with desktop computers.  For mobile devices with touchscreen input, focus on designing <a href="http://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">touch controls ⇗</a>.</p><p>To prevent allowing websites to track you by your available controllers, most browsers supporting Gamepad input will report that there are no controllers connected until a button is pressed on one of the devices.</p><h3>Key mapping</h3><p>Different controllers have different button layouts, or the buttons have different names.  For example, the Playstation 3 controller uses <em>square</em>, <em>circle</em>, <em>triangle</em> and <em>X</em> buttons, whereas the XBox 360 controller uses <em>A</em>, <em>B</em>, <em>X</em> and <em>Y</em> (note that <em>X</em> appears in a different position in each controller too).  For consistency, the Gamepad object refers to the XBox 360 layout only.</p><p>The Gamepad object will also attempt to map other controller's keys to the XBox 360 layout internally, to ensure the same button always triggers the same event.  However it is impractical to set this up for every device in existence, so some device buttons may trigger different key events in the Gamepad object.  This is partly why it is recommended to focus on XBox 360 controllers.  If you are interested in using Gamepad input extensively, be sure to test on as wide a range of devices as you can obtain.</p><p>Raw input can be obtained, circumventing the Gamepad object's built in key mapping, using the <em>Raw</em> expressions.</p><h3>Controlling behaviors with Gamepad</h3><p>To control behaviors with Gamepad input, use the <em>Simulate control</em> action.  An example is shown below for controlling a Platform behavior with the left analog stick and A to jump.</p><p><img src="./manual_files/gamepadcontrol.png" alt="Simulating behavior controls with Gamepad" width="510" height="138"></p><p>For more information, see the section on <em>Custom controls</em> in the <a href="#anchor-86">Behavior reference</a>.</p><h3>Multiple gamepads</h3><p>Multiple gamepad devices can be connected to a single computer.  To differentiate between them, most actions, conditions and expressions in the Gamepad object also take a <em>Gamepad</em> parameter.  This is a zero-based index of the controller.  For example, 0 identifies the first controller, 1 identifies the second, and so on.  This allows you to make multiplayer gamepad-controlled games.</p><h3>Gamepad properties</h3><p><strong>Analog deadzone</strong><br>Devices with analog joysticks are extremely sensitive to input.  This allows fine control in games, but also means a joystick in rest position can still register a fairly large amount of movement.  If this wasn't ignored, a joystick-controlled player could start moving around erratically even when the player is not touching the control.  To solve this all values below a certain limit are ignored.  Joystick movement is in the range -100 to 100 on each axis, and if the magnitude is below the <em>Analog deadzone</em> value, it will return 0.  For example, the default is 25, so values from -25 to 25 will still count as zero.  This is the recommended value to ensure even ageing controllers with highly erratic input do not cause unintended player movement.</p><h3>Gamepad conditions</h3><p><strong>Compare axis</strong><br>Compare the position of an analog joystick on a specific gamepad.  Values within the <em>Analog deadzone</em> are returned as 0.  Axes values range from -100 to 100.</p><p><strong>Has gamepads</strong><br>True if any gamepad is connected and activated.  To prevent websites tracking you based on the available gamepads, most browsers supporting Gamepad input will report that no controllers are connected until a button is pressed on one of the devices.</p><p><strong>Is button down</strong><br>True if a given button is currently down on a specific gamepad.  The buttons are always referred to according to the XBox 360 controller layout, and buttons are subject to mapping as described under <em>Key mapping</em>.</p><p><strong>On gamepad connected</strong><br>Triggered when a gamepad device is connected to the computer.  To prevent websites tracking you based on the available gamepads, most browsers supporting Gamepad input will report that no controllers are connected until a button is pressed on one of the devices, when <em>On gamepad connected</em> will also run.</p><p><strong>On gamepad disconnected</strong><br>Triggered when a gamepad device is disconnected from the computer, such as by pulling out its cable.</p><h3>Gamepad actions</h3><p>The Gamepad object has no actions.</p><h3>Gamepad expressions</h3><p><strong>Axis(Gamepad, Index)</strong><br>Retrieve the current position of an analog joystick on a specific gamepad.  <em>Index</em> specifies left analog X and Y or right analog X and Y axes, subject to <em>Key mapping</em>.  Axes range from -100 to 100.  Axis values within the <em>Analog deadzone</em> are returned as 0.</p><p><strong>Button(Gamepad, Index)</strong><br>Retrieve the current button press value of a button on a specific gamepad.  <em>Index</em> specifies the zero-based index of a button from the dropdown list in the <em>Is button down</em> condition (e.g. 0 returns the value for the <em>A</em> button).  The returned value depends on the features of the button: if the button is pressure sensitive, it can return any value from 0 to 100 depending on the pressure; otherwise it returns 0 for not pressed and 100 for pressed.  Buttons which are not pressure sensitive are easier to detect using the <em>Is button down</em> condition.</p><p><strong>GamepadCount</strong><br>Return the number of currently connected and active gamepad devices.  To prevent websites tracking you based on the available gamepads, most browsers supporting Gamepad input will report that no controllers are connected until a button is pressed on one of the devices.</p><p><strong>GamepadID(Gamepad)</strong><br>A string intended to represent the device manufacturer and model for a specific gamepad, e.g. "XBox 360 controller".  However in practice this varies depending on the system and browser in use.</p><p><strong>RawAxis(Gamepad, Index)</strong><br>Retrieve raw axis input for a specific gamepad and axis index.  This returns the value without keymapping or applying the analog deadzone.  Axis values range from -100 to 100.</p><p><strong>RawAxisCount(Gamepad)</strong><br>Return the number of axes available in the raw input for a specific gamepad.  This returns the value without keymapping.</p><p><strong>RawButton(Gamepad, Index)</strong><br>Retrieve raw button input for a specific gamepad and button index. This returns the value without keymapping.  Button values range from 0 to 100 (pressure sensitive buttons can return values in between).</p><p><strong>RawButtonCount(Gamepad)</strong><br>Return the number of buttons available in the raw input for a specific gamepad.  This returns the value without keymapping.</p><a name="anchor-113"></a><h2>6.11 Keyboard</h2><p>The <strong>Keyboard</strong> object allows projects to respond to keyboard input.</p><p>Note on the modern web it is naïve to assume all users have a keyboard.  Many users now browse the web with touch-screen devices that have no keyboard.  (The Keyboard object also does not respond to input from on-screen keyboards on any modern touch devices.)  Therefore if your game uses exclusively mouse or keyboard control, it is impossible to use on touch devices.  See the <a href="http://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">Touch controls ⇗</a> tutorial for an alternative control system.</p><h3>Browser shortcut keys</h3><p>In some browsers, some keys are shortcuts for browser actions.  For example, space bar sometimes is a shortcut to scroll down the page.  If any events exist for 'On key pressed' with a given key, Construct 2 blocks the browser from performing its normal action.  For example, if you wish to prevent space bar scrolling down the page, add an empty 'On Space pressed' event, if you don't have one already.</p><h3>Keyboard conditions</h3><p><strong>Key is down</strong><br>True if a given keyboard key is currently being held down.</p><p><strong>On any key pressed</strong><br>Triggered when any keyboard key is pressed.  Useful for title screens or cutscenes.</p><p><strong>On key pressed</strong><br>Triggered when a specific keyboard key is pressed.</p><p><strong>On key released</strong><br>Triggered when a specific keyboard key is released.</p><h3>Keyboard actions</h3><p>The Keyboard object does not have any actions.</p><h3>Keyboard expressions</h3><p>The Keyboard object does not have any expressions.</p><a name="anchor-114"></a><h2>6.12 Mouse</h2><p>The <strong>Mouse</strong> object allows projects to respond to mouse input.</p><p>Note on the modern web it is naïve to assume all users have a mouse.  Many users now browse the web with touch-screen devices that have no mouse.  Therefore if your game uses exclusively mouse or keyboard control, it is impossible to use on touch devices.  See the <a href="http://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">Touch controls ⇗</a> tutorial for an alternative control system.</p><p>If you only use left clicks, consider instead using the <a href="#anchor-119">Touch object</a> with <em>Use Mouse Input</em> set to <em>Yes</em>. This will allow your game to work on touchscreen devices without any further changes.</p><h3>Selecting elements in the page</h3><p>By default the browser selects elements in the page when the user clicks and drags.  Construct 2 blocks the canvas itself from being selected so the game is not affected by rapid clicks and drags.  However, if your game is embedded on another page, the user may accidentally select other page elements.  You can add the following attribute to any HTML elements to prevent them from being selectable:</p><p><em>onselectstart="return false;"</em></p><p>You can add this to the &lt;body&gt; tag to prevent selections on the entire page, but be warned this can cause difficulties for users if there is anything the user may want to genuinely select on the page.</p><h3>Mouse conditions</h3><p><strong>Cursor is over object</strong><br>True if the mouse cursor is hovering over an object.</p><p><strong>Mouse button is down</strong><br>True if a given mouse button (left, middle or right) is currently being held down.</p><p><strong>On any click</strong><br>Triggered when any mouse button is clicked.  Useful for title screens or cutscenes.</p><p><strong>On button released</strong><br>Triggered when a given mouse button is released.</p><p><strong>On click</strong><br>Triggered when a given mouse button is pressed.  This can also be used to detect double-clicks.</p><p><strong>On mouse wheel</strong><br>Triggered when the mouse wheel (if any) is scrolled up or down a notch.  <strong>Note:</strong> adding this trigger anywhere in your game will prevent the mouse wheel scrolling the page in the browser, so use this with care.</p><p><strong>On object clicked</strong><br>Triggered when a given mouse button is pressed while the mouse cursor is over an object.  This can also be used to detect double-clicks on objects.</p><h3>Mouse actions</h3><p><strong>Set cursor from sprite</strong><br>Set the cursor image from a <a href="#anchor-115">Sprite</a> object.  This is preferable to setting a sprite to the mouse co-ordinates, because the input lag is significantly lower.  Various limitations apply: the sprite image is used as it appears in the image editor, not taking in to account size or rotation in the layout; the image cannot be too large (64x64 is usually the limit); and support varies depending on browser and OS.</p><p><strong>Set cursor style</strong><br>Set the type of mouse cursor showing for the canvas in the HTML page.  The cursor can be hidden completely by choosing <em>None</em>.</p><h3>Mouse expressions</h3><p><strong>AbsoluteX</strong><br><strong>AbsoluteY</strong><br>Return the position of the mouse cursor over the canvas area in the HTML page.  This is (0, 0) at the top left of the canvas and goes up to the window size.  It is not affected by any scrolling or scaling in the game.</p><p><strong>X</strong><br><strong>Y</strong><br>Return the position of the mouse cursor in game co-ordinates.  This is (0, 0) at the top left of the layout.  It changes to reflect scrolling and scaling.  However, if an individual layer has been scrolled, scaled or rotated, these expressions do not take that in to account - for that case, use the layer versions below.</p><p><strong>X("layer")</strong><br><strong>Y("layer")</strong><br>Return the position of the mouse cursor in game co-ordinates, with scrolling, scaling and rotation taken in to account for the given layer.  The layer can be identified either by a string of its name or its zero-based index (e.g. <em>Mouse.X(0)</em>).</p><a name="anchor-135"></a><h2>6.13 Particles</h2><p>The <strong>Particles</strong> object can quickly create visual effects by creating and moving many small images independently.  It is a versatile object capable of many different kinds of visual effects.  There are <strong>6 demos</strong> in the <em>Examples</em> folder in Construct 2's install directory, ranging from fire to fountains.  The image below shows an example of one of the particle effects possible with the object.</p><p><img src="./manual_files/particles.jpg"></p><p>The Particles object has many parameters to change the behavior of each particle.  Also, it requires a texture used to draw each particle.  Often a simple white spot on a black background is sufficient.</p><p>The <strong>Additive blend mode</strong> works especially well with the Particles object.  It makes each particle brighten the background rather than pasting its image over the background, and allows particles to blend in to each other as well rather than simply overlapping.  This makes particles look more like light sources.  The below image shows what the effect does when the texture is a white spot on a black background.</p><p><img src="./manual_files/particlesadditive.png" alt="Additive particles" width="478" height="234"></p><p>Colored effects can be created using colored particle images.  Note that since the Additive effect brightens the background towards white, any objects using an Additive effect will not show up on a white background.  The effect works best on dark backgrounds.</p><p>For more information about blend modes and effects, see the manual section on <a href="#anchor-147">Effects</a>.</p><h3>Particles in the Layout View</h3><p>The Particles object is represented in the Layout View by two red lines which represent the <strong>spray cone</strong> (the angle through which particles are fired), with the particle texture in the middle.  The Particle object's origin is where particles are created from.  An example is shown below on the left, with the effect at runtime on the right.</p><p><img src="./manual_files/particleslayoutview.png" alt="Particles in the Layout View" width="523" height="255"></p><p>The size of the particles object in the layout view is not important.  The object will automatically size itself at runtime to fit all the particles it has created.</p><h3>How particle effects work</h3><p>The particle effect works similarly to using the <a href="#anchor-90">Bullet behavior</a> on each particle.  Initially particles are fired forwards at a given speed and at an angle within the spray cone.  Each particle is then individually controlled with different alterations to its speed, angle, opacity and size during its lifetime.  The fact particles move independently of the others is often what makes the visual effect interesting.  The various properties of the Particles object control exactly how the particles change over time and what random alterations are made.  It is worth spending some time changing parameters to see the effect they have for yourself.</p><p>There are three different settings for when particles are destroyed, set by the <strong>Destroy mode</strong> property.  The default <em>Fade to invisible</em> will fade each particle's opacity to zero over the <em>Timeout</em>, destroying the particle when it becomes invisible.  <em>Timeout expired</em> will simply destroy the particle after an amount of time, without changing its opacity.  <em>Particle stopped</em> will destroy the particle when its speed reaches zero, but you must take care to ensure particles slow down with a negative acceleration otherwise they will never be destroyed!</p><h3>Optimisation</h3><p>Particle effects are more efficient than creating the same effect with Sprite objects, but not by a large margin.  Just like with sprites, you should be aware that creating a large number of particles can have a serious performance impact on your game, especially on mobile.  Use the <strong>ParticleCount</strong> expression to monitor how many particles are being created.  On desktop systems, more than a couple of hundred particles is likely to impact the framerate.  On mobiles, use of the Particles object is not recommended at all since the framerate is usually already limited by the existing sprites in the game; if absolutely necessary, keep particle counts below 50 on mobile for best performance.</p><p>To reduce particle counts, try reducing the rate or shortening the timeout.  To compensate, you can try making the particle size larger so the effect does not get thinner.</p><h2>Particle Properties</h2><p>The Particles object has a relatively many properties, which are split in to three groups: particle spray properties (relating to the Particles object itself), initial particle properties (relating to the creation of each individual particle) and particle lifetime properties (relating to how particles behave after creation).</p><h3>Particle spray properties</h3><p><strong>Rate</strong><br>The number of particles created per second.  If <em>Type</em> is <em>One-shot</em>, this is how many particles are created in total.  Note that in <em>Continuous spray</em> mode, the overall particle count may be significantly more than the rate depending on the other properties.</p><p><strong>Spray cone</strong><br>The number of degrees through which particles are fired.  This is represented by the red lines in the Layout View.  Use 360 to fire particles in all directions.</p><p><strong>Type</strong><br>The Particles object can work in two modes:<br><em>Continuous spray</em> will create a constant spray of particles (the default).<br><em>One-shot</em> will create a single blast of particles, the total number set by <em>Rate</em>.  Once all particles have been destroyed, the Particles object then destroys itself.  This is useful for one-off effects like explosions or impacts.</p><p><strong>Image</strong><br>Click to open the <a href="#anchor-48">Image editor</a> to edit the particle image.  Try a spot on a transparent background, or on a black background with the Additive effect.</p><h3>Initial particle properties</h3><p><strong>Speed</strong><br>The initial speed each particle is fired at, in pixels per second.</p><p><strong>Size</strong><br>The initial size of each particle, in pixels.  Particles are always shown as squares.</p><p><strong>Opacity</strong><br>The initial opacity of each particle, from 0 (transparent) to 100 (opaque).</p><p><strong>Grow rate</strong><br>The initial grow rate (change in size over time) for each particle, in pixels per second.  0 means the particle will always stay the same size.  A positive value will make particles grow, and a negative value will make particles shrink.</p><p><strong>X randomiser</strong><br><strong>Y randomiser</strong><br>The initial offset to the particle's position.  You can make particles created along a line or in a box with these properties.</p><p><strong>Speed randomiser</strong><br>A random adjustment to each particle's initial speed on creation.  For example, a value of 100 will change each particle's initial speed by up to 50 pixels per second faster or slower.</p><p><strong>Size randomiser</strong><br>A random adjustment to each particle's size on creation.  For example, a value of 20 will change each particle's initial size by up to 10 pixels larger or smaller.</p><p><strong>Grow rate randomiser</strong><br>A random adjustment to each particle's grow rate on creation.  For example, a value of 10 will change each particle's initial grow rate by up to 5 pixels per second greater or less.</p><h3>Particle lifetime properties</h3><p><strong>Acceleration</strong><br>Change in particle speed over time, in pixels per second per second.  A positive value will make particles speed up, and a negative value will make them slow down.</p><p><strong>Gravity</strong><br>The acceleration downwards caused by gravity, in pixels per second per second.  Useful for making fountain or other falling particle effects.  Set to 0 to prevent gravity having any effect on particle movement.</p><p><strong>Angle randomiser</strong><br>Maximum random change to each particle's angle during its lifetime, in degrees per second.  For example, set to 0 to prevent particles ever changing direction, or set to 10 to allow particles to change up to 5 degrees left or right per second.</p><p><strong>Speed randomiser</strong><br>Maximum random change to each particle's speed during its lifetime, in pixels per second per second.  For example, set to 0 to prevent the speed changing randomly, or set to 100 to allow particles to speed up or slow down by 50 pixels per second per second.</p><p><strong>Opacity randomiser</strong><br>Maximum random change to each particle's opacity during its lifetime.  Useful for creating "twinkling" effects.</p><p><strong>Destroy mode</strong><br>How each particle is destroyed.  There are three modes available:<br><em>Fade to invisible</em> will fade each particle's opacity to zero over the <em>Timeout</em>.  When the particle becomes invisible, it is destroyed.<br><em>Timeout expired</em> simply destroys each particle after the <em>Timeout</em> has expired, without altering the opacity.<br><em>Particle stopped</em> destroys each particle when its speed reaches zero.  You must take care to use a negative <em>Acceleration</em>, or particles will never be destroyed!</p><p><strong>Timeout</strong><br>The time in seconds particles last for before being destroyed, depending on the <strong>Destroy mode</strong>.</p><h2>Particle conditions, actions and expressions</h2><p>Most of the Particle object's actions and expressions simply set or get the above properties.  See the above properties for a reference.  The other conditions, actions and expressions not relating to the above properties are documented below.</p><p>For features in common to other objects, see <a href="#anchor-130">Common features</a>.</p><h3>Particle conditions</h3><p><strong>Is spraying</strong><br>True if the particle spray is currently enabled.</p><h3>Particle actions</h3><p><strong>Set spraying</strong><br>Enable or disable the spray, when in <em>Continuous spray</em> mode.  When disabled, no new particles are created.</p><h3>Particle expressions</h3><p><strong>ParticleCount</strong><br>The number of particles the Particles object currently has.  This is important to ensure you are not creating too many particles and slowing the game down; see the <strong>Optimisation</strong> section above.  Note that due to the way Construct 2 expressions work, if you have multiple Particle object instances, this will only return the particle count for one of the instances - use a For Each loop to count multiple instance's total particle count.</p><a name="anchor-115"></a><h2>6.14 Sprite</h2><p>The <strong>Sprite</strong> object is an animatable image that appears in the game.  It is one of the most important objects for most Construct 2 games.  It is used to make most visual elements in a game, such as the player, enemies, projectiles, explosions and non-tiling scenery (tiled scenery is much better done with the <a href="#anchor-118">Tiled Background</a> object).</p><p>If a Sprite has a single animation with a single frame, it simply shows an image without animating.  However, multiple animations can be added to Sprite objects with the <a href="#anchor-48">Image and Animations editor</a>.</p><p>All <a href="#anchor-71">instances</a> of Sprite objects share their animations.  In other words, there is a single set of images comprising the animations which belongs to the <a href="#anchor-70">object type</a>, and these images are referenced by instances.</p><p>Sprites can have effects applied.  For more information, see <a href="#anchor-147">Effects</a>.</p><h3>Sprite properties</h3><p><strong>Animations</strong><br>Click the <em>Edit</em> link to open the <a href="#anchor-48">Image and Animations editor</a> for the object.  All instances of the object type share a single set of animations.</p><p><strong>Size</strong><br>Click the <em>Make 1:1</em> link to size the selection at original size (100%).  This makes the width and height of the object the same as its first animation frame image.</p><p><strong>Initial visibility</strong><br>Set whether the object is shown (visible) or hidden (invisible) when the layout starts.</p><p><strong>Initial frame</strong><br>Set the initially displaying animation frame from the object's first animation.  This is a zero-based index, so the first frame is 0.  This can be useful for storing different tiles or scenery in different animation frames of a single Sprite object type.</p><h3>Sprite conditions</h3><p>For conditions in common to other objects, see <a href="#anchor-131">Common conditions</a>.</p><p><strong>Compare frame</strong><br>Compare the current animation frame number, which is a zero-based index (the first frame is 0).</p><p><strong>Is flipped</strong><br><strong>Is mirrored</strong><br>True if the object has been flipped or mirrored with the <em>Set flipped</em> or <em>Set mirrored</em> actions.</p><p><strong>Is playing</strong><br>True if a given animation is currently set.  Animations are identified by their name (case insensitive).</p><p><strong>On any finished</strong><br>Triggered when any animation reaches the end.  Looping animations do not finish.</p><p><strong>On finished</strong><br>Triggered when a given animation reaches the end.  Looping animations do not finish.  Animations are identified by their name (case insensitive).</p><p><strong>On frame changed</strong><br>Triggered whenever the animation switches to another frame while the animation is playing.</p><p><strong>Is overlapping another object</strong><br><strong>Is overlapping at offset</strong><br>True if any instance is overlapping any instance of another object.  The collision polygons are taken in to account if set, as well as the object's size and rotation.  The 'offset' variant will test for an overlap at an offset from the first object.  For example, testing for an overlap at an offset of (100, 0) will temporarily move the object to the right 100 pixels, test for the overlap, then move it back again.</p><p><strong>On collision with another object</strong><br>Triggered upon the first time any instance starts overlapping any instance of another object.  The collision polygons are taken in to account if set, as well as the object's size and rotation.</p><p><strong>On image URL loaded</strong><br>Triggered when <em>Load image from URL</em> finishes downloading the image and is ready to display it.</p><h3>Sprite actions</h3><p>For actions common to other objects, see <a href="#anchor-132">Common actions</a>.</p><p><strong>Set animation</strong><br>Change the currently playing animation to another animation.  Animations are identified by their name (case insensitive).  The new animation can either play from the <em>beginning</em> or from the same frame number as the last animation was on (<em>current frame</em>).</p><p><strong>Set flipped</strong><br>Set whether the object image appears vertically flipped or normal.  This also affects image points and the collision polygon.</p><p><strong>Set mirrored</strong><br>Set whether the object image appears horizontally mirrored or normal.  This is useful for platform games.  Mirroring also affects image points and the collision polygon.</p><p><strong>Set frame</strong><br>Set the current zero-based animation frame number that is showing.  The animation will continue to play at its current speed.</p><p><strong>Set speed</strong><br>Set the playback rate of the current animation, in animation frames per second.  Instances can have different animation speeds.</p><p><strong>Start</strong><br>If the current animation is stopped, start playing the animation again.  Playback can either resume from the <em>current frame</em>, or restart from the <em>beginning</em>.</p><p><strong>Stop</strong><br>Stop the current animation from playing.  The object will be left showing the current animation frame.</p><p><strong>Spawn another object</strong><br>Create a new instance of a given object type.  The new instance is created at the current object's position and also set to the same angle.  The created object can be on any layer (chosen by its name or its zero-based number), and it can be positioned by an <a href="#anchor-63">image point</a> instead of the object's origin (chosen by its name or number).  If a Family is created, a random object type in the family is picked.</p><p><strong>Set scale</strong><br>Sets the width and height to a multiple of the object's original size, similar to zooming the object proportionally.  For example, if the object is 50x100, <em>Set scale to 2</em> will set its size to 100x200, and <em>Set scale to 0.1</em> will set its size to 5x10.</p><p><strong>Load image from URL</strong><br>Load an image from a given URL.  The current animation frame will be replaced with the image.  It is not shown until the image has finished downloading, and <em>On image URL loaded</em> triggers.  Images loaded from different domains are subject to the same cross-domain restrictions as AJAX requests - for more information see the section on cross-domain in the <a href="#anchor-107">AJAX</a> object.  Data URIs can also be passed as an image, e.g. from a canvas snapshot or webcam image.  The <em>Size</em> parameter sets whether the Sprite object will be set to the image size when it loads, or whether to keep its current size and stretch the image.</p><h3>Sprite expressions</h3><p>For expressions common to other objects, see <a href="#anchor-133">common expressions</a>.</p><p><strong>AnimationFrame</strong><br>The currently displaying zero-based animation frame number.</p><p><strong>AnimationFrameCount</strong><br>The number of animation frames in the current animation.</p><p><strong>AnimationName</strong><br>A string containing the name of the currently playing animation.</p><p><strong>AnimationSpeed</strong><br>The current playback rate of the current animation, in animation frames per second.</p><p><strong>ImageWidth</strong><br><strong>ImageHeight</strong><br>The original dimensions of the object (its current animation frame image size), in pixels.  Since objects can be stretched at runtime causing the normal <em>Width</em> and <em>Height</em> expressions to return different values, these can be used to get the original size regardless of the stretched size.</p><a name="anchor-116"></a><h2>6.15 Text</h2><p>The <strong>Text</strong> object can display text using a font in your game.  Note that there are not many fonts common to all computers - see <a href="http://web.mit.edu/jmorzins/www/fonts.html" target="_blank">this page ⇗</a> for some common web fonts.  Alternatively, the Text object supports Web Fonts using the <em>Set web font</em> action.  See the tutorial on <a href="http://www.scirra.com/tutorials/236/using-web-fonts-in-the-text-object" target="_blank">Using Web Fonts in the Text object ⇗</a> for more information.</p><p>The Text object does not display anything if its bounding rectangle is too small to fit a single letter of text.  If text objects appear to go invisible, try resizing them larger.</p><h3>Text rendering</h3><p>Different browsers render text in different ways, and Construct 2's layout view also renders text differently to other browsers.  This means you should expect the appearance of the Text object to vary slightly across browsers.</p><p>You should test your game in a range of browsers to ensure text objects display how you intend for all users.  For more information see <a href="#anchor-34">Best practices</a>.</p><h3>Unsupported fonts in the editor</h3><p>For technical reasons, some fonts are not supported by Construct 2's text renderer.  This only affects the editor and does not necessarily mean the font will not work in the browser - be sure to test across different browsers.  To guarantee that the font you are using is available to everyone, it is recommended to use <a href="http://www.scirra.com/tutorials/236/using-web-fonts-in-the-text-object" target="_blank">Web Fonts ⇗</a> instead.</p><h3>Text properties</h3><p><strong>Text</strong><br>The text for the object to initially be showing.</p><p><strong>Initial visibility</strong><br>Whether or not the object is shown (visible) or hidden (invisible) when the layout starts.</p><p><strong>Font</strong><br>The font the text object uses to display its text.  Click the '<strong>...</strong>' button to the right of the font name to open a font picker dialog.  Fonts chosen this way must be installed to the user's computer for it to display correctly.  For this reason it is recommended to use <a href="http://www.scirra.com/tutorials/236/using-web-fonts-in-the-text-object" target="_blank">Web Fonts ⇗</a> instead if you are choosing an uncommon font.</p><p><strong>Color</strong><br>Choose the color of the text object's text.</p><p><strong>Horizontal alignment</strong><br>Choose whether the text displays <em>left</em>, <em>center</em> or <em>right</em> aligned within its bounding rectangle.</p><p><strong>Hotspot</strong><br>Choose whether the hotspot (or origin) of the object is at the <em>top-left</em> of the bounding rectangle (the default), or <em>centered</em>.  This is usually only important if the text object is being rotated.</p><p><strong>Wrapping</strong><br>Choose how text wraps at the end of a line.  <em>Word</em> will wrap entire words separated by spaces or hyphens.  <em>Character</em> will wrap to the next line on any character, which might split words in half in Western languages but is more suitable for other languages like Chinese.</p><p><strong>Line height</strong><br>Amount to change the space between each line of text, in pixels.  Use 0 for the default amount, -5 for 5 pixels shorter than default, 10 for 10 pixels taller than default, and so on.</p><h3>Text conditions</h3><p>For conditions common to other objects, see <a href="#anchor-131">common conditions</a>.</p><p><strong>Compare text</strong><br>Test whether the text object is currently displaying a certain string of text.  The comparison can be either case sensitive ("TEXT" is different to "text") or case insensitive ("TEXT" is considered the same as "text").  To test if the text object is <em>not</em> showing some text, invert the <a href="#anchor-76">condition</a>.</p><h3>Text actions</h3><p>For actions common to other objects, see <a href="#anchor-132">common actions</a>.</p><p><strong>Set font color</strong><br>Set the color of the text.  Use an expression in the form <em>rgb(red, green, blue)</em>.</p><p><strong>Set font face</strong><br>Change the font used to display the text.  The font must be installed to the user's computer to display correctly.  For this reason it is recommended to use <a href="http://www.scirra.com/tutorials/236/using-web-fonts-in-the-text-object" target="_blank">Web Fonts ⇗</a> instead if you are choosing an uncommon font.</p><p><strong>Set font size</strong><br>Set the size of the text in points (pt).</p><p><strong>Set web font</strong><br>Set the font to a web font loaded online.  For more information see the tutorial <a href="http://www.scirra.com/tutorials/236/using-web-fonts-in-the-text-object" target="_blank">Using Web Fonts in the Text object ⇗</a>.</p><p><strong>Append text</strong><br>Add some text to the end of the current text.  For example, if the text object contains <em>Hello</em> and has <em>World</em> appended, the text object then contains <em>HelloWorld</em>.</p><p><strong>Set text</strong><br>Set the text the object is currently displaying.  Use the <strong>&amp;</strong> operator to combine text and numbers.  For more information, see <a href="#anchor-78">expressions</a>.</p><h3>Text expressions</h3><p>For expressions common to other objects, see <a href="#anchor-133">common expressions</a>.</p><p><strong>Text</strong><br>Return a string containing the object's current text.</p><p><strong>TextWidth</strong><br><strong>TextHeight</strong><br>Return the size of the actual text content within the text object's rectangle.</p><a name="anchor-117"></a><h2>6.16 Textbox</h2><p>The <strong>Textbox</strong> object creates a text field which the user can type text in to.</p><p>Form controls are actual HTML elements floating above the game canvas in the HTML page.  Therefore, nothing can be displayed on top of a form control, apart from other form controls.</p><p>Form controls position themselves according to the layer parallax, scale and so on.  However they are not truly "in the game" (since they float above), so it is recommended to avoid using scrolling, parallax and layer scaling with form controls, otherwise the end result can feel unnatural.</p><h3>Styling Textbox objects</h3><p>Textbox controls can be customised in a huge number of ways via CSS (Cascading Style Sheets).  Rather than adding actions to set all of the possible properties, the Textbox object exposes a <em>Set CSS style</em> action.  Knowing CSS will of course be an advantage here, but it is simple to use for simple properties.  A few examples are listed below.</p><p><em>Make the text red:</em> Set "color" to "red"<br><em>Make the background yellow:</em> Set "background-color" to "yellow"<br><em>Make the border a thick light grey:</em> Set "border" to "3px solid #AAAAAA"<br><em>Make the font bigger:</em> Set "font-size" to "2em"<br><em>Make a dashed red border:</em> Set "border" to "2px dashed red"</p><h3>Textbox properties</h3><p><strong>Text</strong><br>The initial text entered in to the field.</p><p><strong>Placeholder</strong><br>Some text that appears faintly when the field is empty.  This can be used for hints for what the field is for, e.g. <em>Username</em>.</p><p><strong>Tooltip</strong><br>A tooltip that appears if the user hovers the mouse over the text box and waits.  Leave blank for no tooltip.</p><p><strong>Initial visibility</strong><br>Whether or not the text box is shown on startup.  If <em>Invisible</em>, the field must be shown with the <em>Set visible</em> action.</p><p><strong>Enabled</strong><br>Whether the text box is initially enabled.  If <em>No</em>, the field will be greyed out and cannot be modified.</p><p><strong>Read-only</strong><br>Set whether the field is read-only, which means the text cannot be modified but can still be selected.  This is different to disabling the field, where text cannot be selected.</p><p><strong>Spell check</strong><br>Enable spell-checking on the text entered in to the field, if the browser supports it.  If enabled, spelling errors are underlined with a squiggly red line.</p><p><strong>Type</strong><br>Set the type of content being entered in to the text field, which can be:<br><em>Text</em> (any content)<br><em>Password</em> (any content but characters hidden)<br><em>Email</em> (intended for strings in the general format <em>joe@bloggs.com</em>)<br><em>Number</em> (numerical digits only)<br><em>Telephone number</em> (telephone number characters only)<br><em>URL</em> (web addresses in the general format <em>http://example.com</em>).<br><em>Textarea</em> (multi-line text input)<br>The <em>email</em>, <em>number</em>, <em>telephone number</em> and <em>URL</em> types are generally most useful for mobile devices, since they change which type of on-screen keyboard appears when the field is focused.  For example, <em>Text</em> will show a general purpose on-screen keyboard, whereas <em>Number</em> may show a simple number pad, making it more convenient for the user to enter the content.</p><p><strong>Auto font size</strong><br>Automatically set the font-size property of the element according to the layout and layer scale.  This will prevent the font-size CSS property being manually set with the <em>Set CSS style</em> action.  Set to <em>No</em> if you intend to use <em>Set CSS style</em> to adjust the font-size property.</p><p><strong>ID</strong> (optional)<br>An optional <em>id</em> attribute for the element in the DOM (Document Object Model).  This can be useful for accessing the element's value from external scripts, or styling with CSS in the HTML page.</p><h3>Textbox conditions</h3><p><strong>Compare text</strong><br>Compare the text currently entered in to the field.  The comparison can either be case sensitive ("TEXT" is different to "text") or case insensitive ("TEXT" is the same as "text").</p><p><strong>On clicked</strong><br>Triggered when the user clicks the field.</p><p><strong>On double-clicked</strong><br>Triggered when the user double-clicks the field.</p><p><strong>On text changed</strong><br>Triggered whenever the text in the field is modified, by typing, backspace/delete, cut/paste etc.</p><h3>Textbox actions</h3><p><strong>Set CSS style</strong><br>Set a CSS (Cascading Style Sheets) style on the Textbox element.  For more information, see the section <em>Styling Textbox objects</em>.  Note that if the <em>Auto font size</em> property is set to <em>Yes</em>, any changes to the font-size property will be overridden.</p><p><strong>Set enabled</strong><br>Set the field enabled or disabled.  When disabled, the field appears greyed out and cannot be modified.</p><p><strong>Set focused</strong><br>Set the input focus to the field.  The text caret will begin flashing ready for text entry.</p><p><strong>Set placeholder</strong><br>Set the text that appears faintly when the field is empty.  This can be used for hints for what the field is for, e.g. <em>Username</em>.</p><p><strong>Set read-only</strong><br>Set whether the field is read-only, which means the text cannot be modified but can still be selected.  This is different to disabling the field, where text cannot be selected.</p><p><strong>Set text</strong><br>Set the text currently entered in to the field.</p><p><strong>Set tooltip</strong><br>Set the text that appears for the field tooltip.  Leave blank for no tooltip.</p><h3>Textbox expressions</h3><p><strong>Text</strong><br>Get a string containing the text currently entered in to the field.</p><a name="anchor-118"></a><h2>6.17 Tiled Background</h2><p>The <strong>Tiled Background</strong> object can display an image in a repeating pattern, as shown below.</p><p><img src="./manual_files/tiledbg.png" alt="A tiled background" width="246" height="164"></p><p>This pattern can be achieved with a single Tiled Background object, and it is much faster (and more convenient to edit) than using multiple Sprite objects arranged in a grid.  Always prefer using Tiled Background objects wherever an image repeats.</p><p>Tiled Backgrounds cannot have a collision polygon.  They always collide according to their bounding rectangle.</p><p>Tiled Backgrounds can have effects applied.  For more information, see <a href="#anchor-147">Effects</a>.</p><h3>Power-of-two sizes</h3><p>For best results, use a power-of-two sized square image for the Tiled Background (e.g. 16x16, 32x32, 64x64, 128x128...).  This achieves best results in WebGL mode.  The object will still work correctly with non power-of-two sized images, but the quality may be slightly reduced since the image has to be stretched to a power-of-two size before tiling. (Note this does not apply to Sprite objects, which can use any size.)</p><h3>Tiled Background properties</h3><p><strong>Image</strong><br>Click the <em>Edit</em> link to edit the Tiled Background's image.</p><p><strong>Initial visibility</strong><br>Choose whether the object is shown (visible) or hidden (invisible) when the layout starts.</p><p><strong>Hotspot</strong><br>Choose where the hotspot (or origin) is in the object.  By default it is at the <em>top-left</em> of the object's bounding rectangle, but it can also be set to <em>Center</em> which may be useful for rotating the object.</p><h2>Tiled Background conditions, actions and expressions</h2><p>Tiled Background has few conditions, actions or expressions of its own.  See <a href="#anchor-130">common features</a> for documentation on features which are shared between objects in Construct 2.</p><h3>Tiled Background conditions</h3><p><strong>On image URL loaded</strong><br>Triggered when <em>Load image from URL</em> finishes downloading the image and is ready to display it.</p><h3>Tiled Background actions</h3><p><strong>Load image from URL</strong><br>Load an image from a given URL. It is not shown until the image has finished downloading, and <em>On image URL loaded</em> triggers. Images loaded from different domains are subject to the same cross-domain restrictions as AJAX requests - for more information see the section on cross-domain in the <a href="#anchor-107">AJAX</a> object. Data URIs can also be passed as an image, e.g. from a canvas snapshot or webcam image.</p><a name="anchor-119"></a><h2>6.18 Touch</h2><p>The <strong>Touch</strong> object detects input from touchscreen devices like iPhones, iPads, Android and Windows 8 devices.  Touchscreens for desktop computers are also available, but these are rare compared to mobiles, so generally the Touch object is used in anticipation of input on a mobile device.</p><p>The Touch object also provides input from the <strong>accelerometer</strong> and <strong>gyroscope</strong> (tilt/compass direction) if the device supports them.</p><p>It is <a href="#anchor-34">best</a> to support touch input wherever possible.  On the modern web many users are now browsing on mobile devices with touch input only and no mouse or keyboard.  If your game does not support touch controls, many users will be unable to play your game at all.  For a guide on how to implement on-screen touch controls, see the tutorial on <a href="http://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">Touch controls ⇗</a>.</p><h3>Multi-touch</h3><p>The Touch object supports multi-touch.  This is most useful with the <em>On touched object</em> and <em>Is touching object</em> conditions, which can for example detect if multiple on-screen touch controls are being used.  This is sufficient for many games.</p><p>For more advanced uses, the <em>TouchCount</em>, <em>XAt</em> and <em>YAt</em> expressions return all current touches in contact with the screen.  Touches have a zero-based index, so 0 is always the first touch, 1 the second, and so on.  Touches are ordered like a stack: the first (oldest) touch is always touch 0, the second touch is always touch 1, and so on.  If a touch is removed then added, it will become the last touch in the list.</p><h3>Touch properties</h3><p><strong>Use mouse input</strong><br>If set to <em>Yes</em>, mouse clicks will simulate touch events.  Clicking and dragging the left mouse button will simulate a touch along where mouse dragged, and single clicks will simulate taps.  This can be very useful for testing touch events work properly on a desktop computer with no touch input supported.  However, only single-touch input can be simulated with a mouse, and a mouse is much more precise than a touch, so it is still best to test on a real touchscreen device.</p><h3>Touch conditions</h3><p><strong>Compare touch speed</strong><br>Compare the speed of a specific touch (given by its zero-based index).  Touch speed is measured in canvas pixels per second, so is not affected by scaling the display.</p><p><strong>Is in touch</strong><br>True if anything is currently touching the screen.</p><p><strong>Is touching object</strong><br>True if any touch is currently touching a given object.</p><p><strong>On touch end</strong><br>Triggered when any touch releases from the screen.</p><p><strong>On touch start</strong><br>Triggered upon any touch on the screen.</p><p><strong>On touched object</strong><br>Triggered when a given object is touched.</p><h3>Touch actions</h3><p>The Touch object has no actions.</p><h3>Touch expressions</h3><p><strong>AccelerationX</strong><br><strong>AccelerationY</strong><br><strong>AccelerationZ</strong><br>Get the current device's motion as its acceleration on each axis in m/s^2 (meters per second per second) excluding the effect of gravity.  The expressions which include gravity (below) are more widely supported; these will return 0 at all times on devices which do not support them.</p><p><strong>AccelerationXWithG</strong><br><strong>AccelerationYWithG</strong><br><strong>AccelerationZWithG</strong><br>Get the current device's motion as its acceleration on each axis in m/s^2 (meters per second per second) including the acceleration caused by gravity, which is about 9.8 m/s^2 down at all times.  For example, at rest, the device will report an acceleration downwards corresponding to the force of gravity.  These expressions are more commonly supported than the expressions returning acceleration without G (above).  However, devices are still not guaranteed to support motion detection, in which case these will return 0 at all times.</p><p><strong>Alpha</strong><br><strong>Beta</strong><br><strong>Gamma</strong><br>Return the device's orientation if supported, or 0 at all times if not suppoted.  <em>Alpha</em> is the compass direction in degrees.  <em>Beta</em> is the device front-to-back tilt in degrees (i.e. tilting forwards away from you if holding in front of you).  A positive value indicates front tilt and a negative value indicates back tilt.  <em>Gamma</em> is the device left-to-right tilt in degrees (i.e. twisting if holding in front of you).  A positive value indicates right tilt and a negative value indicates left tilt.</p><p><strong>AbsoluteX</strong><br><strong>AbsoluteY</strong><br><strong>AbsoluteXAt(index)</strong><br><strong>AbsoluteYAt(index)</strong><br>Return the current position of a touch over the canvas area. This is (0, 0) at the top left of the canvas and goes up to the window size. It is not affected by any scrolling or scaling in the game.  The <em>At</em> expressions can return the absolute position of any touch given its zero-based index, allowing for multi-touch input.</p><p><strong>X</strong><br><strong>Y</strong><br><strong>XAt(index)</strong><br><strong>YAt(index)</strong><br>Return the current position of a touch in layout co-ordinates. It changes to reflect scrolling and scaling. However, if an individual layer has been scrolled, scaled or rotated, these expressions do not take that in to account - for that case, use the layer versions below.  The <em>At</em> expressions can return the absolute position of any touch given its zero-based index, allowing for multi-touch input.</p><p><strong>X("layer")</strong><br><strong>Y("layer")</strong><br><strong>XAt(index, "layer")</strong><br><strong>YAt(index, "layer")</strong><br>Return the current position of a touch in layout co-ordinates, with scrolling, scaling and rotation taken in to account for the given layer. The layer can be identified either by a string of its name or its zero-based index (e.g. <em>Touch.X(0)</em>).  The <em>At</em> expressions can return the absolute position of any touch given its zero-based index, allowing for multi-touch input.  For example, to get the X co-ordinate of the second touch for the bottom layer, use <em>Touch.XAt(1, 0)</em>.</p><p><strong>TouchCount</strong><br>Number of touches currently in contact with the device's screen.</p><p><strong>AngleAt(index)</strong><br>Get the angle of motion of a specific touch in degrees by its zero-based index. A touch must be moving across the device screen for this expression to contain a useful value.</p><p><strong>SpeedAt(index)</strong><br>Get the speed of a specific touch (given by its zero-based index).  Touch speed is measured in canvas pixels per second, so is not affected by scaling the display.</p><a name="anchor-144"></a><h2>6.19 User Media</h2><p>The <strong>User Media</strong> object allows retrieving camera input from a user.  This requires a video-capable device being installed on the user's system, such as a webcam for a PC or a phone camera on a mobile.  Snapshots can be taken and transferred in to Sprite or Tiled Background objects.</p><p>For security reasons, most browsers will prompt the user for permission before allowing camera input, and will display clear notifications that the camera is currently being used.</p><p>The User Media object has many <a href="#anchor-130">common features</a>, including the ability to have effects applied.</p><h3>In the layout</h3><p>The User Media object appears as a rectangle in the <a href="#anchor-43">layout view</a>, represented by a red cross.  This represents where the video feed will be displayed in the layout.</p><h3>User Media conditions</h3><p><strong>On media request approved</strong><br>Triggered when the user confirms a security prompt after the <em>Request camera</em> action, indicating their approval to allow the application to use camera input.</p><p><strong>On media request declined</strong><br>Triggered when the user cancels a security prompt after the <em>Request camera</em> action, indicating they do not approve the application's request to use camera input.</p><p><strong>Supports user media</strong><br>True if the current browser supports the User Media object.  Not all browsers support the necessary features, so if this is not true it indicates camera input is always unavailable.  It may also be true even if the user has no camera devices installed on their system, since it only determines if the browser has the capability to support cameras or not.</p><h3>User Media actions</h3><p><strong>Request camera</strong><br>Show a security prompt to the user requesting that they give the application permission to use camera input.  Either <em>On media request approved</em> or <em>On media request declined</em> will trigger depending on their decision.  If approved, the User Media object in the layout will start displaying a video feed from the user's camera device.</p><p><strong>Snapshot</strong><br>If the user has approved a camera request and the User Media object is showing a video feed, then snapshots the current frame.  The still image is then available from the <em>SnapshotURL</em> expression as a data URI representing the image.  The image can be loaded in to a Sprite or Tiled Background object using the <em>Load image from URL</em> action and passing <em>SnapshotURL</em>.  This action optionally takes parameters allowing you to specify the compression format, which is useful if you intend to upload or save the image and a smaller file size would be advantageous.</p><p><strong>Stop</strong><br>Ends any active video feed.  The camera must be requested again before it can be used.</p><h3>User Media expressions</h3><p><strong>SnapshotURL</strong><br>A data URI representing the snapshotted image after a <em>Snapshot</em> action, otherwise an empty string.  The image can be loaded in to a Sprite or Tiled Background object using the <em>Load image from URL</em> action and passing <em>SnapshotURL</em>.  Alternatively, the data URI can be sent to a server, saved to disk, or anything else you would like to do with it.</p><p><strong>VideoWidth</strong><br><strong>VideoHeight</strong><br>If a video feed is approved and active, this returns the size in pixels of the feed from the device (which may not be the same size as the object in the layout).  If no feed is active then 0 is returned.</p><a name="anchor-120"></a><h2>6.20 WebStorage</h2><p>The <strong>WebStorage</strong> object can store data locally on the user's computer between sessions.  For example, it can be used to store the last save checkpoint, and restore the player's progress if they come back the next day.</p><h3>Storage per domain</h3><p>The WebStorage object associates all stored data with the current domain.  For example, all games running on <em>scirra.com</em> share the same data, but games running on <em>facebook.com</em> use a different set of data and cannot access any data saved from <em>scirra.com</em>.</p><p>Most browsers implement a maximum size of the data that can be stored with WebStorage - 5mb is a common limit.  If you exceed the limit, the WebStorage's <strong>On quota exceeded</strong> trigger runs.</p><h3>Local vs. Session storage</h3><p>The WebStorage object allows data to be stored in two places: <em>Local</em> storage and <em>Session</em> storage.</p><p>Local storage is permanent (until the user clears their cache).  If the user comes back the next day, local storage still has the saved data.</p><p>Session storage only lasts with the current browser session.  If the user comes back the next day, session storage is empty again.</p><h3>Using WebStorage</h3><p>The WebStorage object uses a very simple storage model: values are stored under named <em>keys</em>, similar to how the <a href="#anchor-140">Dictionary object</a> works.  For example, the value 100 could be stored for the key <em>score</em> with the action <em>Set local value "score" to 100</em>.  Similarly the value <em>John</em> can be stored for the key <em>name</em>.  Then the expression <em>WebStorage.LocalValue("score")</em> returns "100" (as a string) and <em>WebStorage.LocalValue("name")</em> returns "John", and these values persist between sessions.  (If session storage was used instead, the values would only last as long as the browser session.)</p><p>Note WebStorage only stores strings.  If you set a key to a number like 100, when you retrieve it back it will be a string.  To convert it back, use the system expression <em>int</em>, e.g. <em>int(WebStorage.LocalValue("score"))</em>.</p><h3>WebStorage conditions</h3><p><strong>Local/session key exists</strong><br>Check whether a value has been saved for a key in either local or session storage.</p><p><strong>On quota exceeded</strong><br>Most browsers limit the amount of data that can be stored in WebStorage to about 5mb.  If this limit is exceeded, or the user declines to increase the storage limit if the browser prompts them, then <em>On quota exceeded</em> runs.  You will not be able to add any new keys, or set existing keys to longer values, until you delete some other values or clear the storage entirely.</p><h3>WebStorage actions</h3><p><strong>Clear local/session storage</strong><br>Reset either local or session storage to empty for this domain, with no data stored.</p><p><strong>Remove local/session value</strong><br>Delete a key (and its associated value) from local or session storage.  It will no longer exist after this action.</p><p><strong>Set local/session value</strong><br>Store a value (string or number) for a key in local or session storage.  If the key does not exist it is created, otherwise its value is simply updated.</p><p><strong>Load JSON</strong><br>Load local storage keys and values from JSON data.  The <a href="#anchor-140">Dictionary</a> object's JSON format is compatible, so data can be interchanged between Dictionary and WebStorage, but note WebStorage only stores strings (so all numbers will be converted to strings when loading).  If <em>Mode</em> is <em>Set</em>, local storage is first cleared, then the data loaded.  If <em>Mode</em> is <em>Merge</em>, the keys in the JSON data are added or overwritten to the existing keys in storage.</p><h3>WebStorage expressions</h3><p><strong>LocalAt</strong><br><strong>SessionAt</strong><br>Return the value at a zero-based index if all the keys in storage are listed in alphabetical order.  Useful for listing all stored data.</p><p><strong>LocalCount</strong><br><strong>SessionCount</strong><br>Return the number of keys that exist in storage for this domain.</p><p><strong>LocalKeyAt</strong><br><strong>SessionKeyAt</strong><br>Return the key name at a zero-based index if all the keys in storage are listed in alphabetical order.  Useful for listing all stored data.</p><p><strong>LocalValue</strong><br><strong>SessionValue</strong><br>Retrieve the value stored for a key in storage.  If the key does not exist this returns 0.</p><p><strong>AsJSON</strong><br>Return the entire contents of local storage in JSON format.  The result can also be loaded in to the <a href="#anchor-140">Dictionary</a> object, but note WebStorage only stores strings so all result values in the Dictionary object will also be strings.</p><a name="anchor-145"></a><h2>6.21 Windows 8</h2><p>The <strong>Windows 8</strong> object provides access to platform-specific features available when running as a Windows 8 app.  Note these features do not apply when running from the desktop, even in Internet Explorer - they only work in the new style Windows 8 apps that run from the start menu.</p><p>Windows 8 also supports touch input, which is also the only input method available for Windows 8 phones and tablets.  To support these devices be sure to add the <a href="#anchor-119">Touch</a> object and <a href="http://www.scirra.com/tutorials/202/touch-controls-and-a-trick-to-detect-input-method" target="_blank">support touch controls ⇗</a>.</p><h3>Roaming data</h3><p>The object's features to use roaming data are designed to be used the same way as the <a href="#anchor-120">WebStorage</a> object.  Familiarity with WebStorage will make it easier to use the roaming data features.  The main difference between WebStorage and roaming data is that in Windows 8, roaming data is synced between all the user's devices.</p><p>As with WebStorage, all roaming data values are strings.  You can store numbers in roaming data, but they are automatically converted to strings.  To convert a string back to a number, use the <em>int()</em> or <em>float()</em> <a href="#anchor-126">system expressions</a>.</p><h3>Windows 8 conditions</h3><p><strong>On data changed</strong><br>Triggered when the roaming data has been updated with data from another device.  Typically this happens when saving roaming data on one device, then the user switches to another device, and runs the same app again.  There may be a delay before roaming data syncs up, and when it is ready this trigger fires.</p><p><strong>Roaming key exists</strong><br>True if a given key name exists in roaming storage.</p><p><strong>On share</strong><br>Triggered when the user activates the Share charm.  In order to specify what to share, use one of the sharing actions in this trigger.</p><p><strong>Compare view state</strong><br>Test the current view state of the application.  This can be traditional fullscreen in landscape or portrait, or <em>snapped</em> (meaning the app has been docked to the side of the window, in a narrow format), or <em>filled</em> (when a different app has been snapped, and the app is using the larger window area).</p><p><strong>On view state changed</strong><br>Triggered when the view state changes.  E.g. to detect when the app is snapped, use <em>On view state snapped</em>.</p><p><strong>Is Windows 8 app</strong><br>True if currently running as a Windows 8 app, otherwise false.  Note this is still false when running in Desktop mode, even in Internet Explorer 10; it is only true when running as a new style Windows 8 app run from the start menu.  If this condition is false, none of the object's other features are available.</p><h3>Windows 8 actions</h3><p><strong>Set live tile text</strong><br>Change the app's tile in the start menu to display some text.  A pre-defined template must be chosen to determine the layout.  For previews, see the <a href="http://msdn.microsoft.com/en-us/library/windows/apps/hh761491.aspx" target="_blank">tile template catalog on MSDN ⇗</a>.  Note that using the wide templates requires that your app already be using a wide tile; setting a live tile text to a template which is a different size to your app's current tile will not work.</p><p><strong>Clear roaming data</strong><br>Remove all keys from roaming data, reverting it to an empty state.</p><p><strong>Remove roaming value</strong><br>Remove a specific key from roaming data.</p><p><strong>Set roaming value</strong><br>Store a key and an associated value in roaming data.  If it does not exist, it is created.  If it already exists, its value is overwritten.  Values are always stored as strings.  You can use a number for the value, but it will be converted to a string before being stored, and will be returned by the object as a string.</p><p><strong>Fail share</strong><br>Only valid in an <em>On share</em> event. Use this action to indicate sharing failed or is currently unavailable.</p><p><strong>Share HTML</strong><br>Only valid in an <em>On share</em> event. Use this action to share some HTML formatted text from the application.</p><p><strong>Share link</strong><br>Only valid in an <em>On share</em> event. Use this action to share a link, such as the address of your website, from the application.</p><p><strong>Share text</strong><br>Only valid in an <em>On share</em> event. Use this action to share some plain text from the application.</p><p><strong>Show share UI</strong><br>Bring up the Windows 8 Share UI automatically.  Be sure to use this with care in a way that will not offend or come across as obnoxious to your users.  For example a sensible use is a custom <em>Share</em> button in your application which brings up the Share UI.  This action only works when your app is in the foreground.</p><p><strong>Try unsnap</strong><br>If your app is in <em>snapped</em> view state, this will attempt to change in to either <em>filled</em> or <em>fullscreen</em> state.  The action may not work if the user is using another application.</p><h3>Windows 8 expressions</h3><p><strong>RoamingValue(key)</strong><br>Retrieve a value from roaming storage associated with the given key.  If the key does not exist, an empty string is returned.  Note all values are returned as strings, even if they were originally passed as numbers.</p><a name="anchor-139"></a><h2>6.22 XML</h2><p>The <strong>XML plugin</strong> can parse and read data from XML documents.  It uses <strong>XPath</strong> to access the XML document.  XPath is a kind of query language for XML, similar to how SQL is a query language for databases.  To learn more about XPath, see the following links:</p><ul><li><a href="http://www.w3schools.com/xpath/default.asp" target="_blank">W3Schools XPath tutorial ⇗</a></li><li><a href="http://www.liquid-technologies.com/xpath-tutorial.aspx" target="_blank">Some XPath examples ⇗</a></li><li><a href="http://zvon.org/comp/r/tut-XPath_1.html" target="_blank">Another XPath tutorial with examples ⇗</a></li></ul><p>Currently the XML plugin is read-only.  You can read data but not change any values in the XML document.</p><p>For features in common to other plugins, see <a href="#anchor-130">common features</a>.</p><h3>Loading an XML document</h3><p>XML must be loaded as a string with the <em>Load</em> action.  If you have a small snippet of XML, you can paste it directly in to the action parameter.  However, it's recommended to request an XML file from a server using the <a href="#anchor-107">AJAX</a> object.  When the AJAX request completes, pass <em>AJAX.LastData</em> in to the <em>Load</em> action.  Now you can start reading the data that was received.</p><h3>Internet Explorer</h3><p>Internet Explorer does not support XPath queries that return a number, e.g. <em>count(...)</em>.  In this case you can use the <em>NodeCount</em> expression instead.  Be sure to test your project works in a range of browsers, which is a <a href="#anchor-34">best practice</a> anyway.  All other browsers have fully standards-compliant XPath support.</p><h3>XML conditions</h3><p><strong>For each node</strong><br>Repeat the event once for each node returned by an XPath query.  Typically this will be used with a query that returns multiple nodes, e.g. <em>"/bookstore/book"</em> to select all "book" nodes under "bookstore".  In the <em>For each node</em> event, the current node is set to the one currently being iterated.  This means relative XPaths, like <em>"title/text()"</em>, work relative to the current node (in this case returning the text of the child "title" tag).  <em>For each node</em> can also be nested, so you can iterate another list relative to the current node.</p><h3>XML actions</h3><p><strong>Load</strong><br>Load an XML document from a string.  See <em>'Loading an XML document'</em> above.</p><h3>XML expressions</h3><p><strong>NodeCount</strong><br>Return the number of nodes returned by an XPath expression.  For example, this can count the number of elements with a given name.  In a <em>For each node</em> event, the XPath is relative to the current node.</p><p><strong>NumberValue</strong><br>Return a number from an XPath expression.  If multiple values are returned, only the first value is retrieved.  In a <em>For each node</em> event, the XPath is relative to the current node.</p><p><strong>StringValue</strong><br>Return a string from an XPath expression.  If multiple values are returned, only the first value is retrieved.  In a <em>For each node</em> event, the XPath is relative to the current node.</p><a name="anchor-123"></a><h1>7. System reference</h1><p>The <strong>System object</strong> is the only object built in to Construct 2.  It provides features to access the game engine, and utilities that are useful for most games.  For more information on the System object see <a href="#anchor-32">Project Structure</a> from the Overview section.</p><ul><li><a href="#anchor-124">System conditions</a></li><li><a href="#anchor-125">System actions</a></li><li><a href="#anchor-126">System expressions</a></li></ul><a name="anchor-124"></a><h2>7.1 System conditions</h2><p>This section describes all the <a href="#anchor-76">conditions</a> in the built-in System object in Construct 2.  They are listed in the order they appear in the <a href="#anchor-51">Add Condition dialog</a>.</p><h3>General</h3><p><strong>Compare two values</strong><br>Compare any two <a href="#anchor-78">expressions</a> (which can either numbers or text) with each other.  They can be compared as <em>Equal</em>, <em>Not equal</em>, <em>Less</em>, <em>Less or equal</em>, <em>Greater</em> or <em>Greater or equal</em>.</p><p><strong>Every tick</strong><br>A condition which is always true.  Used on its own, this has the same effect as running every time it is checked, which is once per tick, hence the name "Every tick".  This is about 60 times a second on most computers; see <a href="#anchor-75">how events work</a> for more information.  Adding <em>Every tick</em> to an event with other conditions is redundant and has no effect at all.</p><p><strong>Is between values</strong><br>Test if a number is between two values (greater or equal to a lower value and less or equal to a higher value).</p><p><strong>Is group active</strong><br>Test if a <a href="#anchor-80">group of events</a> is active or inactive.  The name of the group is used to identify it.</p><h3>Global &amp; local variables</h3><p><strong>Compare variable</strong><br>Compare the value of a <a href="#anchor-83">event variable</a> (a global variable or local variable in scope).  Event variables can store both numbers and text.  The comparison can be made <em>Equal</em>, <em>Not equal</em>, <em>Less</em>, <em>Less or equal</em>, <em>Greater</em> or <em>Greater or equal</em>.</p><h3>Layers &amp; Layout</h3><p><strong>Compare opacity</strong><br>Compare the opacity (or semitransparency) of a <a href="#anchor-85">layer</a>, from 0 (transparent) to 100 (opaque).  A layer's opacity cannot be outside this range.</p><p><strong>Effects are supported</strong><br>True if WebGL support is available so effects can be displayed.  For more information, see <a href="#anchor-146">Effects</a>.</p><p><strong>Layer is visible</strong><br>Test if a <a href="#anchor-85">layer</a> is currently visible or not.</p><p><strong>On canvas snapshot</strong><br>Triggered after the <em>Snapshot canvas</em> system action, when the snapshot is ready.  It can then be accessed with the <em>CanvasSnapshot</em> system expression.</p><h3>Loops</h3><p>Loops can be stopped with the <em>Stop Loop</em> <a href="#anchor-125">system action</a>.</p><p><strong>For</strong><br>Repeat the event a number of times, using an index variable over a range of values.  The index can be retrieved with the <em>LoopIndex</em> <a href="#anchor-126">system expression</a> and passing the name of the loop.</p><p><strong>For Each</strong><br><strong>For Each (ordered)</strong><br>Repeat the event once per picked <a href="#anchor-71">instance</a>.  This only repeats for instances that have been picked by prior conditions.  See <a href="#anchor-75">how events work</a> for more information on picking.  <em>For Each</em> is commonly mis-used or used redundantly - actions already apply <em>for each</em> instance picked by conditions, so it often is simply not needed.  However, if you fully understand how the event system works, it can be used to force the event to apply once per instance where the event system would not normally do that.  The 'ordered' variant allows the order that the instances are iterated in to be defined by an expression.  For example, ordering by <em>Sprite.Y</em> ascending will iterate the top instances on the screen first, moving downwards.</p><p><strong>Repeat</strong><br>Simply repeat the event a given number of times.  This tests any conditions following it on every repeat, and if those conditions are met also runs the actions and any sub-events on every repeat.</p><p><strong>While</strong><br>Repeat the event until one of the other conditions in the event becomes false or a <em>Stop loop</em> action is used.  Be careful not to create infinite loops which will cause the game to hang.</p><h3>Pick instances</h3><p><strong>Pick all</strong><br>Reset the picked objects back to all of them.  Subsequent conditions will pick from all instances again instead of filtering from only those meeting all the conditions so far.  See <a href="#anchor-75">How events work</a> for more information on how instances are picked in events.  Useful in subevents to start affecting different instances again.</p><p><strong>Pick Nth instance</strong><br>Pick the <a href="#anchor-71">instance</a> at a given place in the internal list of picked objects.  This is most useful used in sub-events to act on separate instances.  For example, in a "Sprite collided with Sprite" event, <em>Pick 0th instance</em> and <em>Pick 1st instance</em> can be used to act on each instance involved in the collision separately.</p><p>If all objects are currently picked, this condition can also be used to pick an object by its index ID (IID).  For more information, see <a href="#anchor-130">common features</a>.</p><p><strong>Pick random instance</strong><br>Pick a random instance from the currently picked objects.  In other words, if <em>Pick random instance</em> follows another condition, it will pick a random instance from the instances meeting the prior condition.  Otherwise it picks a random instance from all the instances.</p><h3>Special conditions</h3><p><strong>Else</strong><br>Run if the previous event did not run.  Note that this condition does not pick any objects: if it follows an event that picks objects, in the <em>Else</em> event all instances revert to picked again.  <em>Else</em> can only follow normal (non-triggered) events.  It can also follow another <em>Else</em> event with other conditions to make an "if - else if - else" chain.</p><p><strong>Is in preview</strong><br>True when running the project from a preview in Construct 2, and false when running after being exported.  Useful to add debug or diagnostic features for previewing only.</p><p><strong>Is on mobile device</strong><br>Tries to detect whether the current device viewing the project is a mobile (e.g. phone or tablet).  It is very difficult to accurately detect this so detection may not be perfect: there may be some mobile systems for which <em>Is on mobile</em> is not true, and (although less likely) desktop systems for which <em>Is on mobile</em> returns true.  The condition always returns true when packaged via the PhoneGap or AppMobi containers, and always returns true for iOS or Android based devices.  Beyond that Construct 2 will test a few other common mobile manufacturers.  Otherwise, it will return true if the current system is <em>not</em> a desktop system, since there are relatively few desktop OSs; the desktop systems it checks for are Windows, Linux, OS 9, OS X, Solaris and BSD.</p><p><strong>Trigger once while true</strong><br>Turn an ordinary event (which is tested every tick) in to a trigger.  For example, if an event plays a sound when lives equals 0, normally this event runs every tick.  This plays about 60 sounds a second and would sound pretty bad.  Adding <em>Trigger once while true</em> <strong>after</strong> the other conditions makes the event run just once when it first becomes true.  This makes the previous example only play a sound once the first time your lives reaches 0.  It must be the last condition in an event.</p><h3>Start &amp; end</h3><p><strong>On end of layout</strong><br>Triggered when the layout is ending.  This can happen when the project goes to a different layout or when the project closes.</p><p><strong>On start of layout</strong><br>Triggered when the layout begins.</p><h3>Time</h3><p><strong>Compare time</strong><br>Compare the time, in seconds, since the game began.  For example, events can be set up to run when the time reaches (equals) 10 seconds.</p><p><strong>Every X seconds</strong><br>Run the event regularly at a given time interval in seconds.  This can also be used beneath other conditions to only run the event at a given time interval while the other conditions are true, e.g. "Player is holding spacebar AND every 0.5 seconds: fire laser".</p><a name="anchor-125"></a><h2>7.2 System actions</h2><p>This section describes all the <a href="#anchor-77">actions</a> in the built-in System object in Construct 2. They are listed in the order they appear in the <a href="#anchor-51">Add Action dialog</a>.</p><h3>Display</h3><p><strong>Set canvas size</strong><br>Set the size of the canvas area in the page, if appearing inline to the page (i.e. a fullscreen mode is not used).</p><p><strong>Snapshot canvas</strong><br>Take a screenshot of the current display.  This triggers <em>On canvas snapshot</em> when the snapshot is ready, and the resulting image can be accessed with the <em>CanvasSnapshot</em> system expression.  This can then be loaded in to a sprite or tiled background, sent to a server, or opened with the Browser object in a new tab.</p><h3>General</h3><p><strong>Create object</strong><br>Create a new <a href="#anchor-71">instance</a> of an <a href="#anchor-70">object type</a> on a <a href="#anchor-85">layer</a> at a given position.  If a Family is chosen, a random object type from the family is picked, and an instance created for that.</p><p><strong>Go to layout</strong><br><strong>Go to layout (by name)</strong><br>Switch to another <a href="#anchor-67">layout</a> in the project.  Note that global variables keep their current value - they are not reset.  To reset them use the system action <em>Reset global variables</em>.</p><p><strong>Restart layout</strong><br>Restart the current layout.  Note that unlike <em>Go to layout</em>, this action resets all event groups to their initial activation state.  Global variables keep their current value - they are not reset.  To reset them use the system action <em>Reset global variables</em>.</p><p><strong>Set group active</strong><br>Set an <a href="#anchor-80">event group</a> active or inactive.  None of the events in an inactive group run until it is activated again.  The event group is identified by its name.</p><p><strong>Stop loop</strong><br>Stop a <em>Repeat</em>, <em>For</em> or <em>For each</em> loop currently running.  These loops are <a href="#anchor-124">system conditions</a>.  The rest of the event's actions and subevents will still complete, but the loop will not run any further after that.</p><h3>Global &amp; local variables</h3><p><strong>Add to</strong><br><strong>Subtract from</strong><br><strong>Set value</strong><br>Alter the value stored by a <a href="#anchor-83">global or local variable</a>.</p><p><strong>Reset global variables</strong><br>Reset all the global variables in the project to their initial value.</p><h3>Layers &amp; Layout</h3><p>For more information about the effect actions, see <a href="#anchor-146">Effects</a>.</p><p><strong>Set layer angle</strong><br>Rotate an entire <a href="#anchor-85">layer</a> by a number of degrees.</p><p><strong>Set layer effect enabled</strong><br>Enable or disable one of the effects added to a layer on the current layout.  This action cannot be used to alter layers from other layouts.</p><p><strong>Set layer effect parameter</strong><br>Change the value of one of the parameters for an effect added to a layer on the current layout. This action cannot be used to alter layers from other layouts. The parameter to change is specified by its zero-based index, i.e. 0 to change the first parameter, 1 to change the second parameter, and so on.</p><p><strong>Set layer opacity</strong><br>Set the opacity (or semitransparency) of an entire layer.</p><p><strong>Set layer scale</strong><br>Set the scale (or zoom) of an entire layer, taking in to account its <em>scale rate</em> property.</p><p><strong>Set layer scale rate</strong><br>Set the <em>scale rate</em> property of a <a href="#anchor-85">layer</a>, which affects how quickly it scales (if at all).</p><p><strong>Set layer visible</strong><br>Show or hide an entire layer.</p><p><strong>Set layout angle</strong><br>Rotate an entire <a href="#anchor-67">layout</a> by a number of degrees.  This rotates all the layers in the layout.</p><p><strong>Set layout effect enabled</strong><br>Enable or disable one of the effects added to the current layout.  This action cannot be used to alter other layouts.</p><p><strong>Set layout effect parameter</strong><br>Change the value of one of the parameters for an effect added to the current layout. This action cannot be used to alter other layouts. The parameter to change is specified by its zero-based index, i.e. 0 to change the first parameter, 1 to change the second parameter, and so on.</p><p><strong>Set layout scale</strong><br>Set the scale (or zoom) of an entire layout.  This scales all the layers in the layout, taking in to account their <em>scale rate</em> property.</p><h3>Scrolling</h3><p>To scroll, the size of the <a href="#anchor-67">layout</a> must be bigger than the size of the <a href="#anchor-66">window</a>, or the layout's <em>Unbounded scrolling</em> property must be set to <em>Yes</em>.  Otherwise there is nowhere to scroll to and scrolling will have no effect.</p><p><strong>Scroll to object</strong><br>Center the view on a given object.  This scrolls all layers taking in to account their <em>parallax</em> property.</p><p><strong>Scroll to position</strong><br><strong>Scroll to X</strong><br><strong>Scroll to Y</strong><br>Set the X and Y positions to center the view on.  This scrolls all layers taking in to account their <em>parallax</em> property.</p><h3>Time</h3><p><strong>Set time scale</strong><br>Change the rate time passes at in the game.  Useful for slow-motion or pausing effects.  See the tutorial on <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a> for more information.</p><p><strong>Set object time scale</strong><br><strong>Restore object time scale</strong><br>Change the rate time passes for a specific object.  This affects the object's behaviors and its own <em>dt</em> expression.  Restoring the object's time scale returns it to the same time scale the rest of the game is using.  See the tutorial on <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a> for more information.</p><p><strong>Wait</strong><br>Wait a number of seconds before continuing on to the next action or sub-events.  Other events continue to run in the meantime.  See also the tutorial on <a href="http://www.scirra.com/tutorials/56/how-to-use-the-system-wait-action" target="_blank">How to use the System 'Wait' action ⇗</a>.</p><a name="anchor-126"></a><h2>7.3 System expressions</h2><p>This section outlines the expressions in the built-in System object in Construct 2.  Many are common mathematical operators, and they can be listed with descriptions in the <a href="#anchor-59">Expressions panel</a>, but they are included here for completeness.</p><p>This section does not list the operators or syntax that can be used in expressions - just the expressions specific to the System object.  For more general information on how to use expressions in Construct 2, see <a href="#anchor-78">Expressions</a>.</p><h3>Display</h3><p><strong>WindowWidth</strong><br><strong>WindowHeight</strong><br>Get the size of the window.  Useful with the <em>Fullscreen in browser</em> property of the <a href="#anchor-66">project</a>, since these enable a variable window size.  See also <a href="http://www.scirra.com/tutorials/73/supporting-multiple-screen-sizes" target="_blank">Supporting multiple screen sizes ⇗</a>.</p><h3>Layers</h3><p>In expressions where a layer is required, either its name (as a string) or index (as a number, zero-based) can be entered.</p><p><strong>CanvasToLayerX(layer)</strong><br><strong>CanvasToLayerY(layer)</strong><br>Calculate the layout co-ordinates underneath a position in canvas co-ordinates for a given layer.</p><p><strong>LayerToCanvasX(layer)</strong><br><strong>LayerToCanvasY(layer)</strong><br>Calculate the canvas co-ordinates above a position in layout co-ordinates for a given layer.</p><p><strong>LayerAngle(layer)</strong><br>Get the angle, in degrees, of a layer.</p><p><strong>LayerOpacity(layer)</strong><br>Get the opacity (or semitransparency) of a layer, from 0 (transparent) to 100 (opaque).</p><p><strong>LayerScale(layer)</strong><br>Get the current scale of the layer, not including the overall layout scale.</p><p><strong>LayerScaleRate(layer)</strong><br>Get the current scale rate of the layer, which defines how quickly it scales (if at all).</p><p><strong>ViewportBottom(layer)</strong><br><strong>ViewportLeft(layer)</strong><br><strong>ViewportRight(layer)</strong><br><strong>ViewportTop(layer)</strong><br>Return the viewport boundaries in layout co-ordinates of a given layer.   Not all layers have the same viewport if they are parallaxed, scaled or rotated separately.</p><h3>Layout</h3><p><strong>CanvasSnapshot</strong><br>Contains the resulting image from a <em>Snapshot canvas</em> action after <em>On canvas snapshot</em> has run.  (Note this expression is not available immediately after the <em>Snapshot canvas</em> action - you can only use it after <em>On canvas snapshot</em> triggers.)  The expression returns a data URI of the image file.  This can be loaded in to a Sprite or Tiled Background object via <em>Load image from URL</em>, sent to a server or stored locally, or opened with the Browser object in a new tab to save to disk.</p><p><strong>LayoutAngle</strong><br>Get the angle, in degrees, of the current layout.  This does not include the rotation of individual layers.</p><p><strong>LayoutScale</strong><br>Get the current scale of the entire layout set by the <em>Set layout scale</em> action.  This does not include the scaling of individual layers.</p><p><strong>LayoutWidth</strong><br><strong>LayoutHeight</strong><br>Get the size of the current layout in pixels.</p><p><strong>LayoutName</strong><br>Get the name of the current layout.</p><p><strong>scrollx</strong><br><strong>scrolly</strong><br>Get the current position the view is centered on.</p><h3>Math</h3><p>These expressions are simply ordinary math functions like you find on calculators.  However, note that all functions using an angle take it in <strong>degrees</strong>, not radians.  Angles start with 0 degrees facing right and increment clockwise.</p><p><strong>sin(x)</strong>, <strong>cos(x)</strong>, <strong>tan(x)</strong>, <strong>asin(x)</strong>, <strong>acos(x)</strong>, <strong>atan(x)</strong> Trigonometric functions using angles in <em>degrees</em>.</p><p><strong>abs(x)</strong> Absolute value of x <em>e.g. abs(-5) = 5</em><br><strong>angle(x1, y1, x2, y2)</strong> Calculate angle between two points<br><strong>anglelerp(a, b, x)</strong> Linearly interpolate the angle <em>a</em> to <em>b</em> by <em>x</em>.  Unlike the standard <em>lerp</em>, this takes in to account the cyclical nature of angles.<br><strong>anglediff(a1, a2)</strong> Return the smallest difference between two angles<br><strong>anglerotate(start, end, step)</strong> Rotate angle <em>start</em> towards <em>end</em> by the angle <em>step</em>, all in degrees.  If <em>start</em> is less than <em>step</em> degrees away from <em>end</em>, it returns <em>end</em>.<br><strong>ceil(x)</strong> Round up x <em>e.g. ceil(5.1) = 6</em><br><strong>distance(x1, y1, x2, y2)</strong> Calculate distance between to points<br><strong>exp(x)</strong> Calculate e^x<br><strong>floor(x)</strong> Round down x <em>e.g. floor(5.9) = 5</em><br><strong>lerp(a, b, x)</strong> Linear interpolation of <em>a</em> to <em>b</em> by <em>x</em>. Calculates a + x * (b - a).<br><strong>unlerp(a, b, y)</strong> Reverse linear interpolation: if lerp(a, b, x) = y, then unlerp(a, b, y) = x.  Calculates (y - a) / (b - a).<br><strong>ln(x)</strong> Log to base e of x.<br><strong>log10(x)</strong> Log to base 10 of x.<br><strong>max(a, b [, c...])</strong>, <strong>min(a, b [, c...])</strong> Calculate maximum or minimum of the given numbers.  Any number of parameters can be used as long as there are at least two.<br><strong>pi</strong> The mathematical constant pi (3.14159...)<br><strong>round(x)</strong> Round x to the nearest whole number <em>e.g. round(5.6) = 6</em><br><strong>sqrt(x)</strong> Calculate square root of x <em>e.g. sqrt(25) = 5</em></p><h3>System</h3><p><strong>loadingprogress</strong><br>Return the current load progress on a loader layout, or the current update progress while the <a href="#anchor-110">Browser object</a>'s <em>Is downloading update</em> condition is true.  The progress is returned as a number from 0 to 1, e.g. 0.5 for half complete.  For more information, see the tutorials <a href="http://www.scirra.com/tutorials/318/how-to-use-loader-layouts-to-make-custom-loading-screens" target="_blank">how to make a custom loading screen ⇗</a> and <a href="http://www.scirra.com/tutorials/70/offline-games-in-construct-2" target="_blank">offline games in Construct 2 ⇗</a>.</p><p><strong>loopindex</strong><br>Get the index (number of repeats so far) in any currently running loop.</p><p><strong>loopindex(name)</strong><br>Get the index (number of repeats so far) of the loop with the given name.  Useful for getting indices in nested loops.</p><p><strong>objectcount</strong><br>The total number of objects currently created.</p><p><strong>projectversion</strong><br>Return the version entered in to Project Properties.  Note that this is always returned as a string, not a number.</p><p><strong>renderer</strong><br>The name of the renderer used to draw the game, currently either <em>canvas2d</em> or <em>webgl</em>.  See <a href="#anchor-35">Technology</a> for more information on canvas renderers.</p><h3>Text</h3><p><strong>find(src, text)</strong><br>Find the first index within <em>src</em> that <em>text</em> occurs, else returns -1.</p><p><strong>left(text, count)</strong><br>Return the first <em>count</em> characters of <em>text</em>.</p><p><strong>len(text)</strong><br>Return the number of characters in <em>text</em>.</p><p><strong>lowercase(text)</strong><br>Convert the given text to all lowercase.</p><p><strong>mid(text, index, count)</strong><br>Return the <em>count</em> characters starting from <em>index</em> in <em>text</em>.</p><p><strong>newline</strong><br>A string containing a line break.  Use to insert line breaks in to strings, e.g. <em>"Hello" &amp; newline &amp; "World"</em></p><p><strong>replace(src, find, rep)</strong><br>Find all occurrences of <em>find</em> in <em>src</em> and replace them with <em>rep</em>.</p><p><strong>right(text, count)</strong><br>Return the last <em>count</em> characters of <em>text</em>.</p><p><strong>tokenat(src, index, separator)</strong><br>Return the Nth token from <em>src</em>, splitting the string by <em>separator</em>.  For example, <em>tokenat("apples|oranges|bananas", 1, "|")</em> returns <em>oranges</em>.</p><p><strong>tokencount(src, separator)</strong><br>Count how many tokens occur in <em>src</em> using <em>separator</em>.  For example, <em>tokencount("apples|oranges|bananas", "|")</em> returns 3.</p><p><strong>trim(src)</strong><br>Return <em>src</em> with all whitespace (spaces, tabs etc.) removed from the beginning and end of the string.</p><p><strong>uppercase(text)</strong><br>Convert the given text to all uppercase.</p><p><strong>URLEncode(str)</strong><br><strong>URLDecode(str)</strong><br>Convert to and from a string in a format suitable for including in a URL or POST data.</p><p><strong>zeropad(number, digits)</strong><br>Pad <em>number</em> out to a certain number of <em>digits</em> by adding zeroes in front of the number, then returning the result as a string.  For example, <em>zeropad(45, 5)</em> returns the string "00045".</p><h3>Time</h3><p><strong>CPUUtilisation</strong><br>The percentage of the last second that was spent in the application logic.  This is for advanced users to make performance measurements.  Note on hardware-accelerated devices the rendering happens on the separate GPU and therefore this measurement cannot tell you anything about how fast or slow the rendering is; for that <em>fps</em> is a better measure.</p><p><strong>dt</strong><br>Delta-time in seconds.  See <a href="http://www.scirra.com/tutorials/67/delta-time-and-framerate-independence" target="_blank">Delta-time and framerate independence ⇗</a>.</p><p><strong>fps</strong><br>The current frames per second (FPS) rate, which is how many times the screen is being drawn every second.  Most computers run at 60 fps if they are fast enough.</p><p><strong>tickcount</strong><br>The number of ticks that have run since the game started.</p><p><strong>time</strong><br>The number of seconds since the game started, taking in to account the time scale.</p><p><strong>timescale</strong><br>The current time scale.</p><p><strong>wallclocktime</strong><br>The number of seconds since the game started, not taking in to account the time scale (i.e. the real-world time).</p><h3>Values</h3><p><strong>choose(a, b [, c...])</strong><br>Choose one of the given parameters at random.  E.g. <em>choose(1, 3, 9, 20)</em> randomly picks one of the four numbers and returns that.  This also works with strings, e.g. <em>choose("Hello", "Hi")</em> returns either <em>Hello</em> or <em>Hi</em>.  Any number of parameters can be used as long as there are at least two.</p><p><strong>clamp(x, lower, upper)</strong><br>Return <em>lower</em> if <em>x</em> is less than <em>lower</em>, <em>upper</em> if <em>x</em> is greater than <em>upper</em>, else return <em>x</em>.</p><p><strong>float(x)</strong><br>Convert the integer or text <em>x</em> to a float (fractional number).</p><p><strong>int(x)</strong><br>Convert the float or text <em>x</em> to an integer (whole number).</p><p><strong>random(x)</strong><br>Generate a random float from 0 to <em>x</em>, not including <em>x</em>.  E.g. <em>random(4)</em> can generate 0, 2.5, 3.29293, but not 4.  Use <em>floor(random(4))</em> to generate just the whole numbers 0, 1, 2, 3.</p><p><strong>random(a, b)</strong><br>Generate a random float between <em>a</em> and <em>b</em>, including <em>a</em> but not including <em>b</em>.</p><p><strong>rgb(r, g, b)</strong><br>Generate a single number containing a color in RGB format.  This is useful for conditions or actions taking a color parameter.</p><p><strong>str(x)</strong><br>Convert the integer or float <em>x</em> to a string.  Generally not necessary since strings can be built using the <strong>&amp;</strong> operator, e.g. <em>"Your score is " &amp; score</em></p></div><img src="./manual_files/Back-Cover.jpg" class="bcover"></div>
</body></html>